var pl=e=>{throw TypeError(e)};var Ia=(e,t,r)=>t.has(e)||pl("Cannot "+r);var N=(e,t,r)=>(Ia(e,t,"read from private field"),r?r.call(e):t.get(e)),fe=(e,t,r)=>t.has(e)?pl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ne=(e,t,r,n)=>(Ia(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),we=(e,t,r)=>(Ia(e,t,"access private method"),r);var Cn=(e,t,r,n)=>({set _(a){ne(e,t,a,r)},get _(){return N(e,t,n)}});import{j as s,c as Xf,a as Jt,u as ot,B as Jf,P as Ge,V as Wc,b as Rs,d as Ht,e as Ut,f as Ne,R as Zf,g as Kc,h as Qc,i as e0,k as aa,A as Ho,D as Yc,C as Xc,l as t0,m as Jc,n as Zc,S as r0,O as Wo,o as Ko,T as Qo,p as Yo,q as ed,r as td,s as rd,t as Xo,v as Jo,w as Zo,x as s0,y as n0,z as a0,F as o0,E as i0,G as sd,H as l0,I as nd,J as c0,K as ad,L as od,M as d0,N as id,Q as u0,U as ld,W as cd,X as m0,Y as h0,Z as dd,_ as p0,$ as f0,a0 as oa,a1 as ei,a2 as ud,a3 as md,a4 as hd,a5 as g0,a6 as pd,a7 as fd,a8 as x0,a9 as gd,aa as xd,ab as bd,ac as vd,ad as yd,ae as wd,af as kd,ag as b0,ah as v0,ai as y0}from"./ui-vendor-B9kWoGQt.js";import{a as xn,r as p,c as w0,R as ke,b as k0}from"./react-vendor--0RGCJ5T.js";import{L as ia,M as j0,T as N0,a as C0,P as S0,u as jd}from"./map-vendor-B4467gFJ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Nd,fl=xn;Nd=fl.createRoot,fl.hydrateRoot;function E0(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,o,i=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(i.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),o=a.indexOf(".",1),i.push(a.substring(1,~n?n:~o?o:a.length)),l+=~n&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(l+=(~n?"?":"")+"\\"+a.substring(o))):l+="/"+a;return{keys:i,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var Cd={exports:{}},Sd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=p;function R0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var D0=typeof Object.is=="function"?Object.is:R0,P0=bs.useState,I0=bs.useEffect,T0=bs.useLayoutEffect,A0=bs.useDebugValue;function O0(e,t){var r=t(),n=P0({inst:{value:r,getSnapshot:t}}),a=n[0].inst,o=n[1];return T0(function(){a.value=r,a.getSnapshot=t,Ta(a)&&o({inst:a})},[e,r,t]),I0(function(){return Ta(a)&&o({inst:a}),e(function(){Ta(a)&&o({inst:a})})},[e]),A0(r),r}function Ta(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!D0(e,r)}catch{return!0}}function L0(e,t){return t()}var M0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?L0:O0;Sd.useSyncExternalStore=bs.useSyncExternalStore!==void 0?bs.useSyncExternalStore:M0;Cd.exports=Sd;var F0=Cd.exports;const _0=w0.useInsertionEffect,z0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$0=z0?p.useLayoutEffect:p.useEffect,B0=_0||$0,Ed=e=>{const t=p.useRef([e,(...r)=>t[0](...r)]).current;return B0(()=>{t[0]=e}),t[1]},U0="popstate",ti="pushState",ri="replaceState",G0="hashchange",gl=[U0,ti,ri,G0],V0=e=>{for(const t of gl)addEventListener(t,e);return()=>{for(const t of gl)removeEventListener(t,e)}},Rd=(e,t)=>F0.useSyncExternalStore(V0,e,t),q0=()=>location.search,H0=({ssrSearch:e=""}={})=>Rd(q0,()=>e),xl=()=>location.pathname,W0=({ssrPath:e}={})=>Rd(xl,e?()=>e:xl),K0=(e,{replace:t=!1,state:r=null}={})=>history[t?ri:ti](r,"",e),Q0=(e={})=>[W0(e),K0],bl=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[bl]>"u"){for(const e of[ti,ri]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,bl,{value:!0})}const Y0=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Dd=(e="")=>e==="/"?"":e,X0=(e,t)=>e[0]==="~"?e.slice(1):Dd(t)+e,J0=(e="",t)=>Y0(vl(Dd(e)),vl(t)),vl=e=>{try{return decodeURI(e)}catch{return e}},Pd={hook:Q0,searchHook:H0,parser:E0,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Id=p.createContext(Pd),Ds=()=>p.useContext(Id),Td={},Ad=p.createContext(Td),Z0=()=>p.useContext(Ad),la=e=>{const[t,r]=e.hook(e);return[J0(e.base,t),Ed((n,a)=>r(X0(n,e.base),a))]},si=()=>la(Ds()),ni=(e,t,r,n)=>{const{pattern:a,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),i=a.exec(r)||[],[l,...c]=i;return l!==void 0?[!0,(()=>{const d=o!==!1?Object.fromEntries(o.map((u,m)=>[u,c[m]])):i.groups;let h={...c};return d&&Object.assign(h,d),h})(),...n?[l]:[]]:[!1,null]},Od=e=>ni(Ds().parser,e,si()[0]),eg=({children:e,...t})=>{var h,u;const r=Ds(),n=t.hook?Pd:r;let a=n;const[o,i]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=o),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let l=p.useRef({}),c=l.current,d=c;for(let m in n){const f=m==="base"?n[m]+(t[m]||""):t[m]||n[m];c===d&&f!==d[m]&&(l.current=d={...d}),d[m]=f,f!==n[m]&&(a=d)}return p.createElement(Id.Provider,{value:a,children:e})},yl=({children:e,component:t},r)=>t?p.createElement(t,{params:r}):typeof e=="function"?e(r):e,tg=e=>{let t=p.useRef(Td),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Xr=({path:e,nest:t,match:r,...n})=>{const a=Ds(),[o]=la(a),[i,l,c]=r??ni(a.parser,e,o,t),d=tg({...Z0(),...l});if(!i)return null;const h=c?p.createElement(eg,{base:c},yl(n,d)):yl(n,d);return p.createElement(Ad.Provider,{value:d,children:h})},rg=p.forwardRef((e,t)=>{const r=Ds(),[n,a]=la(r),{to:o="",href:i=o,onClick:l,asChild:c,children:d,className:h,replace:u,state:m,...f}=e,x=Ed(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),a(i,e)))}),b=r.hrefs(i[0]==="~"?i.slice(1):r.base+i,r);return c&&p.isValidElement(d)?p.cloneElement(d,{onClick:x,href:b}):p.createElement("a",{...f,onClick:x,href:b,className:h!=null&&h.call?h(n===i):h,children:d,ref:t})}),Ld=e=>Array.isArray(e)?e.flatMap(t=>Ld(t&&t.type===p.Fragment?t.props.children:t)):[e],sg=({children:e,location:t})=>{const r=Ds(),[n]=la(r);for(const a of Ld(e)){let o=0;if(p.isValidElement(a)&&(o=ni(r.parser,a.props.path,t||n,a.props.nest))[0])return p.cloneElement(a,{match:o})}return null};var Ps=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qr=typeof window>"u"||"Deno"in globalThis;function Ot(){}function ng(e,t){return typeof e=="function"?e(t):e}function oo(e){return typeof e=="number"&&e>=0&&e!==1/0}function Md(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Jr(e,t){return typeof e=="function"?e(t):e}function Bt(e,t){return typeof e=="function"?e(t):e}function wl(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==ai(i,t.options))return!1}else if(!Js(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function kl(e,t){const{exact:r,status:n,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Hr(t.options.mutationKey)!==Hr(o))return!1}else if(!Js(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function ai(e,t){return((t==null?void 0:t.queryKeyHashFn)||Hr)(e)}function Hr(e){return JSON.stringify(e,(t,r)=>io(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Js(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Js(e[r],t[r])):!1}function Fd(e,t){if(e===t)return e;const r=jl(e)&&jl(t);if(r||io(e)&&io(t)){const n=r?e:Object.keys(e),a=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{};let c=0;for(let d=0;d<i;d++){const h=r?d:o[d];(!r&&n.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=Fd(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return a===i&&c===a?e:l}return t}function zn(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function jl(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function io(e){if(!Nl(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Nl(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Nl(e){return Object.prototype.toString.call(e)==="[object Object]"}function ag(e){return new Promise(t=>{setTimeout(t,e)})}function lo(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Fd(e,t):t}function og(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ig(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var oi=Symbol();function _d(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===oi?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Fr,hr,as,Fc,lg=(Fc=class extends Ps{constructor(){super();fe(this,Fr);fe(this,hr);fe(this,as);ne(this,as,t=>{if(!qr&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,hr)||this.setEventListener(N(this,as))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,hr))==null||t.call(this),ne(this,hr,void 0))}setEventListener(t){var r;ne(this,as,t),(r=N(this,hr))==null||r.call(this),ne(this,hr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){N(this,Fr)!==t&&(ne(this,Fr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof N(this,Fr)=="boolean"?N(this,Fr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Fr=new WeakMap,hr=new WeakMap,as=new WeakMap,Fc),ii=new lg,os,pr,is,_c,cg=(_c=class extends Ps{constructor(){super();fe(this,os,!0);fe(this,pr);fe(this,is);ne(this,is,t=>{if(!qr&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,pr)||this.setEventListener(N(this,is))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,pr))==null||t.call(this),ne(this,pr,void 0))}setEventListener(t){var r;ne(this,is,t),(r=N(this,pr))==null||r.call(this),ne(this,pr,t(this.setOnline.bind(this)))}setOnline(t){N(this,os)!==t&&(ne(this,os,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return N(this,os)}},os=new WeakMap,pr=new WeakMap,is=new WeakMap,_c),$n=new cg;function co(){let e,t;const r=new Promise((a,o)=>{e=a,t=o});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function dg(e){return Math.min(1e3*2**e,3e4)}function zd(e){return(e??"online")==="online"?$n.isOnline():!0}var $d=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Aa(e){return e instanceof $d}function Bd(e){let t=!1,r=0,n=!1,a;const o=co(),i=b=>{var g;n||(m(new $d(b)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>ii.isFocused()&&(e.networkMode==="always"||$n.isOnline())&&e.canRun(),h=()=>zd(e.networkMode)&&e.canRun(),u=b=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,b),a==null||a(),o.resolve(b))},m=b=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,b),a==null||a(),o.reject(b))},f=()=>new Promise(b=>{var g;a=v=>{(n||d())&&b(v)},(g=e.onPause)==null||g.call(e)}).then(()=>{var b;a=void 0,n||(b=e.onContinue)==null||b.call(e)}),x=()=>{if(n)return;let b;const g=r===0?e.initialPromise:void 0;try{b=g??e.fn()}catch(v){b=Promise.reject(v)}Promise.resolve(b).then(u).catch(v=>{var E;if(n)return;const y=e.retry??(qr?0:3),w=e.retryDelay??dg,k=typeof w=="function"?w(r,v):w,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,v);if(t||!j){m(v);return}r++,(E=e.onFail)==null||E.call(e,r,v),ag(k).then(()=>d()?void 0:f()).then(()=>{t?m(v):x()})})};return{promise:o,cancel:i,continue:()=>(a==null||a(),o),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?x():f().then(x),o)}}function ug(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const o=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var st=ug(),_r,zc,Ud=(zc=class{constructor(){fe(this,_r)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oo(this.gcTime)&&ne(this,_r,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qr?1/0:5*60*1e3))}clearGcTimeout(){N(this,_r)&&(clearTimeout(N(this,_r)),ne(this,_r,void 0))}},_r=new WeakMap,zc),ls,cs,At,dt,hn,zr,$t,sr,$c,mg=($c=class extends Ud{constructor(t){super();fe(this,$t);fe(this,ls);fe(this,cs);fe(this,At);fe(this,dt);fe(this,hn);fe(this,zr);ne(this,zr,!1),ne(this,hn,t.defaultOptions),this.setOptions(t.options),this.observers=[],ne(this,At,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ne(this,ls,hg(this.options)),this.state=t.state??N(this,ls),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,dt))==null?void 0:t.promise}setOptions(t){this.options={...N(this,hn),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,At).remove(this)}setData(t,r){const n=lo(this.state.data,t,this.options);return we(this,$t,sr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){we(this,$t,sr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=N(this,dt))==null?void 0:n.promise;return(a=N(this,dt))==null||a.cancel(t),r?r.then(Ot).catch(Ot):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,ls))}isActive(){return this.observers.some(t=>Bt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oi||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Md(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,dt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,dt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,At).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(N(this,dt)&&(N(this,zr)?N(this,dt).cancel({revert:!0}):N(this,dt).cancelRetry()),this.scheduleGc()),N(this,At).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||we(this,$t,sr).call(this,{type:"invalidate"})}fetch(t,r){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,dt))return N(this,dt).continueRetry(),N(this,dt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(m=>m.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,a=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(ne(this,zr,!0),n.signal)})},o=()=>{const u=_d(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return a(m),ne(this,zr,!1),this.options.persister?this.options.persister(u,m,this):u(m)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(i),(c=this.options.behavior)==null||c.onFetch(i,this),ne(this,cs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&we(this,$t,sr).call(this,{type:"fetch",meta:(h=i.fetchOptions)==null?void 0:h.meta});const l=u=>{var m,f,x,b;Aa(u)&&u.silent||we(this,$t,sr).call(this,{type:"error",error:u}),Aa(u)||((f=(m=N(this,At).config).onError)==null||f.call(m,u,this),(b=(x=N(this,At).config).onSettled)==null||b.call(x,this.state.data,u,this)),this.scheduleGc()};return ne(this,dt,Bd({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{var m,f,x,b;if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(g){l(g);return}(f=(m=N(this,At).config).onSuccess)==null||f.call(m,u,this),(b=(x=N(this,At).config).onSettled)==null||b.call(x,u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,m)=>{we(this,$t,sr).call(this,{type:"failed",failureCount:u,error:m})},onPause:()=>{we(this,$t,sr).call(this,{type:"pause"})},onContinue:()=>{we(this,$t,sr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),N(this,dt).start()}},ls=new WeakMap,cs=new WeakMap,At=new WeakMap,dt=new WeakMap,hn=new WeakMap,zr=new WeakMap,$t=new WeakSet,sr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Gd(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Aa(a)&&a.revert&&N(this,cs)?{...N(this,cs),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),st.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,At).notify({query:this,type:"updated",action:t})})},$c);function Gd(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zd(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function hg(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Kt,Bc,pg=(Bc=class extends Ps{constructor(t={}){super();fe(this,Kt);this.config=t,ne(this,Kt,new Map)}build(t,r,n){const a=r.queryKey,o=r.queryHash??ai(a,r);let i=this.get(o);return i||(i=new mg({cache:this,queryKey:a,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){N(this,Kt).has(t.queryHash)||(N(this,Kt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=N(this,Kt).get(t.queryHash);r&&(t.destroy(),r===t&&N(this,Kt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){st.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,Kt).get(t)}getAll(){return[...N(this,Kt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wl(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>wl(t,n)):r}notify(t){st.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){st.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){st.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Kt=new WeakMap,Bc),Qt,gt,$r,Yt,mr,Uc,fg=(Uc=class extends Ud{constructor(t){super();fe(this,Yt);fe(this,Qt);fe(this,gt);fe(this,$r);this.mutationId=t.mutationId,ne(this,gt,t.mutationCache),ne(this,Qt,[]),this.state=t.state||Vd(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,Qt).includes(t)||(N(this,Qt).push(t),this.clearGcTimeout(),N(this,gt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ne(this,Qt,N(this,Qt).filter(r=>r!==t)),this.scheduleGc(),N(this,gt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,Qt).length||(this.state.status==="pending"?this.scheduleGc():N(this,gt).remove(this))}continue(){var t;return((t=N(this,$r))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,i,l,c,d,h,u,m,f,x,b,g,v,y,w,k,j,E,C;ne(this,$r,Bd({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,T)=>{we(this,Yt,mr).call(this,{type:"failed",failureCount:D,error:T})},onPause:()=>{we(this,Yt,mr).call(this,{type:"pause"})},onContinue:()=>{we(this,Yt,mr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,gt).canRun(this)}));const r=this.state.status==="pending",n=!N(this,$r).canStart();try{if(!r){we(this,Yt,mr).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(a=N(this,gt).config).onMutate)==null?void 0:o.call(a,t,this));const T=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));T!==this.state.context&&we(this,Yt,mr).call(this,{type:"pending",context:T,variables:t,isPaused:n})}const D=await N(this,$r).start();return await((d=(c=N(this,gt).config).onSuccess)==null?void 0:d.call(c,D,t,this.state.context,this)),await((u=(h=this.options).onSuccess)==null?void 0:u.call(h,D,t,this.state.context)),await((f=(m=N(this,gt).config).onSettled)==null?void 0:f.call(m,D,null,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,D,null,t,this.state.context)),we(this,Yt,mr).call(this,{type:"success",data:D}),D}catch(D){try{throw await((v=(g=N(this,gt).config).onError)==null?void 0:v.call(g,D,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,D,t,this.state.context)),await((j=(k=N(this,gt).config).onSettled)==null?void 0:j.call(k,void 0,D,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,D,t,this.state.context)),D}finally{we(this,Yt,mr).call(this,{type:"error",error:D})}}finally{N(this,gt).runNext(this)}}},Qt=new WeakMap,gt=new WeakMap,$r=new WeakMap,Yt=new WeakSet,mr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),st.batch(()=>{N(this,Qt).forEach(n=>{n.onMutationUpdate(t)}),N(this,gt).notify({mutation:this,type:"updated",action:t})})},Uc);function Vd(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ct,pn,Gc,gg=(Gc=class extends Ps{constructor(t={}){super();fe(this,Ct);fe(this,pn);this.config=t,ne(this,Ct,new Map),ne(this,pn,Date.now())}build(t,r,n){const a=new fg({mutationCache:this,mutationId:++Cn(this,pn)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=Sn(t),n=N(this,Ct).get(r)??[];n.push(t),N(this,Ct).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Sn(t);if(N(this,Ct).has(r)){const a=(n=N(this,Ct).get(r))==null?void 0:n.filter(o=>o!==t);a&&(a.length===0?N(this,Ct).delete(r):N(this,Ct).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=N(this,Ct).get(Sn(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=N(this,Ct).get(Sn(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){st.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...N(this,Ct).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>kl(r,n))}findAll(t={}){return this.getAll().filter(r=>kl(t,r))}notify(t){st.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return st.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ot))))}},Ct=new WeakMap,pn=new WeakMap,Gc);function Sn(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Cl(e){return{onFetch:(t,r)=>{var h,u,m,f,x;const n=t.options,a=(m=(u=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:u.fetchMore)==null?void 0:m.direction,o=((f=t.state.data)==null?void 0:f.pages)||[],i=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let b=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},v=_d(t.options,t.fetchOptions),y=async(w,k,j)=>{if(b)return Promise.reject();if(k==null&&w.pages.length)return Promise.resolve(w);const E={queryKey:t.queryKey,pageParam:k,direction:j?"backward":"forward",meta:t.options.meta};g(E);const C=await v(E),{maxPages:D}=t.options,T=j?ig:og;return{pages:T(w.pages,C,D),pageParams:T(w.pageParams,k,D)}};if(a&&o.length){const w=a==="backward",k=w?xg:Sl,j={pages:o,pageParams:i},E=k(n,j);l=await y(j,E,w)}else{const w=e??o.length;do{const k=c===0?i[0]??n.initialPageParam:Sl(n,l);if(c>0&&k==null)break;l=await y(l,k),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var b,g;return(g=(b=t.options).persister)==null?void 0:g.call(b,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Sl(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function xg(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ze,fr,gr,ds,us,xr,ms,hs,Vc,bg=(Vc=class{constructor(e={}){fe(this,Ze);fe(this,fr);fe(this,gr);fe(this,ds);fe(this,us);fe(this,xr);fe(this,ms);fe(this,hs);ne(this,Ze,e.queryCache||new pg),ne(this,fr,e.mutationCache||new gg),ne(this,gr,e.defaultOptions||{}),ne(this,ds,new Map),ne(this,us,new Map),ne(this,xr,0)}mount(){Cn(this,xr)._++,N(this,xr)===1&&(ne(this,ms,ii.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Ze).onFocus())})),ne(this,hs,$n.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Ze).onOnline())})))}unmount(){var e,t;Cn(this,xr)._--,N(this,xr)===0&&((e=N(this,ms))==null||e.call(this),ne(this,ms,void 0),(t=N(this,hs))==null||t.call(this),ne(this,hs,void 0))}isFetching(e){return N(this,Ze).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,fr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,Ze).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=N(this,Ze).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Jr(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return N(this,Ze).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=N(this,Ze).get(n.queryHash),o=a==null?void 0:a.state.data,i=ng(t,o);if(i!==void 0)return N(this,Ze).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return st.batch(()=>N(this,Ze).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,Ze).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=N(this,Ze);st.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=N(this,Ze),n={type:"active",...e};return st.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=st.batch(()=>N(this,Ze).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ot).catch(Ot)}invalidateQueries(e={},t={}){return st.batch(()=>{if(N(this,Ze).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=st.batch(()=>N(this,Ze).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(Ot)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Ot)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=N(this,Ze).build(this,t);return r.isStaleByTime(Jr(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ot).catch(Ot)}fetchInfiniteQuery(e){return e.behavior=Cl(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ot).catch(Ot)}ensureInfiniteQueryData(e){return e.behavior=Cl(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $n.isOnline()?N(this,fr).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Ze)}getMutationCache(){return N(this,fr)}getDefaultOptions(){return N(this,gr)}setDefaultOptions(e){ne(this,gr,e)}setQueryDefaults(e,t){N(this,ds).set(Hr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,ds).values()];let r={};return t.forEach(n=>{Js(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){N(this,us).set(Hr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,us).values()];let r={};return t.forEach(n=>{Js(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,gr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ai(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===oi&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,gr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,Ze).clear(),N(this,fr).clear()}},Ze=new WeakMap,fr=new WeakMap,gr=new WeakMap,ds=new WeakMap,us=new WeakMap,xr=new WeakMap,ms=new WeakMap,hs=new WeakMap,Vc),wt,Ee,fn,xt,Br,ps,br,Xt,gn,fs,gs,Ur,Gr,vr,xs,Fe,Vs,uo,mo,ho,po,fo,go,xo,qd,qc,vg=(qc=class extends Ps{constructor(t,r){super();fe(this,Fe);fe(this,wt);fe(this,Ee);fe(this,fn);fe(this,xt);fe(this,Br);fe(this,ps);fe(this,br);fe(this,Xt);fe(this,gn);fe(this,fs);fe(this,gs);fe(this,Ur);fe(this,Gr);fe(this,vr);fe(this,xs,new Set);this.options=r,ne(this,wt,t),ne(this,Xt,null),ne(this,br,co()),this.options.experimental_prefetchInRender||N(this,br).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,Ee).addObserver(this),El(N(this,Ee),this.options)?we(this,Fe,Vs).call(this):this.updateResult(),we(this,Fe,po).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bo(N(this,Ee),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bo(N(this,Ee),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,we(this,Fe,fo).call(this),we(this,Fe,go).call(this),N(this,Ee).removeObserver(this)}setOptions(t,r){const n=this.options,a=N(this,Ee);if(this.options=N(this,wt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bt(this.options.enabled,N(this,Ee))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");we(this,Fe,xo).call(this),N(this,Ee).setOptions(this.options),n._defaulted&&!zn(this.options,n)&&N(this,wt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,Ee),observer:this});const o=this.hasListeners();o&&Rl(N(this,Ee),a,this.options,n)&&we(this,Fe,Vs).call(this),this.updateResult(r),o&&(N(this,Ee)!==a||Bt(this.options.enabled,N(this,Ee))!==Bt(n.enabled,N(this,Ee))||Jr(this.options.staleTime,N(this,Ee))!==Jr(n.staleTime,N(this,Ee)))&&we(this,Fe,uo).call(this);const i=we(this,Fe,mo).call(this);o&&(N(this,Ee)!==a||Bt(this.options.enabled,N(this,Ee))!==Bt(n.enabled,N(this,Ee))||i!==N(this,vr))&&we(this,Fe,ho).call(this,i)}getOptimisticResult(t){const r=N(this,wt).getQueryCache().build(N(this,wt),t),n=this.createResult(r,t);return wg(this,n)&&(ne(this,xt,n),ne(this,ps,this.options),ne(this,Br,N(this,Ee).state)),n}getCurrentResult(){return N(this,xt)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){N(this,xs).add(t)}getCurrentQuery(){return N(this,Ee)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=N(this,wt).defaultQueryOptions(t),n=N(this,wt).getQueryCache().build(N(this,wt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return we(this,Fe,Vs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,xt)))}createResult(t,r){var D;const n=N(this,Ee),a=this.options,o=N(this,xt),i=N(this,Br),l=N(this,ps),d=t!==n?t.state:N(this,fn),{state:h}=t;let u={...h},m=!1,f;if(r._optimisticResults){const T=this.hasListeners(),$=!T&&El(t,r),M=T&&Rl(t,n,r,a);($||M)&&(u={...u,...Gd(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:g}=u;if(r.select&&u.data!==void 0)if(o&&u.data===(i==null?void 0:i.data)&&r.select===N(this,gn))f=N(this,fs);else try{ne(this,gn,r.select),f=r.select(u.data),f=lo(o==null?void 0:o.data,f,r),ne(this,fs,f),ne(this,Xt,null)}catch(T){ne(this,Xt,T)}else f=u.data;if(r.placeholderData!==void 0&&f===void 0&&g==="pending"){let T;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))T=o.data;else if(T=typeof r.placeholderData=="function"?r.placeholderData((D=N(this,gs))==null?void 0:D.state.data,N(this,gs)):r.placeholderData,r.select&&T!==void 0)try{T=r.select(T),ne(this,Xt,null)}catch($){ne(this,Xt,$)}T!==void 0&&(g="success",f=lo(o==null?void 0:o.data,T,r),m=!0)}N(this,Xt)&&(x=N(this,Xt),f=N(this,fs),b=Date.now(),g="error");const v=u.fetchStatus==="fetching",y=g==="pending",w=g==="error",k=y&&v,j=f!==void 0,C={status:g,fetchStatus:u.fetchStatus,isPending:y,isSuccess:g==="success",isError:w,isInitialLoading:k,isLoading:k,data:f,dataUpdatedAt:u.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:w&&!j,isPaused:u.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&j,isStale:li(t,r),refetch:this.refetch,promise:N(this,br)};if(this.options.experimental_prefetchInRender){const T=U=>{C.status==="error"?U.reject(C.error):C.data!==void 0&&U.resolve(C.data)},$=()=>{const U=ne(this,br,C.promise=co());T(U)},M=N(this,br);switch(M.status){case"pending":t.queryHash===n.queryHash&&T(M);break;case"fulfilled":(C.status==="error"||C.data!==M.value)&&$();break;case"rejected":(C.status!=="error"||C.error!==M.reason)&&$();break}}return C}updateResult(t){const r=N(this,xt),n=this.createResult(N(this,Ee),this.options);if(ne(this,Br,N(this,Ee).state),ne(this,ps,this.options),N(this,Br).data!==void 0&&ne(this,gs,N(this,Ee)),zn(n,r))return;ne(this,xt,n);const a={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!N(this,xs).size)return!0;const c=new Set(l??N(this,xs));return this.options.throwOnError&&c.add("error"),Object.keys(N(this,xt)).some(d=>{const h=d;return N(this,xt)[h]!==r[h]&&c.has(h)})};(t==null?void 0:t.listeners)!==!1&&o()&&(a.listeners=!0),we(this,Fe,qd).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&we(this,Fe,po).call(this)}},wt=new WeakMap,Ee=new WeakMap,fn=new WeakMap,xt=new WeakMap,Br=new WeakMap,ps=new WeakMap,br=new WeakMap,Xt=new WeakMap,gn=new WeakMap,fs=new WeakMap,gs=new WeakMap,Ur=new WeakMap,Gr=new WeakMap,vr=new WeakMap,xs=new WeakMap,Fe=new WeakSet,Vs=function(t){we(this,Fe,xo).call(this);let r=N(this,Ee).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ot)),r},uo=function(){we(this,Fe,fo).call(this);const t=Jr(this.options.staleTime,N(this,Ee));if(qr||N(this,xt).isStale||!oo(t))return;const n=Md(N(this,xt).dataUpdatedAt,t)+1;ne(this,Ur,setTimeout(()=>{N(this,xt).isStale||this.updateResult()},n))},mo=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,Ee)):this.options.refetchInterval)??!1},ho=function(t){we(this,Fe,go).call(this),ne(this,vr,t),!(qr||Bt(this.options.enabled,N(this,Ee))===!1||!oo(N(this,vr))||N(this,vr)===0)&&ne(this,Gr,setInterval(()=>{(this.options.refetchIntervalInBackground||ii.isFocused())&&we(this,Fe,Vs).call(this)},N(this,vr)))},po=function(){we(this,Fe,uo).call(this),we(this,Fe,ho).call(this,we(this,Fe,mo).call(this))},fo=function(){N(this,Ur)&&(clearTimeout(N(this,Ur)),ne(this,Ur,void 0))},go=function(){N(this,Gr)&&(clearInterval(N(this,Gr)),ne(this,Gr,void 0))},xo=function(){const t=N(this,wt).getQueryCache().build(N(this,wt),this.options);if(t===N(this,Ee))return;const r=N(this,Ee);ne(this,Ee,t),ne(this,fn,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},qd=function(t){st.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(N(this,xt))}),N(this,wt).getQueryCache().notify({query:N(this,Ee),type:"observerResultsUpdated"})})},qc);function yg(e,t){return Bt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function El(e,t){return yg(e,t)||e.state.data!==void 0&&bo(e,t,t.refetchOnMount)}function bo(e,t,r){if(Bt(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&li(e,t)}return!1}function Rl(e,t,r,n){return(e!==t||Bt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&li(e,r)}function li(e,t){return Bt(t.enabled,e)!==!1&&e.isStaleByTime(Jr(t.staleTime,e))}function wg(e,t){return!zn(e.getCurrentResult(),t)}var yr,wr,kt,ar,or,Tn,vo,Hc,kg=(Hc=class extends Ps{constructor(r,n){super();fe(this,or);fe(this,yr);fe(this,wr);fe(this,kt);fe(this,ar);ne(this,yr,r),this.setOptions(n),this.bindMethods(),we(this,or,Tn).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=N(this,yr).defaultMutationOptions(r),zn(this.options,n)||N(this,yr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,kt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Hr(n.mutationKey)!==Hr(this.options.mutationKey)?this.reset():((a=N(this,kt))==null?void 0:a.state.status)==="pending"&&N(this,kt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=N(this,kt))==null||r.removeObserver(this)}onMutationUpdate(r){we(this,or,Tn).call(this),we(this,or,vo).call(this,r)}getCurrentResult(){return N(this,wr)}reset(){var r;(r=N(this,kt))==null||r.removeObserver(this),ne(this,kt,void 0),we(this,or,Tn).call(this),we(this,or,vo).call(this)}mutate(r,n){var a;return ne(this,ar,n),(a=N(this,kt))==null||a.removeObserver(this),ne(this,kt,N(this,yr).getMutationCache().build(N(this,yr),this.options)),N(this,kt).addObserver(this),N(this,kt).execute(r)}},yr=new WeakMap,wr=new WeakMap,kt=new WeakMap,ar=new WeakMap,or=new WeakSet,Tn=function(){var n;const r=((n=N(this,kt))==null?void 0:n.state)??Vd();ne(this,wr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},vo=function(r){st.batch(()=>{var n,a,o,i,l,c,d,h;if(N(this,ar)&&this.hasListeners()){const u=N(this,wr).variables,m=N(this,wr).context;(r==null?void 0:r.type)==="success"?((a=(n=N(this,ar)).onSuccess)==null||a.call(n,r.data,u,m),(i=(o=N(this,ar)).onSettled)==null||i.call(o,r.data,null,u,m)):(r==null?void 0:r.type)==="error"&&((c=(l=N(this,ar)).onError)==null||c.call(l,r.error,u,m),(h=(d=N(this,ar)).onSettled)==null||h.call(d,void 0,r.error,u,m))}this.listeners.forEach(u=>{u(N(this,wr))})})},Hc),Hd=p.createContext(void 0),Qr=e=>{const t=p.useContext(Hd);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},jg=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Hd.Provider,{value:e,children:t})),Wd=p.createContext(!1),Ng=()=>p.useContext(Wd);Wd.Provider;function Cg(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Sg=p.createContext(Cg()),Eg=()=>p.useContext(Sg);function Kd(e,t){return typeof e=="function"?e(...t):!!e}function yo(){}var Rg=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Dg=e=>{p.useEffect(()=>{e.clearReset()},[e])},Pg=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&Kd(r,[e.error,n]),Ig=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Tg=(e,t)=>e.isLoading&&e.isFetching&&!t,Ag=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Dl=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Og(e,t,r){var h,u,m,f,x;const n=Qr(),a=Ng(),o=Eg(),i=n.defaultQueryOptions(e);(u=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||u.call(h,i),i._optimisticResults=a?"isRestoring":"optimistic",Ig(i),Rg(i,o),Dg(o);const l=!n.getQueryCache().get(i.queryHash),[c]=p.useState(()=>new t(n,i)),d=c.getOptimisticResult(i);if(p.useSyncExternalStore(p.useCallback(b=>{const g=a?yo:c.subscribe(st.batchCalls(b));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),Ag(i,d))throw Dl(i,c,o);if(Pg({result:d,errorResetBoundary:o,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw d.error;if((f=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||f.call(m,i,d),i.experimental_prefetchInRender&&!qr&&Tg(d,a)){const b=l?Dl(i,c,o):(x=n.getQueryCache().get(i.queryHash))==null?void 0:x.promise;b==null||b.catch(yo).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?d:c.trackResult(d)}function qt(e,t){return Og(e,vg)}function De(e,t){const r=Qr(),[n]=p.useState(()=>new kg(r,e));p.useEffect(()=>{n.setOptions(e)},[n,e]);const a=p.useSyncExternalStore(p.useCallback(i=>n.subscribe(st.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=p.useCallback((i,l)=>{n.mutate(i,l).catch(yo)},[n]);if(a.error&&Kd(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}async function Qd(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Be(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await Qd(n),n}const Lg=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await Qd(r),await r.json())},kr=new bg({defaultOptions:{queries:{queryFn:Lg({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Mg=1,Fg=1e6;let Oa=0;function _g(){return Oa=(Oa+1)%Number.MAX_SAFE_INTEGER,Oa.toString()}const La=new Map,Pl=e=>{if(La.has(e))return;const t=setTimeout(()=>{La.delete(e),Ks({type:"REMOVE_TOAST",toastId:e})},Fg);La.set(e,t)},zg=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Mg)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Pl(r):e.toasts.forEach(n=>{Pl(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},An=[];let On={toasts:[]};function Ks(e){On=zg(On,e),An.forEach(t=>{t(On)})}function $g({...e}){const t=_g(),r=a=>Ks({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Ks({type:"DISMISS_TOAST",toastId:t});return Ks({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Nt(){const[e,t]=p.useState(On);return p.useEffect(()=>(An.push(t),()=>{const r=An.indexOf(t);r>-1&&An.splice(r,1)}),[e]),{...e,toast:$g,dismiss:r=>Ks({type:"DISMISS_TOAST",toastId:r})}}var ci="ToastProvider",[di,Bg,Ug]=Xf("Toast"),[Yd,yC]=Jt("Toast",[Ug]),[Gg,ca]=Yd(ci),Xd=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=p.useState(null),[d,h]=p.useState(0),u=p.useRef(!1),m=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ci}\`. Expected non-empty \`string\`.`),s.jsx(di.Provider,{scope:t,children:s.jsx(Gg,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>h(f=>f+1),[]),onToastRemove:p.useCallback(()=>h(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:m,children:i})})};Xd.displayName=ci;var Jd="ToastViewport",Vg=["F8"],wo="toast.viewportPause",ko="toast.viewportResume",Zd=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Vg,label:a="Notifications ({hotkey})",...o}=e,i=ca(Jd,r),l=Bg(r),c=p.useRef(null),d=p.useRef(null),h=p.useRef(null),u=p.useRef(null),m=ot(t,u,i.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;p.useEffect(()=>{const g=v=>{var w;n.length!==0&&n.every(k=>v[k]||v.code===k)&&((w=u.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),p.useEffect(()=>{const g=c.current,v=u.current;if(x&&g&&v){const y=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(wo);v.dispatchEvent(E),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(ko);v.dispatchEvent(E),i.isClosePausedRef.current=!1}},k=E=>{!g.contains(E.relatedTarget)&&w()},j=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",y),g.addEventListener("focusout",k),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",k),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[x,i.isClosePausedRef]);const b=p.useCallback(({tabbingDirection:g})=>{const y=l().map(w=>{const k=w.ref.current,j=[k,...sx(k)];return g==="forwards"?j:j.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return p.useEffect(()=>{const g=u.current;if(g){const v=y=>{var j,E,C;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const D=document.activeElement,T=y.shiftKey;if(y.target===g&&T){(j=d.current)==null||j.focus();return}const U=b({tabbingDirection:T?"backwards":"forwards"}),me=U.findIndex(B=>B===D);Ma(U.slice(me+1))?y.preventDefault():T?(E=d.current)==null||E.focus():(C=h.current)==null||C.focus()}};return g.addEventListener("keydown",v),()=>g.removeEventListener("keydown",v)}},[l,b]),s.jsxs(Jf,{ref:c,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(jo,{ref:d,onFocusFromOutsideViewport:()=>{const g=b({tabbingDirection:"forwards"});Ma(g)}}),s.jsx(di.Slot,{scope:r,children:s.jsx(Ge.ol,{tabIndex:-1,...o,ref:m})}),x&&s.jsx(jo,{ref:h,onFocusFromOutsideViewport:()=>{const g=b({tabbingDirection:"backwards"});Ma(g)}})]})});Zd.displayName=Jd;var eu="ToastFocusProxy",jo=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,o=ca(eu,r);return s.jsx(Wc,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&n()}})});jo.displayName=eu;var da="Toast",qg="toast.swipeStart",Hg="toast.swipeMove",Wg="toast.swipeCancel",Kg="toast.swipeEnd",tu=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:o,...i}=e,[l=!0,c]=Rs({prop:n,defaultProp:a,onChange:o});return s.jsx(Ht,{present:r||l,children:s.jsx(Xg,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Ut(e.onPause),onResume:Ut(e.onResume),onSwipeStart:Ne(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(e.onSwipeMove,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:Ne(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(e.onSwipeEnd,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});tu.displayName=da;var[Qg,Yg]=Yd(da,{onClose(){}}),Xg=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:u,onSwipeCancel:m,onSwipeEnd:f,...x}=e,b=ca(da,r),[g,v]=p.useState(null),y=ot(t,B=>v(B)),w=p.useRef(null),k=p.useRef(null),j=a||b.duration,E=p.useRef(0),C=p.useRef(j),D=p.useRef(0),{onToastAdd:T,onToastRemove:$}=b,M=Ut(()=>{var F;(g==null?void 0:g.contains(document.activeElement))&&((F=b.viewport)==null||F.focus()),i()}),U=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(D.current),E.current=new Date().getTime(),D.current=window.setTimeout(M,B))},[M]);p.useEffect(()=>{const B=b.viewport;if(B){const F=()=>{U(C.current),d==null||d()},_=()=>{const O=new Date().getTime()-E.current;C.current=C.current-O,window.clearTimeout(D.current),c==null||c()};return B.addEventListener(wo,_),B.addEventListener(ko,F),()=>{B.removeEventListener(wo,_),B.removeEventListener(ko,F)}}},[b.viewport,j,c,d,U]),p.useEffect(()=>{o&&!b.isClosePausedRef.current&&U(j)},[o,j,b.isClosePausedRef,U]),p.useEffect(()=>(T(),()=>$()),[T,$]);const me=p.useMemo(()=>g?lu(g):null,[g]);return b.viewport?s.jsxs(s.Fragment,{children:[me&&s.jsx(Jg,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:me}),s.jsx(Qg,{scope:r,onClose:M,children:xn.createPortal(s.jsx(di.ItemSlot,{scope:r,children:s.jsx(Zf,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||M(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":b.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ne(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Ne(e.onPointerDown,B=>{B.button===0&&(w.current={x:B.clientX,y:B.clientY})}),onPointerMove:Ne(e.onPointerMove,B=>{if(!w.current)return;const F=B.clientX-w.current.x,_=B.clientY-w.current.y,O=!!k.current,ee=["left","right"].includes(b.swipeDirection),H=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,L=ee?H(0,F):0,W=ee?0:H(0,_),P=B.pointerType==="touch"?10:2,ge={x:L,y:W},oe={originalEvent:B,delta:ge};O?(k.current=ge,En(Hg,u,oe,{discrete:!1})):Il(ge,b.swipeDirection,P)?(k.current=ge,En(qg,h,oe,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(F)>P||Math.abs(_)>P)&&(w.current=null)}),onPointerUp:Ne(e.onPointerUp,B=>{const F=k.current,_=B.target;if(_.hasPointerCapture(B.pointerId)&&_.releasePointerCapture(B.pointerId),k.current=null,w.current=null,F){const O=B.currentTarget,ee={originalEvent:B,delta:F};Il(F,b.swipeDirection,b.swipeThreshold)?En(Kg,f,ee,{discrete:!0}):En(Wg,m,ee,{discrete:!0}),O.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),Jg=e=>{const{__scopeToast:t,children:r,...n}=e,a=ca(da,t),[o,i]=p.useState(!1),[l,c]=p.useState(!1);return tx(()=>i(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(Kc,{asChild:!0,children:s.jsx(Wc,{...n,children:o&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},Zg="ToastTitle",ru=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ge.div,{...n,ref:t})});ru.displayName=Zg;var ex="ToastDescription",su=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ge.div,{...n,ref:t})});su.displayName=ex;var nu="ToastAction",au=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(iu,{altText:r,asChild:!0,children:s.jsx(ui,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${nu}\`. Expected non-empty \`string\`.`),null)});au.displayName=nu;var ou="ToastClose",ui=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=Yg(ou,r);return s.jsx(iu,{asChild:!0,children:s.jsx(Ge.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,a.onClose)})})});ui.displayName=ou;var iu=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function lu(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),rx(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...lu(n))}}),t}function En(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?e0(a,o):a.dispatchEvent(o)}var Il=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return t==="left"||t==="right"?o&&n>r:!o&&a>r};function tx(e=()=>{}){const t=Ut(e);Qc(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function rx(e){return e.nodeType===e.ELEMENT_NODE}function sx(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ma(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var nx=Xd,cu=Zd,du=tu,uu=ru,mu=su,hu=au,pu=ui;function fu(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=fu(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function gu(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=fu(e))&&(n&&(n+=" "),n+=t);return n}const Tl=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Al=gu,ua=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Al(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(d=>{const h=r==null?void 0:r[d],u=o==null?void 0:o[d];if(h===null)return null;const m=Tl(h)||Tl(u);return a[d][m]}),l=r&&Object.entries(r).reduce((d,h)=>{let[u,m]=h;return m===void 0||(d[u]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:u,className:m,...f}=h;return Object.entries(f).every(x=>{let[b,g]=x;return Array.isArray(g)?g.includes({...o,...l}[b]):{...o,...l}[b]===g})?[...d,u,m]:d},[]);return Al(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xu=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ox={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:i,...l},c)=>p.createElement("svg",{ref:c,...ox,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:xu("lucide",a),...l},[...i.map(([d,h])=>p.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(e,t)=>{const r=p.forwardRef(({className:n,...a},o)=>p.createElement(ix,{ref:o,iconNode:t,className:xu(`lucide-${ax(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=Q("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Q("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Q("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Q("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=Q("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=Q("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=Q("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Q("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=Q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Q("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Q("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Q("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Q("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Q("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=Q("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=Q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Q("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Q("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Q("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=Q("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Q("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Q("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Q("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=Q("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Q("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Q("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Q("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Q("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Q("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Q("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Q("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Q("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Q("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Q("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=Q("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=Q("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Q("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=Q("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Q("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Q("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=Q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=Q("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Q("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=Q("Rows2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=Q("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Q("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=Q("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Q("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=Q("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Q("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Q("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Q("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Q("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),pi="-",Yx=e=>{const t=Jx(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(pi);return l[0]===""&&l.length!==1&&l.shift(),Pu(l,t)||Xx(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},Pu=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?Pu(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(pi);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},zl=/^\[(.+)\]$/,Xx=e=>{if(zl.test(e)){const t=zl.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Jx=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return eb(Object.entries(e.classGroups),r).forEach(([o,i])=>{Eo(i,n,o,t)}),n},Eo=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:$l(t,a);o.classGroupId=r;return}if(typeof a=="function"){if(Zx(a)){Eo(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,i])=>{Eo(i,$l(t,o),r,n)})})},$l=(e,t)=>{let r=e;return t.split(pi).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Zx=e=>e.isThemeGetter,eb=(e,t)=>t?e.map(([r,n])=>{const a=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,a]}):e,tb=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return a(o,i),i},set(o,i){r.has(o)?r.set(o,i):a(o,i)}}},Iu="!",rb=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let d=0,h=0,u;for(let g=0;g<l.length;g++){let v=l[g];if(d===0){if(v===a&&(n||l.slice(g,g+o)===t)){c.push(l.slice(h,g)),h=g+o;continue}if(v==="/"){u=g;continue}}v==="["?d++:v==="]"&&d--}const m=c.length===0?l:l.substring(h),f=m.startsWith(Iu),x=f?m.substring(1):m,b=u&&u>h?u-h:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:i}):i},sb=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},nb=e=>({cache:tb(e.cacheSize),parseClassName:rb(e),...Yx(e)}),ab=/\s+/,ob=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(ab);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:h,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:f}=r(d);let x=!!f,b=n(x?m.substring(0,f):m);if(!b){if(!x){l=d+(l.length>0?" "+l:l);continue}if(b=n(m),!b){l=d+(l.length>0?" "+l:l);continue}x=!1}const g=sb(h).join(":"),v=u?g+Iu:g,y=v+b;if(o.includes(y))continue;o.push(y);const w=a(b,x);for(let k=0;k<w.length;++k){const j=w[k];o.push(v+j)}l=d+(l.length>0?" "+l:l)}return l};function ib(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Tu(t))&&(n&&(n+=" "),n+=r);return n}const Tu=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Tu(e[n]))&&(r&&(r+=" "),r+=t);return r};function lb(e,...t){let r,n,a,o=i;function i(c){const d=t.reduce((h,u)=>u(h),e());return r=nb(d),n=r.cache.get,a=r.cache.set,o=l,l(c)}function l(c){const d=n(c);if(d)return d;const h=ob(c,r);return a(c,h),h}return function(){return o(ib.apply(null,arguments))}}const Ve=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Au=/^\[(?:([a-z-]+):)?(.+)\]$/i,cb=/^\d+\/\d+$/,db=new Set(["px","full","screen"]),ub=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rr=e=>ts(e)||db.has(e)||cb.test(e),dr=e=>Is(e,"length",jb),ts=e=>!!e&&!Number.isNaN(Number(e)),Ua=e=>Is(e,"number",ts),zs=e=>!!e&&Number.isInteger(Number(e)),gb=e=>e.endsWith("%")&&ts(e.slice(0,-1)),ye=e=>Au.test(e),ur=e=>ub.test(e),xb=new Set(["length","size","percentage"]),bb=e=>Is(e,xb,Ou),vb=e=>Is(e,"position",Ou),yb=new Set(["image","url"]),wb=e=>Is(e,yb,Cb),kb=e=>Is(e,"",Nb),$s=()=>!0,Is=(e,t,r)=>{const n=Au.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},jb=e=>mb.test(e)&&!hb.test(e),Ou=()=>!1,Nb=e=>pb.test(e),Cb=e=>fb.test(e),Sb=()=>{const e=Ve("colors"),t=Ve("spacing"),r=Ve("blur"),n=Ve("brightness"),a=Ve("borderColor"),o=Ve("borderRadius"),i=Ve("borderSpacing"),l=Ve("borderWidth"),c=Ve("contrast"),d=Ve("grayscale"),h=Ve("hueRotate"),u=Ve("invert"),m=Ve("gap"),f=Ve("gradientColorStops"),x=Ve("gradientColorStopPositions"),b=Ve("inset"),g=Ve("margin"),v=Ve("opacity"),y=Ve("padding"),w=Ve("saturate"),k=Ve("scale"),j=Ve("sepia"),E=Ve("skew"),C=Ve("space"),D=Ve("translate"),T=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",ye,t],U=()=>[ye,t],me=()=>["",rr,dr],B=()=>["auto",ts,ye],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",ye],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[ts,ye];return{cacheSize:500,separator:":",theme:{colors:[$s],spacing:[rr,dr],blur:["none","",ur,ye],brightness:W(),borderColor:[e],borderRadius:["none","","full",ur,ye],borderSpacing:U(),borderWidth:me(),contrast:W(),grayscale:H(),hueRotate:W(),invert:H(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[gb,dr],inset:M(),margin:M(),opacity:W(),padding:U(),saturate:W(),scale:W(),sepia:H(),skew:W(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[ur]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),ye]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zs,ye]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",zs,ye]}],"grid-cols":[{"grid-cols":[$s]}],"col-start-end":[{col:["auto",{span:["full",zs,ye]},ye]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[$s]}],"row-start-end":[{row:["auto",{span:[zs,ye]},ye]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,t]}],"min-w":[{"min-w":[ye,t,"min","max","fit"]}],"max-w":[{"max-w":[ye,t,"none","full","min","max","fit","prose",{screen:[ur]},ur]}],h:[{h:[ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ur,dr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ua]}],"font-family":[{font:[$s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",ts,Ua]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rr,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rr,dr]}],"underline-offset":[{"underline-offset":["auto",rr,ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),vb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wb]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:_()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[rr,ye]}],"outline-w":[{outline:[rr,dr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[rr,dr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ur,kb]}],"shadow-color":[{shadow:[$s]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ur,ye]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[u]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[zs,ye]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[rr,dr,Ua]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Eb=lb(Sb);function Z(...e){return Eb(gu(e))}function Ga(){const e="table_app_user_id";let t=localStorage.getItem(e);return t||(t=`user_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,localStorage.setItem(e,t)),t}const Rb=nx,Lu=p.forwardRef(({className:e,...t},r)=>s.jsx(cu,{ref:r,className:Z("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Lu.displayName=cu.displayName;const Db=ua("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Mu=p.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(du,{ref:n,className:Z(Db({variant:t}),e),...r}));Mu.displayName=du.displayName;const Pb=p.forwardRef(({className:e,...t},r)=>s.jsx(hu,{ref:r,className:Z("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Pb.displayName=hu.displayName;const Fu=p.forwardRef(({className:e,...t},r)=>s.jsx(pu,{ref:r,className:Z("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(ut,{className:"h-4 w-4"})}));Fu.displayName=pu.displayName;const _u=p.forwardRef(({className:e,...t},r)=>s.jsx(uu,{ref:r,className:Z("text-sm font-semibold",e),...t}));_u.displayName=uu.displayName;const zu=p.forwardRef(({className:e,...t},r)=>s.jsx(mu,{ref:r,className:Z("text-sm opacity-90",e),...t}));zu.displayName=mu.displayName;function Ib(){const{toasts:e}=Nt();return s.jsxs(Rb,{children:[e.map(function({id:t,title:r,description:n,action:a,...o}){return s.jsxs(Mu,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(_u,{children:r}),n&&s.jsx(zu,{children:n})]}),a,s.jsx(Fu,{})]},t)}),s.jsx(Lu,{})]})}var[pa,wC]=Jt("Tooltip",[aa]),fi=aa(),$u="TooltipProvider",Tb=700,Bl="tooltip.open",[Ab,Bu]=pa($u),Uu=e=>{const{__scopeTooltip:t,delayDuration:r=Tb,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:o}=e,i=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(Ab,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:o})};Uu.displayName=$u;var Gu="Tooltip",[kC,fa]=pa(Gu),Ro="TooltipTrigger",Ob=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=fa(Ro,r),o=Bu(Ro,r),i=fi(r),l=p.useRef(null),c=ot(t,l,a.onTriggerChange),d=p.useRef(!1),h=p.useRef(!1),u=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),s.jsx(Ho,{asChild:!0,...i,children:s.jsx(Ge.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ne(e.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ne(e.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:Ne(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:Ne(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Ne(e.onBlur,a.onClose),onClick:Ne(e.onClick,a.onClose)})})});Ob.displayName=Ro;var Lb="TooltipPortal",[jC,Mb]=pa(Lb,{forceMount:void 0}),vs="TooltipContent",Vu=p.forwardRef((e,t)=>{const r=Mb(vs,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...o}=e,i=fa(vs,e.__scopeTooltip);return s.jsx(Ht,{present:n||i.open,children:i.disableHoverableContent?s.jsx(qu,{side:a,...o,ref:t}):s.jsx(Fb,{side:a,...o,ref:t})})}),Fb=p.forwardRef((e,t)=>{const r=fa(vs,e.__scopeTooltip),n=Bu(vs,e.__scopeTooltip),a=p.useRef(null),o=ot(t,a),[i,l]=p.useState(null),{trigger:c,onClose:d}=r,h=a.current,{onPointerInTransitChange:u}=n,m=p.useCallback(()=>{l(null),u(!1)},[u]),f=p.useCallback((x,b)=>{const g=x.currentTarget,v={x:x.clientX,y:x.clientY},y=Ub(v,g.getBoundingClientRect()),w=Gb(v,y),k=Vb(b.getBoundingClientRect()),j=Hb([...w,...k]);l(j),u(!0)},[u]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&h){const x=g=>f(g,h),b=g=>f(g,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",b)}}},[c,h,f,m]),p.useEffect(()=>{if(i){const x=b=>{const g=b.target,v={x:b.clientX,y:b.clientY},y=(c==null?void 0:c.contains(g))||(h==null?void 0:h.contains(g)),w=!qb(v,i);y?m():w&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,i,d,m]),s.jsx(qu,{...e,ref:o})}),[_b,zb]=pa(Gu,{isInside:!1}),$b=Zc("TooltipContent"),qu=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=fa(vs,r),d=fi(r),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(Bl,h),()=>document.removeEventListener(Bl,h)),[h]),p.useEffect(()=>{if(c.trigger){const u=m=>{const f=m.target;f!=null&&f.contains(c.trigger)&&h()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[c.trigger,h]),s.jsx(Yc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:h,children:s.jsxs(Xc,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx($b,{children:n}),s.jsx(_b,{scope:r,isInside:!0,children:s.jsx(t0,{id:c.contentId,role:"tooltip",children:a||n})})]})})});Vu.displayName=vs;var Hu="TooltipArrow",Bb=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=fi(r);return zb(Hu,r).isInside?null:s.jsx(Jc,{...a,...n,ref:t})});Bb.displayName=Hu;function Ub(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,a,o)){case o:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Gb(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Vb(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function qb(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,d=t[i].x,h=t[i].y;c>n!=h>n&&r<(d-l)*(n-c)/(h-c)+l&&(a=!a)}return a}function Hb(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Wb(t)}function Wb(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Kb=Uu,Wu=Vu;const Qb=Kb,Yb=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Wu,{ref:n,sideOffset:t,className:Z("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));Yb.displayName=Wu.displayName;const Ku=p.createContext(void 0);function Xb({children:e}){const[t,r]=p.useState(()=>localStorage.getItem("theme")||"dark");p.useEffect(()=>{const a=document.documentElement;t==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const n=()=>{r(a=>a==="light"?"dark":"light")};return s.jsx(Ku.Provider,{value:{theme:t,toggleTheme:n},children:e})}function gi(){const e=p.useContext(Ku);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function xi(){const e=Qr(),{data:t=[],isLoading:r}=qt({queryKey:["/api/table-rows"]}),{data:n=[],isLoading:a}=qt({queryKey:["/api/table-columns"]}),o=De({mutationFn:async b=>(await Be("POST","/api/table-rows",b)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}}),i=De({mutationFn:async({id:b,updates:g})=>(await Be("PATCH",`/api/table-rows/${b}`,g)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}}),l=De({mutationFn:async b=>{await Be("DELETE",`/api/table-rows/${b}`)},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}}),c=De({mutationFn:async b=>(await Be("POST","/api/table-rows/reorder",{rowIds:b})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}}),d=De({mutationFn:async b=>(await Be("POST","/api/table-columns",b)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-columns"]})}}),h=De({mutationFn:async b=>{await Be("DELETE",`/api/table-columns/${b}`)},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-columns"]})}}),u=De({mutationFn:async b=>(await Be("POST","/api/table-columns/reorder",{columnIds:b})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-columns"]})}}),m=De({mutationFn:async({rowId:b,imageUrl:g,caption:v})=>(await Be("POST",`/api/table-rows/${b}/images`,{imageUrl:g,caption:v})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}}),f=De({mutationFn:async({rowId:b,imageIndex:g,imageUrl:v,caption:y})=>(await Be("PATCH",`/api/table-rows/${b}/images/${g}`,{imageUrl:v,caption:y})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}}),x=De({mutationFn:async({rowId:b,imageIndex:g})=>{const v=g!==void 0?`/api/table-rows/${b}/images/${g}`:`/api/table-rows/${b}/images`;return(await Be("DELETE",v)).json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/table-rows"]})}});return{rows:t,columns:n,isLoading:r||a,createRow:o,updateRow:i,deleteRow:l,reorderRows:c,createColumn:d,deleteColumn:h,reorderColumns:u,addImageToRow:m,updateImageInRow:f,deleteImageFromRow:x}}function ft(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Jb=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ul=Jb,Va=()=>Math.random().toString(36).substring(7).split("").join("."),Zb={INIT:`@@redux/INIT${Va()}`,REPLACE:`@@redux/REPLACE${Va()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Va()}`},Gl=Zb;function ev(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Qu(e,t,r){if(typeof e!="function")throw new Error(ft(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ft(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ft(1));return r(Qu)(e,t)}let n=e,a=t,o=new Map,i=o,l=0,c=!1;function d(){i===o&&(i=new Map,o.forEach((g,v)=>{i.set(v,g)}))}function h(){if(c)throw new Error(ft(3));return a}function u(g){if(typeof g!="function")throw new Error(ft(4));if(c)throw new Error(ft(5));let v=!0;d();const y=l++;return i.set(y,g),function(){if(v){if(c)throw new Error(ft(6));v=!1,d(),i.delete(y),o=null}}}function m(g){if(!ev(g))throw new Error(ft(7));if(typeof g.type>"u")throw new Error(ft(8));if(typeof g.type!="string")throw new Error(ft(17));if(c)throw new Error(ft(9));try{c=!0,a=n(a,g)}finally{c=!1}return(o=i).forEach(y=>{y()}),g}function f(g){if(typeof g!="function")throw new Error(ft(10));n=g,m({type:Gl.REPLACE})}function x(){const g=u;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(ft(11));function y(){const k=v;k.next&&k.next(h())}return y(),{unsubscribe:g(y)}},[Ul](){return this}}}return m({type:Gl.INIT}),{dispatch:m,subscribe:u,getState:h,replaceReducer:f,[Ul]:x}}function Vl(e,t){return function(...r){return t(e.apply(this,r))}}function ql(e,t){if(typeof e=="function")return Vl(e,t);if(typeof e!="object"||e===null)throw new Error(ft(16));const r={};for(const n in e){const a=e[n];typeof a=="function"&&(r[n]=Vl(a,t))}return r}function Yu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function tv(...e){return t=>(r,n)=>{const a=t(r,n);let o=()=>{throw new Error(ft(15))};const i={getState:a.getState,dispatch:(c,...d)=>o(c,...d)},l=e.map(c=>c(i));return o=Yu(...l)(a.dispatch),{...a,dispatch:o}}}var rv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bn=p;function sv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nv=typeof Object.is=="function"?Object.is:sv,av=bn.useSyncExternalStore,ov=bn.useRef,iv=bn.useEffect,lv=bn.useMemo,cv=bn.useDebugValue;rv.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var o=ov(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=lv(function(){function c(f){if(!d){if(d=!0,h=f,f=n(f),a!==void 0&&i.hasValue){var x=i.value;if(a(x,f))return u=x}return u=f}if(x=u,nv(h,f))return x;var b=n(f);return a!==void 0&&a(x,b)?(h=f,x):(h=f,u=b)}var d=!1,h,u,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=av(e,o[0],o[1]);return iv(function(){i.hasValue=!0,i.value=l},[l]),cv(l),l};var dv=p.version.startsWith("19"),uv=Symbol.for(dv?"react.transitional.element":"react.element"),mv=Symbol.for("react.portal"),hv=Symbol.for("react.fragment"),pv=Symbol.for("react.strict_mode"),fv=Symbol.for("react.profiler"),gv=Symbol.for("react.consumer"),xv=Symbol.for("react.context"),Xu=Symbol.for("react.forward_ref"),bv=Symbol.for("react.suspense"),vv=Symbol.for("react.suspense_list"),bi=Symbol.for("react.memo"),yv=Symbol.for("react.lazy"),wv=Xu,kv=bi;function jv(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case uv:switch(e=e.type,e){case hv:case fv:case pv:case bv:case vv:return e;default:switch(e=e&&e.$$typeof,e){case xv:case Xu:case yv:case bi:return e;case gv:return e;default:return t}}case mv:return t}}}function Nv(e){return jv(e)===bi}function Cv(e,t,r,n,{areStatesEqual:a,areOwnPropsEqual:o,areStatePropsEqual:i}){let l=!1,c,d,h,u,m;function f(y,w){return c=y,d=w,h=e(c,d),u=t(n,d),m=r(h,u,d),l=!0,m}function x(){return h=e(c,d),t.dependsOnOwnProps&&(u=t(n,d)),m=r(h,u,d),m}function b(){return e.dependsOnOwnProps&&(h=e(c,d)),t.dependsOnOwnProps&&(u=t(n,d)),m=r(h,u,d),m}function g(){const y=e(c,d),w=!i(y,h);return h=y,w&&(m=r(h,u,d)),m}function v(y,w){const k=!o(w,d),j=!a(y,c,w,d);return c=y,d=w,k&&j?x():k?b():j?g():m}return function(w,k){return l?v(w,k):f(w,k)}}function Sv(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:n,...a}){const o=t(e,a),i=r(e,a),l=n(e,a);return Cv(o,i,l,e,a)}function Ev(e,t){const r={};for(const n in e){const a=e[n];typeof a=="function"&&(r[n]=(...o)=>t(a(...o)))}return r}function Do(e){return function(r){const n=e(r);function a(){return n}return a.dependsOnOwnProps=!1,a}}function Hl(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Ju(e,t){return function(n,{displayName:a}){const o=function(l,c){return o.dependsOnOwnProps?o.mapToProps(l,c):o.mapToProps(l,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(l,c){o.mapToProps=e,o.dependsOnOwnProps=Hl(e);let d=o(l,c);return typeof d=="function"&&(o.mapToProps=d,o.dependsOnOwnProps=Hl(d),d=o(l,c)),d},o}}function vi(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function Rv(e){return e&&typeof e=="object"?Do(t=>Ev(e,t)):e?typeof e=="function"?Ju(e):vi(e,"mapDispatchToProps"):Do(t=>({dispatch:t}))}function Dv(e){return e?typeof e=="function"?Ju(e):vi(e,"mapStateToProps"):Do(()=>({}))}function Pv(e,t,r){return{...r,...e,...t}}function Iv(e){return function(r,{displayName:n,areMergedPropsEqual:a}){let o=!1,i;return function(c,d,h){const u=e(c,d,h);return o?a(u,i)||(i=u):(o=!0,i=u),i}}}function Tv(e){return e?typeof e=="function"?Iv(e):vi(e,"mergeProps"):()=>Pv}function Av(e){e()}function Ov(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Av(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Wl={notify(){},get:()=>[]};function Zu(e,t){let r,n=Wl,a=0,o=!1;function i(b){h();const g=n.subscribe(b);let v=!1;return()=>{v||(v=!0,g(),u())}}function l(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return o}function h(){a++,r||(r=t?t.addNestedSub(c):e.subscribe(c),n=Ov())}function u(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=Wl)}function m(){o||(o=!0,h())}function f(){o&&(o=!1,u())}const x={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:f,getListeners:()=>n};return x}var Lv=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mv=Lv(),Fv=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_v=Fv(),zv=()=>Mv||_v?p.useLayoutEffect:p.useEffect,Gn=zv();function Kl(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function qa(e,t){if(Kl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Kl(e[r[a]],t[r[a]]))return!1;return!0}var $v={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Bv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Uv={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},em={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Gv={[wv]:Uv,[kv]:em};function Ql(e){return Nv(e)?em:Gv[e.$$typeof]||$v}var Vv=Object.defineProperty,qv=Object.getOwnPropertyNames,Yl=Object.getOwnPropertySymbols,Hv=Object.getOwnPropertyDescriptor,Wv=Object.getPrototypeOf,Xl=Object.prototype;function Po(e,t){if(typeof t!="string"){if(Xl){const o=Wv(t);o&&o!==Xl&&Po(e,o)}let r=qv(t);Yl&&(r=r.concat(Yl(t)));const n=Ql(e),a=Ql(t);for(let o=0;o<r.length;++o){const i=r[o];if(!Bv[i]&&!(a&&a[i])&&!(n&&n[i])){const l=Hv(t,i);try{Vv(e,i,l)}catch{}}}}return e}var Ha=Symbol.for("react-redux-context"),Wa=typeof globalThis<"u"?globalThis:{};function Kv(){if(!p.createContext)return{};const e=Wa[Ha]??(Wa[Ha]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var tm=Kv(),Qv=[null,null];function Yv(e,t,r){Gn(()=>e(...t),r)}function Xv(e,t,r,n,a,o){e.current=n,r.current=!1,a.current&&(a.current=null,o())}function Jv(e,t,r,n,a,o,i,l,c,d,h){if(!e)return()=>{};let u=!1,m=null;const f=()=>{if(u||!l.current)return;const b=t.getState();let g,v;try{g=n(b,a.current)}catch(y){v=y,m=y}v||(m=null),g===o.current?i.current||d():(o.current=g,c.current=g,i.current=!0,h())};return r.onStateChange=f,r.trySubscribe(),f(),()=>{if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,m)throw m}}function Zv(e,t){return e===t}function ey(e,t,r,{pure:n,areStatesEqual:a=Zv,areOwnPropsEqual:o=qa,areStatePropsEqual:i=qa,areMergedPropsEqual:l=qa,forwardRef:c=!1,context:d=tm}={}){const h=d,u=Dv(e),m=Rv(t),f=Tv(r),x=!!e;return g=>{const v=g.displayName||g.name||"Component",y=`Connect(${v})`,w={shouldHandleStateChanges:x,displayName:y,wrappedComponentName:v,WrappedComponent:g,initMapStateToProps:u,initMapDispatchToProps:m,initMergeProps:f,areStatesEqual:a,areStatePropsEqual:i,areOwnPropsEqual:o,areMergedPropsEqual:l};function k(C){const[D,T,$]=p.useMemo(()=>{const{reactReduxForwardedRef:V,...ce}=C;return[C.context,V,ce]},[C]),M=p.useMemo(()=>{let V=h;return D!=null&&D.Consumer,V},[D,h]),U=p.useContext(M),me=!!C.store&&!!C.store.getState&&!!C.store.dispatch,B=!!U&&!!U.store,F=me?C.store:U.store,_=B?U.getServerState:F.getState,O=p.useMemo(()=>Sv(F.dispatch,w),[F]),[ee,H]=p.useMemo(()=>{if(!x)return Qv;const V=Zu(F,me?void 0:U.subscription),ce=V.notifyNestedSubs.bind(V);return[V,ce]},[F,me,U]),L=p.useMemo(()=>me?U:{...U,subscription:ee},[me,U,ee]),W=p.useRef(void 0),P=p.useRef($),ge=p.useRef(void 0),oe=p.useRef(!1),he=p.useRef(!1),Se=p.useRef(void 0);Gn(()=>(he.current=!0,()=>{he.current=!1}),[]);const q=p.useMemo(()=>()=>ge.current&&$===P.current?ge.current:O(F.getState(),$),[F,$]),te=p.useMemo(()=>ce=>ee?Jv(x,F,ee,O,P,W,oe,he,ge,H,ce):()=>{},[ee]);Yv(Xv,[P,W,oe,$,ge,H]);let X;try{X=p.useSyncExternalStore(te,q,_?()=>O(_(),$):q)}catch(V){throw Se.current&&(V.message+=`
The error may be correlated with this previous error:
${Se.current.stack}

`),V}Gn(()=>{Se.current=void 0,ge.current=void 0,W.current=X});const ae=p.useMemo(()=>p.createElement(g,{...X,ref:T}),[T,g,X]);return p.useMemo(()=>x?p.createElement(M.Provider,{value:L},ae):ae,[M,ae,L])}const E=p.memo(k);if(E.WrappedComponent=g,E.displayName=k.displayName=y,c){const D=p.forwardRef(function($,M){return p.createElement(E,{...$,reactReduxForwardedRef:M})});return D.displayName=y,D.WrappedComponent=g,Po(D,g)}return Po(E,g)}}var rm=ey;function ty(e){const{children:t,context:r,serverState:n,store:a}=e,o=p.useMemo(()=>{const c=Zu(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=p.useMemo(()=>a.getState(),[a]);Gn(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,i]);const l=r||tm;return p.createElement(l.Provider,{value:o},t)}var ry=ty,sy="Invariant failed";function ny(e,t){throw new Error(sy)}var Gt=function(t){var r=t.top,n=t.right,a=t.bottom,o=t.left,i=n-o,l=a-r,c={top:r,right:n,bottom:a,left:o,width:i,height:l,x:o,y:r,center:{x:(n+o)/2,y:(a+r)/2}};return c},yi=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Jl=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},ay=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ka={top:0,right:0,bottom:0,left:0},wi=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?Ka:n,o=t.border,i=o===void 0?Ka:o,l=t.padding,c=l===void 0?Ka:l,d=Gt(yi(r,a)),h=Gt(Jl(r,i)),u=Gt(Jl(h,c));return{marginBox:d,borderBox:Gt(r),paddingBox:h,contentBox:u,margin:a,border:i,padding:c}},Tt=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&ny(),a},oy=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Vn=function(t,r){var n=t.borderBox,a=t.border,o=t.margin,i=t.padding,l=ay(n,r);return wi({borderBox:l,border:a,margin:o,padding:i})},qn=function(t,r){return r===void 0&&(r=oy()),Vn(t,r)},sm=function(t,r){var n={top:Tt(r.marginTop),right:Tt(r.marginRight),bottom:Tt(r.marginBottom),left:Tt(r.marginLeft)},a={top:Tt(r.paddingTop),right:Tt(r.paddingRight),bottom:Tt(r.paddingBottom),left:Tt(r.paddingLeft)},o={top:Tt(r.borderTopWidth),right:Tt(r.borderRightWidth),bottom:Tt(r.borderBottomWidth),left:Tt(r.borderLeftWidth)};return wi({borderBox:t,margin:n,padding:a,border:o})},nm=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return sm(r,n)},en=function(t){var r=[],n=null,a=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function Hn(){return Hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hn.apply(null,arguments)}function am(e,t){}am.bind(null,"warn");am.bind(null,"error");function jr(){}function iy(e,t){return{...e,...t}}function Mt(e,t,r){const n=t.map(a=>{const o=iy(r,a.options);return e.addEventListener(a.eventName,a.fn,o),function(){e.removeEventListener(a.eventName,a.fn,o)}});return function(){n.forEach(o=>{o()})}}const ly="Invariant failed";class Wn extends Error{}Wn.prototype.toString=function(){return this.message};function Y(e,t){throw new Wn(ly)}class cy extends ke.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=jr,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof Wn&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Mt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Wn){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const dy=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Kn=e=>e+1,uy=e=>`
  You have lifted an item in position ${Kn(e.source.index)}
`,om=(e,t)=>{const r=e.droppableId===t.droppableId,n=Kn(e.index),a=Kn(t.index);return r?`
      You have moved the item from position ${n}
      to position ${a}
    `:`
    You have moved the item from position ${n}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${a}
  `},im=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,my=e=>{const t=e.destination;if(t)return om(e.source,t);const r=e.combine;return r?im(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},Zl=e=>`
  The item has returned to its starting position
  of ${Kn(e.index)}
`,hy=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Zl(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${om(e.source,t)}
    `:r?`
      You have dropped the item.
      ${im(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${Zl(e.source)}
  `},Fn={dragHandleUsageInstructions:dy,onDragStart:uy,onDragUpdate:my,onDragEnd:hy};function py(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function lm(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!py(e[r],t[r]))return!1;return!0}function Re(e,t){const r=p.useState(()=>({inputs:t,result:e()}))[0],n=p.useRef(!0),a=p.useRef(r),i=n.current||!!(t&&a.current.inputs&&lm(t,a.current.inputs))?a.current:{inputs:t,result:e()};return p.useEffect(()=>{n.current=!1,a.current=i},[i]),i.result}function ue(e,t){return Re(()=>e,t)}const at={x:0,y:0},ct=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),St=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Nr=(e,t)=>e.x===t.x&&e.y===t.y,Ts=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Wr=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},tn=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),ec=(e,t)=>Math.min(...t.map(r=>tn(e,r))),cm=e=>t=>({x:e(t.x),y:e(t.y)});var fy=(e,t)=>{const r=Gt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const vn=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),tc=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],gy={top:0,right:0,bottom:0,left:0},xy=(e,t)=>t?vn(e,t.scroll.diff.displacement):e,by=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,vy=(e,t)=>t&&t.shouldClipSubject?fy(t.pageMarginBox,e):Gt(e);var ys=({page:e,withPlaceholder:t,axis:r,frame:n})=>{const a=xy(e.marginBox,n),o=by(a,r,t),i=vy(o,n);return{page:e,withPlaceholder:t,active:i}},ki=(e,t)=>{e.frame||Y();const r=e.frame,n=St(t,r.scroll.initial),a=Ts(n),o={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}},i=ys({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:i}};function nt(e,t=lm){let r=null;function n(...a){if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;const o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}const dm=nt(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),um=nt(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),ga=nt(e=>Object.values(e)),yy=nt(e=>Object.values(e));var As=nt((e,t)=>yy(t).filter(n=>e===n.descriptor.droppableId).sort((n,a)=>n.descriptor.index-a.descriptor.index));function ji(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function xa(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var ba=nt((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),wy=({isMovingForward:e,draggable:t,destination:r,insideDestination:n,previousImpact:a})=>{if(!r.isCombineEnabled||!ji(a))return null;function i(f){const x={type:"COMBINE",combine:{draggableId:f,droppableId:r.descriptor.id}};return{...a,at:x}}const l=a.displaced.all,c=l.length?l[0]:null;if(e)return c?i(c):null;const d=ba(t,n);if(!c){if(!d.length)return null;const f=d[d.length-1];return i(f.descriptor.id)}const h=d.findIndex(f=>f.descriptor.id===c);h===-1&&Y();const u=h-1;if(u<0)return null;const m=d[u];return i(m.descriptor.id)},Os=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const mm={point:at,value:0},rn={invisible:{},visible:{},all:[]},ky={displaced:rn,displacedBy:mm,at:null};var Ft=(e,t)=>r=>e<=r&&r<=t,hm=e=>{const t=Ft(e.top,e.bottom),r=Ft(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const o=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right);if(o&&i)return!0;const c=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right;return c&&d?!0:c&&i||d&&o}},jy=e=>{const t=Ft(e.top,e.bottom),r=Ft(e.left,e.right);return n=>t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right)};const Ni={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},pm={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Ny=e=>t=>{const r=Ft(t.top,t.bottom),n=Ft(t.left,t.right);return a=>e===Ni?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)};const Cy=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:at;return vn(e,r)},Sy=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,Ey=(e,t,r)=>r(t)(e),Ci=({target:e,destination:t,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:a})=>{const o=n?Cy(e,t):e;return Sy(o,t,a)&&Ey(o,r,a)},Ry=e=>Ci({...e,isVisibleThroughFrameFn:hm}),fm=e=>Ci({...e,isVisibleThroughFrameFn:jy}),Dy=e=>Ci({...e,isVisibleThroughFrameFn:Ny(e.destination.axis)}),Py=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:n,visible:a}=t;if(n[e])return!1;const o=a[e];return o?o.shouldAnimate:!0};function Iy(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Gt(yi(r,n))}function sn({afterDragging:e,destination:t,displacedBy:r,viewport:n,forceShouldAnimate:a,last:o}){return e.reduce(function(l,c){const d=Iy(c,r),h=c.descriptor.id;if(l.all.push(h),!Ry({target:d,destination:t,viewport:n,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const m=Py(h,o,a),f={draggableId:h,shouldAnimate:m};return l.visible[h]=f,l},{all:[],visible:{},invisible:{}})}function Ty(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function rc({insideDestination:e,inHomeList:t,displacedBy:r,destination:n}){const a=Ty(e,{inHomeList:t});return{displaced:rn,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function Qn({draggable:e,insideDestination:t,destination:r,viewport:n,displacedBy:a,last:o,index:i,forceShouldAnimate:l}){const c=Os(e,r);if(i==null)return rc({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const d=t.find(x=>x.descriptor.index===i);if(!d)return rc({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const h=ba(e,t),u=t.indexOf(d),m=h.slice(u);return{displaced:sn({afterDragging:m,destination:r,displacedBy:a,last:o,viewport:n.frame,forceShouldAnimate:l}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Rr(e,t){return!!t.effected[e]}var Ay=({isMovingForward:e,destination:t,draggables:r,combine:n,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const o=n.draggableId,l=r[o].descriptor.index;return Rr(o,a)?e?l:l-1:e?l+1:l},Oy=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:n})=>{if(!r.length)return null;const a=n.index,o=e?a+1:a-1,i=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=t?l:l+1;return o<i||o>c?null:o},Ly=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:n,destination:a,insideDestination:o,previousImpact:i,viewport:l,afterCritical:c})=>{const d=i.at;if(d||Y(),d.type==="REORDER"){const u=Oy({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:o});return u==null?null:Qn({draggable:r,insideDestination:o,destination:a,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:u})}const h=Ay({isMovingForward:e,destination:a,displaced:i.displaced,draggables:n,combine:d.combine,afterCritical:c});return h==null?null:Qn({draggable:r,insideDestination:o,destination:a,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:h})},My=({displaced:e,afterCritical:t,combineWith:r,displacedBy:n})=>{const a=!!(e.visible[r]||e.invisible[r]);return Rr(r,t)?a?at:Ts(n.point):a?n.point:at},Fy=({afterCritical:e,impact:t,draggables:r})=>{const n=xa(t);n||Y();const a=n.draggableId,o=r[a].page.borderBox.center,i=My({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return ct(o,i)};const gm=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,_y=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Si=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,sc=({axis:e,moveRelativeTo:t,isMoving:r})=>Wr(e.line,t.marginBox[e.end]+gm(e,r),Si(e,t.marginBox,r)),nc=({axis:e,moveRelativeTo:t,isMoving:r})=>Wr(e.line,t.marginBox[e.start]-_y(e,r),Si(e,t.marginBox,r)),zy=({axis:e,moveInto:t,isMoving:r})=>Wr(e.line,t.contentBox[e.start]+gm(e,r),Si(e,t.contentBox,r));var $y=({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a})=>{const o=As(n.descriptor.id,r),i=t.page,l=n.axis;if(!o.length)return zy({axis:l,moveInto:n.page,isMoving:i});const{displaced:c,displacedBy:d}=e,h=c.all[0];if(h){const m=r[h];if(Rr(h,a))return nc({axis:l,moveRelativeTo:m.page,isMoving:i});const f=Vn(m.page,d.point);return nc({axis:l,moveRelativeTo:f,isMoving:i})}const u=o[o.length-1];if(u.descriptor.id===t.descriptor.id)return i.borderBox.center;if(Rr(u.descriptor.id,a)){const m=Vn(u.page,Ts(a.displacedBy.point));return sc({axis:l,moveRelativeTo:m,isMoving:i})}return sc({axis:l,moveRelativeTo:u.page,isMoving:i})},Io=(e,t)=>{const r=e.frame;return r?ct(t,r.scroll.diff.displacement):t};const By=({impact:e,draggable:t,droppable:r,draggables:n,afterCritical:a})=>{const o=t.page.borderBox.center,i=e.at;return!r||!i?o:i.type==="REORDER"?$y({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:a}):Fy({impact:e,draggables:n,afterCritical:a})};var va=e=>{const t=By(e),r=e.droppable;return r?Io(r,t):t},xm=(e,t)=>{const r=St(t,e.scroll.initial),n=Ts(r);return{frame:Gt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function ac(e,t){return e.map(r=>t[r])}function Uy(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}var Gy=({impact:e,viewport:t,destination:r,draggables:n,maxScrollChange:a})=>{const o=xm(t,ct(t.scroll.current,a)),i=r.frame?ki(r,ct(r.frame.scroll.current,a)):r,l=e.displaced,c=sn({afterDragging:ac(l.all,n),destination:r,displacedBy:e.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),d=sn({afterDragging:ac(l.all,n),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},u={},m=[l,c,d];return l.all.forEach(x=>{const b=Uy(x,m);if(b){u[x]=b;return}h[x]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:u}}},Vy=(e,t)=>ct(e.scroll.diff.displacement,t),Ei=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const n=Vy(r,e),a=St(n,t.page.borderBox.center);return ct(t.client.borderBox.center,a)},bm=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:a,onlyOnMainAxis:o=!1})=>{const i=St(r,e.page.borderBox.center),c={target:vn(e.page.borderBox,i),destination:t,withDroppableDisplacement:a,viewport:n};return o?Dy(c):fm(c)},qy=({isMovingForward:e,draggable:t,destination:r,draggables:n,previousImpact:a,viewport:o,previousPageBorderBoxCenter:i,previousClientSelection:l,afterCritical:c})=>{if(!r.isEnabled)return null;const d=As(r.descriptor.id,n),h=Os(t,r),u=wy({isMovingForward:e,draggable:t,destination:r,insideDestination:d,previousImpact:a})||Ly({isMovingForward:e,isInHomeList:h,draggable:t,draggables:n,destination:r,insideDestination:d,previousImpact:a,viewport:o,afterCritical:c});if(!u)return null;const m=va({impact:u,draggable:t,droppable:r,draggables:n,afterCritical:c});if(bm({draggable:t,destination:r,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ei({pageBorderBoxCenter:m,draggable:t,viewport:o}),impact:u,scrollJumpRequest:null};const x=St(m,i),b=Gy({impact:u,viewport:o,destination:r,draggables:n,maxScrollChange:x});return{clientSelection:l,impact:b,scrollJumpRequest:x}};const pt=e=>{const t=e.subject.active;return t||Y(),t};var Hy=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:n,viewport:a})=>{const o=r.subject.active;if(!o)return null;const i=r.axis,l=Ft(o[i.start],o[i.end]),c=ga(n).filter(h=>h!==r).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>hm(a.frame)(pt(h))).filter(h=>{const u=pt(h);return e?o[i.crossAxisEnd]<u[i.crossAxisEnd]:u[i.crossAxisStart]<o[i.crossAxisStart]}).filter(h=>{const u=pt(h),m=Ft(u[i.start],u[i.end]);return l(u[i.start])||l(u[i.end])||m(o[i.start])||m(o[i.end])}).sort((h,u)=>{const m=pt(h)[i.crossAxisStart],f=pt(u)[i.crossAxisStart];return e?m-f:f-m}).filter((h,u,m)=>pt(h)[i.crossAxisStart]===pt(m[0])[i.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(h=>Ft(pt(h)[i.start],pt(h)[i.end])(t[i.line]));return d.length===1?d[0]:d.length>1?d.sort((h,u)=>pt(h)[i.start]-pt(u)[i.start])[0]:c.sort((h,u)=>{const m=ec(t,tc(pt(h))),f=ec(t,tc(pt(u)));return m!==f?m-f:pt(h)[i.start]-pt(u)[i.start]})[0]};const oc=(e,t)=>{const r=e.page.borderBox.center;return Rr(e.descriptor.id,t)?St(r,t.displacedBy.point):r},Wy=(e,t)=>{const r=e.page.borderBox;return Rr(e.descriptor.id,t)?vn(r,Ts(t.displacedBy.point)):r};var Ky=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:n,afterCritical:a})=>n.filter(i=>fm({target:Wy(i,a),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,l)=>{const c=tn(e,Io(r,oc(i,a))),d=tn(e,Io(r,oc(l,a)));return c<d?-1:d<c?1:i.descriptor.index-l.descriptor.index})[0]||null,yn=nt(function(t,r){const n=r[t.line];return{value:n,point:Wr(t.line,n)}});const Qy=(e,t,r)=>{const n=e.axis;if(e.descriptor.mode==="virtual")return Wr(n.line,t[n.line]);const a=e.subject.page.contentBox[n.size],c=As(e.descriptor.id,r).reduce((d,h)=>d+h.client.marginBox[n.size],0)+t[n.line]-a;return c<=0?null:Wr(n.line,c)},vm=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),ym=(e,t,r)=>{const n=e.frame;Os(t,e)&&Y(),e.subject.withPlaceholder&&Y();const a=yn(e.axis,t.displaceBy).point,o=Qy(e,a,r),i={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const h=ys({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=o?ct(n.scroll.max,o):n.scroll.max,c=vm(n,l),d=ys({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},Yy=e=>{const t=e.subject.withPlaceholder;t||Y();const r=e.frame;if(!r){const i=ys({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const n=t.oldFrameMaxScroll;n||Y();const a=vm(r,n),o=ys({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:o,frame:a}};var Xy=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:n,draggables:a,destination:o,viewport:i,afterCritical:l})=>{if(!t){if(r.length)return null;const u={displaced:rn,displacedBy:mm,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},m=va({impact:u,draggable:n,droppable:o,draggables:a,afterCritical:l}),f=Os(n,o)?o:ym(o,n,a);return bm({draggable:n,destination:f,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}const c=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],d=(()=>{const u=t.descriptor.index;return t.descriptor.id===n.descriptor.id||c?u:u+1})(),h=yn(o.axis,n.displaceBy);return Qn({draggable:n,insideDestination:r,destination:o,viewport:i,displacedBy:h,last:rn,index:d})},Jy=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:n,draggables:a,droppables:o,viewport:i,afterCritical:l})=>{const c=Hy({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:o,viewport:i});if(!c)return null;const d=As(c.descriptor.id,a),h=Ky({pageBorderBoxCenter:t,viewport:i,destination:c,insideDestination:d,afterCritical:l}),u=Xy({previousPageBorderBoxCenter:t,destination:c,draggable:r,draggables:a,moveRelativeTo:h,insideDestination:d,viewport:i,afterCritical:l});if(!u)return null;const m=va({impact:u,draggable:r,droppable:c,draggables:a,afterCritical:l});return{clientSelection:Ei({pageBorderBoxCenter:m,draggable:r,viewport:i}),impact:u,scrollJumpRequest:null}},Et=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const Zy=(e,t)=>{const r=Et(e);return r?t[r]:null};var ew=({state:e,type:t})=>{const r=Zy(e.impact,e.dimensions.droppables),n=!!r,a=e.dimensions.droppables[e.critical.droppable.id],o=r||a,i=o.axis.direction,l=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!n)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:u,droppables:m}=e.dimensions;return l?qy({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,destination:o,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Jy({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,isOver:o,draggables:u,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function Mr(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function wm(e){const t=Ft(e.top,e.bottom),r=Ft(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function tw(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function rw({pageBorderBox:e,draggable:t,candidates:r}){const n=t.page.borderBox.center,a=r.map(o=>{const i=o.axis,l=Wr(o.axis.line,e.center[i.line],o.page.borderBox.center[i.crossAxisLine]);return{id:o.descriptor.id,distance:tn(n,l)}}).sort((o,i)=>i.distance-o.distance);return a[0]?a[0].id:null}function sw({pageBorderBox:e,draggable:t,droppables:r}){const n=ga(r).filter(a=>{if(!a.isEnabled)return!1;const o=a.subject.active;if(!o||!tw(e,o))return!1;if(wm(o)(e.center))return!0;const i=a.axis,l=o.center[i.crossAxisLine],c=e[i.crossAxisStart],d=e[i.crossAxisEnd],h=Ft(o[i.crossAxisStart],o[i.crossAxisEnd]),u=h(c),m=h(d);return!u&&!m?!0:u?c<l:d>l});return n.length?n.length===1?n[0].descriptor.id:rw({pageBorderBox:e,draggable:t,candidates:n}):null}const km=(e,t)=>Gt(vn(e,t));var nw=(e,t)=>{const r=e.frame;return r?km(t,r.scroll.diff.value):t};function jm({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function aw({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var ow=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:n,last:a,viewport:o,afterCritical:i})=>{const l=r.axis,c=yn(r.axis,t.displaceBy),d=c.value,h=e[l.start],u=e[l.end],f=ba(t,n).find(b=>{const g=b.descriptor.id,v=b.page.borderBox.center[l.line],y=Rr(g,i),w=jm({displaced:a,id:g});return y?w?u<=v:h<v-d:w?u<=v+d:h<v})||null,x=aw({draggable:t,closest:f,inHomeList:Os(t,r)});return Qn({draggable:t,insideDestination:n,destination:r,viewport:o,last:a,displacedBy:c,index:x})};const iw=4;var lw=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:n,insideDestination:a,afterCritical:o})=>{if(!n.isCombineEnabled)return null;const i=n.axis,l=yn(n.axis,e.displaceBy),c=l.value,d=t[i.start],h=t[i.end],m=ba(e,a).find(x=>{const b=x.descriptor.id,g=x.page.borderBox,y=g[i.size]/iw,w=Rr(b,o),k=jm({displaced:r.displaced,id:b});return w?k?h>g[i.start]+y&&h<g[i.end]-y:d>g[i.start]-c+y&&d<g[i.end]-c-y:k?h>g[i.start]+c+y&&h<g[i.end]+c-y:d>g[i.start]+y&&d<g[i.end]-y});return m?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:n.descriptor.id}}}:null},Nm=({pageOffset:e,draggable:t,draggables:r,droppables:n,previousImpact:a,viewport:o,afterCritical:i})=>{const l=km(t.page.borderBox,e),c=sw({pageBorderBox:l,draggable:t,droppables:n});if(!c)return ky;const d=n[c],h=As(d.descriptor.id,r),u=nw(d,l);return lw({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:a,destination:d,insideDestination:h,afterCritical:i})||ow({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:d,insideDestination:h,last:a.displaced,viewport:o,afterCritical:i})},Ri=(e,t)=>({...e,[t.descriptor.id]:t});const cw=({previousImpact:e,impact:t,droppables:r})=>{const n=Et(e),a=Et(t);if(!n||n===a)return r;const o=r[n];if(!o.subject.withPlaceholder)return r;const i=Yy(o);return Ri(r,i)};var dw=({draggable:e,draggables:t,droppables:r,previousImpact:n,impact:a})=>{const o=cw({previousImpact:n,impact:a,droppables:r}),i=Et(a);if(!i)return o;const l=r[i];if(Os(e,l)||l.subject.withPlaceholder)return o;const c=ym(l,e,t);return Ri(o,c)},Qs=({state:e,clientSelection:t,dimensions:r,viewport:n,impact:a,scrollJumpRequest:o})=>{const i=n||e.viewport,l=r||e.dimensions,c=t||e.current.client.selection,d=St(c,e.initial.client.selection),h={offset:d,selection:c,borderBoxCenter:ct(e.initial.client.borderBoxCenter,d)},u={selection:ct(h.selection,i.scroll.current),borderBoxCenter:ct(h.borderBoxCenter,i.scroll.current),offset:ct(h.offset,i.scroll.diff.value)},m={client:h,page:u};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:i,current:m};const f=l.draggables[e.critical.draggable.id],x=a||Nm({pageOffset:u.offset,draggable:f,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),b=dw({draggable:f,impact:x,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:b},impact:x,viewport:i,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function uw(e,t){return e.map(r=>t[r])}var Cm=({impact:e,viewport:t,draggables:r,destination:n,forceShouldAnimate:a})=>{const o=e.displaced,i=uw(o.all,r),l=sn({afterDragging:i,destination:n,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:o});return{...e,displaced:l}},Sm=({impact:e,draggable:t,droppable:r,draggables:n,viewport:a,afterCritical:o})=>{const i=va({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o});return Ei({pageBorderBoxCenter:i,draggable:t,viewport:a})},Em=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&Y();const n=e.impact,a=r||e.viewport,o=t||e.dimensions,{draggables:i,droppables:l}=o,c=i[e.critical.draggable.id],d=Et(n);d||Y();const h=l[d],u=Cm({impact:n,viewport:a,destination:h,draggables:i}),m=Sm({impact:u,draggable:c,droppable:h,draggables:i,viewport:a,afterCritical:e.afterCritical});return Qs({impact:u,clientSelection:m,state:e,dimensions:o,viewport:a})},mw=e=>({index:e.index,droppableId:e.droppableId}),Rm=({draggable:e,home:t,draggables:r,viewport:n})=>{const a=yn(t.axis,e.displaceBy),o=As(t.descriptor.id,r),i=o.indexOf(e);i===-1&&Y();const l=o.slice(i+1),c=l.reduce((m,f)=>(m[f.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:c};return{impact:{displaced:sn({afterDragging:l,destination:t,displacedBy:a,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:mw(e.descriptor)}},afterCritical:d}},hw=(e,t)=>({draggables:e.draggables,droppables:Ri(e.droppables,t)}),pw=({draggable:e,offset:t,initialWindowScroll:r})=>{const n=Vn(e.client,t),a=qn(n,r);return{...e,placeholder:{...e.placeholder,client:n},client:n,page:a}},fw=e=>{const t=e.frame;return t||Y(),t},gw=({additions:e,updatedDroppables:t,viewport:r})=>{const n=r.scroll.diff.value;return e.map(a=>{const o=a.descriptor.droppableId,i=t[o],c=fw(i).scroll.diff.value,d=ct(n,c);return pw({draggable:a,offset:d,initialWindowScroll:r.scroll.initial})})},xw=({state:e,published:t})=>{const r=t.modified.map(v=>{const y=e.dimensions.droppables[v.droppableId];return ki(y,v.scroll)}),n={...e.dimensions.droppables,...dm(r)},a=um(gw({additions:t.additions,updatedDroppables:n,viewport:e.viewport})),o={...e.dimensions.draggables,...a};t.removals.forEach(v=>{delete o[v]});const i={droppables:n,draggables:o},l=Et(e.impact),c=l?i.droppables[l]:null,d=i.draggables[e.critical.draggable.id],h=i.droppables[e.critical.droppable.id],{impact:u,afterCritical:m}=Rm({draggable:d,home:h,draggables:o,viewport:e.viewport}),f=c&&c.isCombineEnabled?e.impact:u,x=Nm({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:f,viewport:e.viewport,afterCritical:m}),b={...e,phase:"DRAGGING",impact:x,onLiftImpact:u,dimensions:i,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?b:{...b,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const To=e=>e.movementMode==="SNAP",Qa=(e,t,r)=>{const n=hw(e.dimensions,t);return!To(e)||r?Qs({state:e,dimensions:n}):Em({state:e,dimensions:n})};function Ya(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const ic={phase:"IDLE",completed:null,shouldFlush:!1};var bw=(e=ic,t)=>{if(t.type==="FLUSH")return{...ic,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Y();const{critical:r,clientSelection:n,viewport:a,dimensions:o,movementMode:i}=t.payload,l=o.draggables[r.draggable.id],c=o.droppables[r.droppable.id],d={selection:n,borderBoxCenter:l.client.borderBox.center,offset:at},h={client:d,page:{selection:ct(d.selection,a.scroll.initial),borderBoxCenter:ct(d.selection,a.scroll.initial),offset:ct(d.selection,a.scroll.diff.value)}},u=ga(o.droppables).every(b=>!b.isFixedOnPage),{impact:m,afterCritical:f}=Rm({draggable:l,home:c,draggables:o.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:i,dimensions:o,initial:h,current:h,isWindowScrollAllowed:u,impact:m,afterCritical:f,onLiftImpact:m,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Y(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Y(),xw({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Mr(e)||Y();const{client:r}=t.payload;return Nr(r,e.current.client.selection)?e:Qs({state:e,clientSelection:r,impact:To(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ya(e);Mr(e)||Y();const{id:r,newScroll:n}=t.payload,a=e.dimensions.droppables[r];if(!a)return e;const o=ki(a,n);return Qa(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Mr(e)||Y();const{id:r,isEnabled:n}=t.payload,a=e.dimensions.droppables[r];a||Y(),a.isEnabled===n&&Y();const o={...a,isEnabled:n};return Qa(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Mr(e)||Y();const{id:r,isCombineEnabled:n}=t.payload,a=e.dimensions.droppables[r];a||Y(),a.isCombineEnabled===n&&Y();const o={...a,isCombineEnabled:n};return Qa(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Mr(e)||Y(),e.isWindowScrollAllowed||Y();const r=t.payload.newScroll;if(Nr(e.viewport.scroll.current,r))return Ya(e);const n=xm(e.viewport,r);return To(e)?Em({state:e,viewport:n}):Qs({state:e,viewport:n})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Mr(e))return e;const r=t.payload.maxScroll;if(Nr(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Y();const r=ew({state:e,type:t.type});return r?Qs({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&Y(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:a}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Y(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:a,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Me(e,t){return e instanceof Object&&"type"in e&&e.type===t}const vw=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),yw=e=>({type:"LIFT",payload:e}),ww=e=>({type:"INITIAL_PUBLISH",payload:e}),kw=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),jw=()=>({type:"COLLECTION_STARTING",payload:null}),Nw=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Cw=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Sw=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Dm=e=>({type:"MOVE",payload:e}),Ew=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),Rw=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),Dw=()=>({type:"MOVE_UP",payload:null}),Pw=()=>({type:"MOVE_DOWN",payload:null}),Iw=()=>({type:"MOVE_RIGHT",payload:null}),Tw=()=>({type:"MOVE_LEFT",payload:null}),Di=()=>({type:"FLUSH",payload:null}),Aw=e=>({type:"DROP_ANIMATE",payload:e}),Pi=e=>({type:"DROP_COMPLETE",payload:e}),Pm=e=>({type:"DROP",payload:e}),Ow=e=>({type:"DROP_PENDING",payload:e}),Im=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Lw=e=>({getState:t,dispatch:r})=>n=>a=>{if(!Me(a,"LIFT")){n(a);return}const{id:o,clientSelection:i,movementMode:l}=a.payload,c=t();c.phase==="DROP_ANIMATING"&&r(Pi({completed:c.completed})),t().phase!=="IDLE"&&Y(),r(Di()),r(vw({draggableId:o,movementMode:l}));const h={draggableId:o,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:u,dimensions:m,viewport:f}=e.startPublishing(h);r(ww({critical:u,dimensions:m,clientSelection:i,movementMode:l,viewport:f}))},Mw=e=>()=>t=>r=>{Me(r,"INITIAL_PUBLISH")&&e.dragging(),Me(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Me(r,"FLUSH")||Me(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const Ii={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},nn={opacity:{drop:0,combining:.7},scale:{drop:.75}},Tm={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Lr=`${Tm.outOfTheWay}s ${Ii.outOfTheWay}`,Ys={fluid:`opacity ${Lr}`,snap:`transform ${Lr}, opacity ${Lr}`,drop:e=>{const t=`${e}s ${Ii.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Lr}`,placeholder:`height ${Lr}, width ${Lr}, margin ${Lr}`},lc=e=>Nr(e,at)?void 0:`translate(${e.x}px, ${e.y}px)`,Ao={moveTo:lc,drop:(e,t)=>{const r=lc(e);if(r)return t?`${r} scale(${nn.scale.drop})`:r}},{minDropTime:Oo,maxDropTime:Am}=Tm,Fw=Am-Oo,cc=1500,_w=.6;var zw=({current:e,destination:t,reason:r})=>{const n=tn(e,t);if(n<=0)return Oo;if(n>=cc)return Am;const a=n/cc,o=Oo+Fw*a,i=r==="CANCEL"?o*_w:o;return Number(i.toFixed(2))},$w=({impact:e,draggable:t,dimensions:r,viewport:n,afterCritical:a})=>{const{draggables:o,droppables:i}=r,l=Et(e),c=l?i[l]:null,d=i[t.descriptor.droppableId],h=Sm({impact:e,draggable:t,draggables:o,afterCritical:a,droppable:c||d,viewport:n});return St(h,t.client.borderBox.center)},Bw=({draggables:e,reason:t,lastImpact:r,home:n,viewport:a,onLiftImpact:o})=>!r.at||t!=="DROP"?{impact:Cm({draggables:e,impact:o,destination:n,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:rn},didDropInsideDroppable:!0};const Uw=({getState:e,dispatch:t})=>r=>n=>{if(!Me(n,"DROP")){r(n);return}const a=e(),o=n.payload.reason;if(a.phase==="COLLECTING"){t(Ow({reason:o}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&Y(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||Y();const l=a.critical,c=a.dimensions,d=c.draggables[a.critical.draggable.id],{impact:h,didDropInsideDroppable:u}=Bw({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),m=u?ji(h):null,f=u?xa(h):null,x={index:l.draggable.index,droppableId:l.droppable.id},b={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:o,mode:a.movementMode,destination:m,combine:f},g=$w({impact:h,draggable:d,dimensions:c,viewport:a.viewport,afterCritical:a.afterCritical}),v={critical:a.critical,afterCritical:a.afterCritical,result:b,impact:h};if(!(!Nr(a.current.client.offset,g)||!!b.combine)){t(Pi({completed:v}));return}const w=zw({current:a.current.client.offset,destination:g,reason:o});t(Aw({newHomeClientOffset:g,dropDuration:w,completed:v}))};var Om=()=>({x:window.pageXOffset,y:window.pageYOffset});function Gw(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Vw({onWindowScroll:e}){function t(){e(Om())}const r=en(t),n=Gw(r);let a=jr;function o(){return a!==jr}function i(){o()&&Y(),a=Mt(window,[n])}function l(){o()||Y(),r.cancel(),a(),a=jr}return{start:i,stop:l,isActive:o}}const qw=e=>Me(e,"DROP_COMPLETE")||Me(e,"DROP_ANIMATE")||Me(e,"FLUSH"),Hw=e=>{const t=Vw({onWindowScroll:r=>{e.dispatch(Ew({newScroll:r}))}});return r=>n=>{!t.isActive()&&Me(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&qw(n)&&t.stop(),r(n)}};var Ww=e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),a=o=>{t||r||(t=!0,e(o),clearTimeout(n))};return a.wasCalled=()=>t,a},Kw=()=>{const e=[],t=a=>{const o=e.findIndex(l=>l.timerId===a);o===-1&&Y();const[i]=e.splice(o,1);i.callback()};return{add:a=>{const o=setTimeout(()=>t(o)),i={timerId:o,callback:a};e.push(i)},flush:()=>{if(!e.length)return;const a=[...e];e.length=0,a.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const Qw=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Yw=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Xw=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n},Bs=(e,t)=>{t()},Dn=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Xa(e,t,r,n){if(!e){r(n(t));return}const a=Ww(r);e(t,{announce:a}),a.wasCalled()||r(n(t))}var Jw=(e,t)=>{const r=Kw();let n=null;const a=(u,m)=>{n&&Y(),Bs("onBeforeCapture",()=>{const f=e().onBeforeCapture;f&&f({draggableId:u,mode:m})})},o=(u,m)=>{n&&Y(),Bs("onBeforeDragStart",()=>{const f=e().onBeforeDragStart;f&&f(Dn(u,m))})},i=(u,m)=>{n&&Y();const f=Dn(u,m);n={mode:m,lastCritical:u,lastLocation:f.source,lastCombine:null},r.add(()=>{Bs("onDragStart",()=>Xa(e().onDragStart,f,t,Fn.onDragStart))})},l=(u,m)=>{const f=ji(m),x=xa(m);n||Y();const b=!Xw(u,n.lastCritical);b&&(n.lastCritical=u);const g=!Qw(n.lastLocation,f);g&&(n.lastLocation=f);const v=!Yw(n.lastCombine,x);if(v&&(n.lastCombine=x),!b&&!g&&!v)return;const y={...Dn(u,n.mode),combine:x,destination:f};r.add(()=>{Bs("onDragUpdate",()=>Xa(e().onDragUpdate,y,t,Fn.onDragUpdate))})},c=()=>{n||Y(),r.flush()},d=u=>{n||Y(),n=null,Bs("onDragEnd",()=>Xa(e().onDragEnd,u,t,Fn.onDragEnd))};return{beforeCapture:a,beforeStart:o,start:i,update:l,flush:c,drop:d,abort:()=>{if(!n)return;const u={...Dn(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};d(u)}}},Zw=(e,t)=>{const r=Jw(e,t);return n=>a=>o=>{if(Me(o,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(Me(o,"INITIAL_PUBLISH")){const l=o.payload.critical;r.beforeStart(l,o.payload.movementMode),a(o),r.start(l,o.payload.movementMode);return}if(Me(o,"DROP_COMPLETE")){const l=o.payload.completed.result;r.flush(),a(o),r.drop(l);return}if(a(o),Me(o,"FLUSH")){r.abort();return}const i=n.getState();i.phase==="DRAGGING"&&r.update(i.critical,i.impact)}};const e1=e=>t=>r=>{if(!Me(r,"DROP_ANIMATION_FINISHED")){t(r);return}const n=e.getState();n.phase!=="DROP_ANIMATING"&&Y(),e.dispatch(Pi({completed:n.completed}))},t1=e=>{let t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return a=>o=>{if((Me(o,"FLUSH")||Me(o,"DROP_COMPLETE")||Me(o,"DROP_ANIMATION_FINISHED"))&&n(),a(o),!Me(o,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Im())}};r=requestAnimationFrame(()=>{r=null,t=Mt(window,[i])})}};var r1=e=>()=>t=>r=>{(Me(r,"DROP_COMPLETE")||Me(r,"FLUSH")||Me(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},s1=e=>{let t=!1;return()=>r=>n=>{if(Me(n,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(Me(n,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Me(n,"DROP_COMPLETE")){t=!1;const a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const n1=e=>Me(e,"DROP_COMPLETE")||Me(e,"DROP_ANIMATE")||Me(e,"FLUSH");var a1=e=>t=>r=>n=>{if(n1(n)){e.stop(),r(n);return}if(Me(n,"INITIAL_PUBLISH")){r(n);const a=t.getState();a.phase!=="DRAGGING"&&Y(),e.start(a);return}r(n),e.scroll(t.getState())};const o1=e=>t=>r=>{if(t(r),!Me(r,"PUBLISH_WHILE_DRAGGING"))return;const n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Pm({reason:n.reason})))},i1=Yu;var l1=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:n,announce:a,autoScroller:o})=>Qu(bw,i1(tv(Mw(r),r1(e),Lw(e),Uw,e1,t1,o1,a1(o),Hw,s1(t),Zw(n,a))));const Ja=()=>({additions:{},removals:{},modified:{}});function c1({registry:e,callbacks:t}){let r=Ja(),n=null;const a=()=>{n||(t.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:c,removals:d,modified:h}=r,u=Object.keys(c).map(x=>e.draggable.getById(x).getDimension(at)).sort((x,b)=>x.descriptor.index-b.descriptor.index),m=Object.keys(h).map(x=>{const g=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:g}}),f={additions:u,removals:Object.keys(d),modified:m};r=Ja(),t.publish(f)}))};return{add:c=>{const d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],a()},remove:c=>{const d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],a()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=Ja())}}}var Lm=({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const a=St({x:t,y:e},{x:n,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},Mm=()=>{const e=document.documentElement;return e||Y(),e},Fm=()=>{const e=Mm();return Lm({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},d1=()=>{const e=Om(),t=Fm(),r=e.y,n=e.x,a=Mm(),o=a.clientWidth,i=a.clientHeight,l=n+o,c=r+i;return{frame:Gt({top:r,left:n,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:at,displacement:at}}}},u1=({critical:e,scrollOptions:t,registry:r})=>{const n=d1(),a=n.scroll.current,o=e.droppable,i=r.droppable.getAllByType(o.type).map(h=>h.callbacks.getDimensionAndWatchScroll(a,t)),l=r.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(a));return{dimensions:{draggables:um(l),droppables:dm(i)},critical:e,viewport:n}};function dc(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var m1=(e,t)=>{let r=null;const n=c1({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=(m,f)=>{e.droppable.exists(m)||Y(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:f})},o=(m,f)=>{r&&(e.droppable.exists(m)||Y(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:f}))},i=(m,f)=>{r&&(e.droppable.exists(m)||Y(),t.updateDroppableScroll({id:m,newScroll:f}))},l=(m,f)=>{r&&e.droppable.getById(m).callbacks.scroll(f)},c=()=>{if(!r)return;n.stop();const m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(f=>f.callbacks.dragStopped()),r.unsubscribe(),r=null},d=m=>{r||Y();const f=r.critical.draggable;m.type==="ADDITION"&&dc(e,f,m.value)&&n.add(m.value),m.type==="REMOVAL"&&dc(e,f,m.value)&&n.remove(m.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:o,scrollDroppable:l,updateDroppableScroll:i,startPublishing:m=>{r&&Y();const f=e.draggable.getById(m.draggableId),x=e.droppable.getById(f.descriptor.droppableId),b={draggable:f.descriptor,droppable:x.descriptor},g=e.subscribe(d);return r={critical:b,unsubscribe:g},u1({critical:b,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:c}},_m=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",h1=e=>{window.scrollBy(e.x,e.y)};const p1=nt(e=>ga(e).filter(t=>!(!t.isEnabled||!t.frame))),f1=(e,t)=>p1(t).find(n=>(n.frame||Y(),wm(n.frame.pageMarginBox)(e)))||null;var g1=({center:e,destination:t,droppables:r})=>{if(t){const a=r[t];return a.frame?a:null}return f1(e,r)};const an={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var x1=(e,t,r=()=>an)=>{const n=r(),a=e[t.size]*n.startFromPercentage,o=e[t.size]*n.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:o}},zm=({startOfRange:e,endOfRange:t,current:r})=>{const n=t-e;return n===0?0:(r-e)/n},Ti=1,b1=(e,t,r=()=>an)=>{const n=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return Ti;const o=1-zm({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=n.maxPixelScroll*n.ease(o);return Math.ceil(i)},v1=(e,t,r)=>{const n=r(),a=n.durationDampening.accelerateAt,o=n.durationDampening.stopDampeningAt,i=t,l=o,d=Date.now()-i;if(d>=o)return e;if(d<a)return Ti;const h=zm({startOfRange:a,endOfRange:l,current:d}),u=e*n.ease(h);return Math.ceil(u)},uc=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:a})=>{const o=b1(e,t,a);return o===0?0:n?Math.max(v1(o,r,a),Ti):o},mc=({container:e,distanceToEdges:t,dragStartTime:r,axis:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=x1(e,n,o);return t[n.end]<t[n.start]?uc({distanceToEdge:t[n.end],thresholds:i,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o}):-1*uc({distanceToEdge:t[n.start],thresholds:i,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})},y1=({container:e,subject:t,proposedScroll:r})=>{const n=t.height>e.height,a=t.width>e.width;return!a&&!n?r:a&&n?null:{x:a?0:r.x,y:n?0:r.y}};const w1=cm(e=>e===0?0:e);var $m=({dragStartTime:e,container:t,subject:r,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i={top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y,left:n.x-t.left},l=mc({container:t,distanceToEdges:i,dragStartTime:e,axis:Ni,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),c=mc({container:t,distanceToEdges:i,dragStartTime:e,axis:pm,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),d=w1({x:c,y:l});if(Nr(d,at))return null;const h=y1({container:t,subject:r,proposedScroll:d});return h?Nr(h,at)?null:h:null};const k1=cm(e=>e===0?0:e>0?1:-1),Ai=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:n})=>{const a=ct(t,n),o={x:e(a.x,r.x),y:e(a.y,r.y)};return Nr(o,at)?null:o}})(),Bm=({max:e,current:t,change:r})=>{const n={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=k1(r),o=Ai({max:n,current:t,change:a});return!o||a.x!==0&&o.x===0||a.y!==0&&o.y===0},Oi=(e,t)=>Bm({current:e.scroll.current,max:e.scroll.max,change:t}),j1=(e,t)=>{if(!Oi(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return Ai({current:n,max:r,change:t})},Li=(e,t)=>{const r=e.frame;return r?Bm({current:r.scroll.current,max:r.scroll.max,change:t}):!1},N1=(e,t)=>{const r=e.frame;return!r||!Li(e,t)?null:Ai({current:r.scroll.current,max:r.scroll.max,change:t})};var C1=({viewport:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=$m({dragStartTime:n,container:e.frame,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return i&&Oi(e,i)?i:null},S1=({droppable:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=e.frame;if(!i)return null;const l=$m({dragStartTime:n,container:i.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return l&&Li(e,l)?l:null},hc=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:a,getAutoScrollerOptions:o})=>{const i=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const u=e.viewport,m=C1({dragStartTime:t,viewport:u,subject:c,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o});if(m){n(m);return}}const d=g1({center:i,destination:Et(e.impact),droppables:e.dimensions.droppables});if(!d)return;const h=S1({dragStartTime:t,droppable:d,subject:c,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o});h&&a(d.descriptor.id,h)},E1=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>an})=>{const n=en(e),a=en(t);let o=null;const i=d=>{o||Y();const{shouldUseTimeDampening:h,dragStartTime:u}=o;hc({state:d,scrollWindow:n,scrollDroppable:a,dragStartTime:u,shouldUseTimeDampening:h,getAutoScrollerOptions:r})};return{start:d=>{o&&Y();const h=Date.now();let u=!1;const m=()=>{u=!0};hc({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:r}),o={dragStartTime:h,shouldUseTimeDampening:u},u&&i(d)},stop:()=>{o&&(n.cancel(),a.cancel(),o=null)},scroll:i}},R1=({move:e,scrollDroppable:t,scrollWindow:r})=>{const n=(l,c)=>{const d=ct(l.current.client.selection,c);e({client:d})},a=(l,c)=>{if(!Li(l,c))return c;const d=N1(l,c);if(!d)return t(l.descriptor.id,c),null;const h=St(c,d);return t(l.descriptor.id,h),St(c,h)},o=(l,c,d)=>{if(!l||!Oi(c,d))return d;const h=j1(c,d);if(!h)return r(d),null;const u=St(d,h);return r(u),St(d,u)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=Et(l.impact);d||Y();const h=a(l.dimensions.droppables[d],c);if(!h)return;const u=l.viewport,m=o(l.isWindowScrollAllowed,u,h);m&&n(l,m)}},D1=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:n})=>{const a=E1({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n}),o=R1({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(n().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&o(c)}},start:a.start,stop:a.stop}};const ws="data-rfd",ks=(()=>{const e=`${ws}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Lo=(()=>{const e=`${ws}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),P1=(()=>{const e=`${ws}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),pc={contextId:`${ws}-scroll-container-context-id`},I1=e=>t=>`[${t}="${e}"]`,Us=(e,t)=>e.map(r=>{const n=r.styles[t];return n?`${r.selector} { ${n} }`:""}).join(" "),T1="pointer-events: none;";var A1=e=>{const t=I1(e),r=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(ks.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:T1,dropAnimating:l}}})(),n=(()=>{const l=`
      transition: ${Ys.outOfTheWay};
    `;return{selector:t(Lo.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),a={selector:t(P1.contextId),styles:{always:"overflow-anchor: none;"}},i=[n,r,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Us(i,"always"),resting:Us(i,"resting"),dragging:Us(i,"dragging"),dropAnimating:Us(i,"dropAnimating"),userCancel:Us(i,"userCancel")}};const Rt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?p.useLayoutEffect:p.useEffect,Za=()=>{const e=document.querySelector("head");return e||Y(),e},fc=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function O1(e,t){const r=Re(()=>A1(e),[e]),n=p.useRef(null),a=p.useRef(null),o=ue(nt(u=>{const m=a.current;m||Y(),m.textContent=u}),[]),i=ue(u=>{const m=n.current;m||Y(),m.textContent=u},[]);Rt(()=>{!n.current&&!a.current||Y();const u=fc(t),m=fc(t);return n.current=u,a.current=m,u.setAttribute(`${ws}-always`,e),m.setAttribute(`${ws}-dynamic`,e),Za().appendChild(u),Za().appendChild(m),i(r.always),o(r.resting),()=>{const f=x=>{const b=x.current;b||Y(),Za().removeChild(b),x.current=null};f(n),f(a)}},[t,i,o,r.always,r.resting,e]);const l=ue(()=>o(r.dragging),[o,r.dragging]),c=ue(u=>{if(u==="DROP"){o(r.dropAnimating);return}o(r.userCancel)},[o,r.dropAnimating,r.userCancel]),d=ue(()=>{a.current&&o(r.resting)},[o,r.resting]);return Re(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function Um(e,t){return Array.from(e.querySelectorAll(t))}var Gm=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function ya(e){return e instanceof Gm(e).HTMLElement}function L1(e,t){const r=`[${ks.contextId}="${e}"]`,n=Um(document,r);if(!n.length)return null;const a=n.find(o=>o.getAttribute(ks.draggableId)===t);return!a||!ya(a)?null:a}function M1(e){const t=p.useRef({}),r=p.useRef(null),n=p.useRef(null),a=p.useRef(!1),o=ue(function(m,f){const x={id:m,focus:f};return t.current[m]=x,function(){const g=t.current;g[m]!==x&&delete g[m]}},[]),i=ue(function(m){const f=L1(e,m);f&&f!==document.activeElement&&f.focus()},[e]),l=ue(function(m,f){r.current===m&&(r.current=f)},[]),c=ue(function(){n.current||a.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const m=r.current;m&&i(m)}))},[i]),d=ue(function(m){r.current=null;const f=document.activeElement;f&&f.getAttribute(ks.draggableId)===m&&(r.current=m)},[]);return Rt(()=>(a.current=!0,function(){a.current=!1;const m=n.current;m&&cancelAnimationFrame(m)}),[]),Re(()=>({register:o,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[o,d,c,l])}function F1(){const e={draggables:{},droppables:{}},t=[];function r(u){return t.push(u),function(){const f=t.indexOf(u);f!==-1&&t.splice(f,1)}}function n(u){t.length&&t.forEach(m=>m(u))}function a(u){return e.draggables[u]||null}function o(u){const m=a(u);return m||Y(),m}const i={register:u=>{e.draggables[u.descriptor.id]=u,n({type:"ADDITION",value:u})},update:(u,m)=>{const f=e.draggables[m.descriptor.id];f&&f.uniqueId===u.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[u.descriptor.id]=u)},unregister:u=>{const m=u.descriptor.id,f=a(m);f&&u.uniqueId===f.uniqueId&&(delete e.draggables[m],e.droppables[u.descriptor.droppableId]&&n({type:"REMOVAL",value:u}))},getById:o,findById:a,exists:u=>!!a(u),getAllByType:u=>Object.values(e.draggables).filter(m=>m.descriptor.type===u)};function l(u){return e.droppables[u]||null}function c(u){const m=l(u);return m||Y(),m}const d={register:u=>{e.droppables[u.descriptor.id]=u},unregister:u=>{const m=l(u.descriptor.id);m&&u.uniqueId===m.uniqueId&&delete e.droppables[u.descriptor.id]},getById:c,findById:l,exists:u=>!!l(u),getAllByType:u=>Object.values(e.droppables).filter(m=>m.descriptor.type===u)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:d,subscribe:r,clean:h}}function _1(){const e=Re(F1,[]);return p.useEffect(()=>function(){e.clean()},[e]),e}var Mi=ke.createContext(null),Yn=()=>{const e=document.body;return e||Y(),e};const z1={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},$1=e=>`rfd-announcement-${e}`;function B1(e){const t=Re(()=>$1(e),[e]),r=p.useRef(null);return p.useEffect(function(){const o=document.createElement("div");return r.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Hn(o.style,z1),Yn().appendChild(o),function(){setTimeout(function(){const c=Yn();c.contains(o)&&c.removeChild(o),o===r.current&&(r.current=null)})}},[t]),ue(a=>{const o=r.current;if(o){o.textContent=a;return}},[])}const U1={separator:"::"};function Fi(e,t=U1){const r=ke.useId();return Re(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function G1({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function V1({contextId:e,text:t}){const r=Fi("hidden-text",{separator:"-"}),n=Re(()=>G1({contextId:e,uniqueId:r}),[r,e]);return p.useEffect(function(){const o=document.createElement("div");return o.id=n,o.textContent=t,o.style.display="none",Yn().appendChild(o),function(){const l=Yn();l.contains(o)&&l.removeChild(o)}},[n,t]),n}var wa=ke.createContext(null);function Vm(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),t}function q1(){let e=null;function t(){return!!e}function r(i){return i===e}function n(i){e&&Y();const l={abandon:i};return e=l,l}function a(){e||Y(),e=null}function o(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:o}}function on(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const H1=9,W1=13,_i=27,qm=32,K1=33,Q1=34,Y1=35,X1=36,J1=37,Z1=38,ek=39,tk=40,rk={[W1]:!0,[H1]:!0};var Hm=e=>{rk[e.keyCode]&&e.preventDefault()};const ka=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(n=>`on${n}`in document)||e})(),Wm=0,gc=5;function sk(e,t){return Math.abs(t.x-e.x)>=gc||Math.abs(t.y-e.y)>=gc}const xc={type:"IDLE"};function nk({cancel:e,completed:t,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:a=>{const{button:o,clientX:i,clientY:l}=a;if(o!==Wm)return;const c={x:i,y:l},d=r();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&Y();const h=d.point;if(!sk(h,c))return;a.preventDefault();const u=d.actions.fluidLift(c);n({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:a=>{const o=r();if(o.type!=="DRAGGING"){e();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:a=>{r().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:a=>{if(r().type==="PENDING"){e();return}if(a.keyCode===_i){a.preventDefault(),e();return}Hm(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:a=>{const o=r();if(o.type==="IDLE"&&Y(),o.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:ka,fn:e}]}function ak(e){const t=p.useRef(xc),r=p.useRef(jr),n=Re(()=>({eventName:"mousedown",fn:function(u){if(u.defaultPrevented||u.button!==Wm||u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)return;const m=e.findClosestDraggableId(u);if(!m)return;const f=e.tryGetLock(m,i,{sourceEvent:u});if(!f)return;u.preventDefault();const x={x:u.clientX,y:u.clientY};r.current(),d(f,x)}}),[e]),a=Re(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const u=e.findClosestDraggableId(h);if(!u)return;const m=e.findOptionsForDraggable(u);m&&(m.shouldRespectForcePress||e.canGetLock(u)&&h.preventDefault())}}),[e]),o=ue(function(){const u={passive:!1,capture:!0};r.current=Mt(window,[a,n],u)},[a,n]),i=ue(()=>{t.current.type!=="IDLE"&&(t.current=xc,r.current(),o())},[o]),l=ue(()=>{const h=t.current;i(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[i]),c=ue(function(){const u={capture:!0,passive:!1},m=nk({cancel:l,completed:i,getPhase:()=>t.current,setPhase:f=>{t.current=f}});r.current=Mt(window,m,u)},[l,i]),d=ue(function(u,m){t.current.type!=="IDLE"&&Y(),t.current={type:"PENDING",point:m,actions:u},c()},[c]);Rt(function(){return o(),function(){r.current()}},[o])}function ok(){}const ik={[Q1]:!0,[K1]:!0,[X1]:!0,[Y1]:!0};function lk(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===_i){a.preventDefault(),r();return}if(a.keyCode===qm){a.preventDefault(),n();return}if(a.keyCode===tk){a.preventDefault(),e.moveDown();return}if(a.keyCode===Z1){a.preventDefault(),e.moveUp();return}if(a.keyCode===ek){a.preventDefault(),e.moveRight();return}if(a.keyCode===J1){a.preventDefault(),e.moveLeft();return}if(ik[a.keyCode]){a.preventDefault();return}Hm(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:ka,fn:r}]}function ck(e){const t=p.useRef(ok),r=Re(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==qm)return;const i=e.findClosestDraggableId(o);if(!i)return;const l=e.tryGetLock(i,h,{sourceEvent:o});if(!l)return;o.preventDefault();let c=!0;const d=l.snapLift();t.current();function h(){c||Y(),c=!1,t.current(),n()}t.current=Mt(window,lk(d,h),{capture:!0,passive:!1})}}),[e]),n=ue(function(){const o={passive:!1,capture:!0};t.current=Mt(window,[r],o)},[r]);Rt(function(){return n(),function(){t.current()}},[n])}const eo={type:"IDLE"},dk=120,uk=.15;function mk({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===_i&&r.preventDefault(),e()}},{eventName:ka,fn:e}]}function hk({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const a=r();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;const{clientX:o,clientY:i}=n.touches[0],l={x:o,y:i};n.preventDefault(),a.actions.move(l)}},{eventName:"touchend",fn:n=>{const a=r();if(a.type!=="DRAGGING"){e();return}n.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){e();return}n.preventDefault(),e()}},{eventName:"touchforcechange",fn:n=>{const a=r();a.type==="IDLE"&&Y();const o=n.touches[0];if(!o||!(o.force>=uk))return;const l=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){l&&e();return}if(l){if(a.hasMoved){n.preventDefault();return}e();return}n.preventDefault()}},{eventName:ka,fn:e}]}function pk(e){const t=p.useRef(eo),r=p.useRef(jr),n=ue(function(){return t.current},[]),a=ue(function(f){t.current=f},[]),o=Re(()=>({eventName:"touchstart",fn:function(f){if(f.defaultPrevented)return;const x=e.findClosestDraggableId(f);if(!x)return;const b=e.tryGetLock(x,l,{sourceEvent:f});if(!b)return;const g=f.touches[0],{clientX:v,clientY:y}=g,w={x:v,y};r.current(),u(b,w)}}),[e]),i=ue(function(){const f={capture:!0,passive:!1};r.current=Mt(window,[o],f)},[o]),l=ue(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),a(eo),r.current(),i())},[i,a]),c=ue(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=ue(function(){const f={capture:!0,passive:!1},x={cancel:c,completed:l,getPhase:n},b=Mt(window,hk(x),f),g=Mt(window,mk(x),f);r.current=function(){b(),g()}},[c,n,l]),h=ue(function(){const f=n();f.type!=="PENDING"&&Y();const x=f.actions.fluidLift(f.point);a({type:"DRAGGING",actions:x,hasMoved:!1})},[n,a]),u=ue(function(f,x){n().type!=="IDLE"&&Y();const b=setTimeout(h,dk);a({type:"PENDING",point:x,actions:f,longPressTimerId:b}),d()},[d,n,a,h]);Rt(function(){return i(),function(){r.current();const x=n();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),a(eo))}},[n,i,a]),Rt(function(){return Mt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const fk=["input","button","textarea","select","option","optgroup","video","audio"];function Km(e,t){if(t==null)return!1;if(fk.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Km(e,t.parentElement)}function gk(e,t){const r=t.target;return ya(r)?Km(e,r):!1}var xk=e=>Gt(e.getBoundingClientRect()).center;function bk(e){return e instanceof Gm(e).Element}const vk=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||e})();function Qm(e,t){return e==null?null:e[vk](t)?e:Qm(e.parentElement,t)}function yk(e,t){return e.closest?e.closest(t):Qm(e,t)}function wk(e){return`[${ks.contextId}="${e}"]`}function kk(e,t){const r=t.target;if(!bk(r))return null;const n=wk(e),a=yk(r,n);return!a||!ya(a)?null:a}function jk(e,t){const r=kk(e,t);return r?r.getAttribute(ks.draggableId):null}function Nk(e,t){const r=`[${Lo.contextId}="${e}"]`,a=Um(document,r).find(o=>o.getAttribute(Lo.id)===t);return!a||!ya(a)?null:a}function Ck(e){e.preventDefault()}function Pn({expected:e,phase:t,isLockActive:r,shouldWarn:n}){return!(!r()||e!==t)}function Ym({lockAPI:e,store:t,registry:r,draggableId:n}){if(e.isClaimed())return!1;const a=r.draggable.findById(n);return!(!a||!a.options.isEnabled||!_m(t.getState(),n))}function Sk({lockAPI:e,contextId:t,store:r,registry:n,draggableId:a,forceSensorStop:o,sourceEvent:i}){if(!Ym({lockAPI:e,store:r,registry:n,draggableId:a}))return null;const c=n.draggable.getById(a),d=Nk(t,c.descriptor.id);if(!d||i&&!c.options.canDragInteractiveElements&&gk(d,i))return null;const h=e.claim(o||jr);let u="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function f(){return e.isActive(h)}function x(j,E){Pn({expected:j,phase:u,isLockActive:f,shouldWarn:!0})&&r.dispatch(E())}const b=x.bind(null,"DRAGGING");function g(j){function E(){e.release(),u="COMPLETED"}u!=="PRE_DRAG"&&(E(),Y()),r.dispatch(yw(j.liftActionArgs)),u="DRAGGING";function C(D,T={shouldBlockNextClick:!1}){if(j.cleanup(),T.shouldBlockNextClick){const $=Mt(window,[{eventName:"click",fn:Ck,options:{once:!0,passive:!1,capture:!0}}]);setTimeout($)}E(),r.dispatch(Pm({reason:D}))}return{isActive:()=>Pn({expected:"DRAGGING",phase:u,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:m,drop:D=>C("DROP",D),cancel:D=>C("CANCEL",D),...j.actions}}function v(j){const E=en(D=>{b(()=>Dm({client:D}))});return{...g({liftActionArgs:{id:a,clientSelection:j,movementMode:"FLUID"},cleanup:()=>E.cancel(),actions:{move:E}}),move:E}}function y(){const j={moveUp:()=>b(Dw),moveRight:()=>b(Iw),moveDown:()=>b(Pw),moveLeft:()=>b(Tw)};return g({liftActionArgs:{id:a,clientSelection:xk(d),movementMode:"SNAP"},cleanup:jr,actions:j})}function w(){Pn({expected:"PRE_DRAG",phase:u,isLockActive:f,shouldWarn:!0})&&e.release()}return{isActive:()=>Pn({expected:"PRE_DRAG",phase:u,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:v,snapLift:y,abort:w}}const Ek=[ak,ck,pk];function Rk({contextId:e,store:t,registry:r,customSensors:n,enableDefaultSensors:a}){const o=[...a?Ek:[],...n||[]],i=p.useState(()=>q1())[0],l=ue(function(g,v){on(g)&&!on(v)&&i.tryAbandon()},[i]);Rt(function(){let g=t.getState();return t.subscribe(()=>{const y=t.getState();l(g,y),g=y})},[i,t,l]),Rt(()=>i.tryAbandon,[i.tryAbandon]);const c=ue(b=>Ym({lockAPI:i,registry:r,store:t,draggableId:b}),[i,r,t]),d=ue((b,g,v)=>Sk({lockAPI:i,registry:r,contextId:e,store:t,draggableId:b,forceSensorStop:g||null,sourceEvent:v&&v.sourceEvent?v.sourceEvent:null}),[e,i,r,t]),h=ue(b=>jk(e,b),[e]),u=ue(b=>{const g=r.draggable.findById(b);return g?g.options:null},[r.draggable]),m=ue(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Di()))},[i,t]),f=ue(()=>i.isClaimed(),[i]),x=Re(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:u,tryReleaseLock:m,isLockClaimed:f}),[c,d,h,u,m,f]);for(let b=0;b<o.length;b++)o[b](x)}const Dk=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};xn.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Pk=e=>({...an,...e.autoScrollerOptions,durationDampening:{...an.durationDampening,...e.autoScrollerOptions}});function Gs(e){return e.current||Y(),e.current}function Ik(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:a,dragHandleUsageInstructions:o}=e,i=p.useRef(null),l=Vm(e),c=ue(()=>Dk(l.current),[l]),d=ue(()=>Pk(l.current),[l]),h=B1(t),u=V1({contextId:t,text:o}),m=O1(t,a),f=ue($=>{Gs(i).dispatch($)},[]),x=Re(()=>ql({publishWhileDragging:kw,updateDroppableScroll:Nw,updateDroppableIsEnabled:Cw,updateDroppableIsCombineEnabled:Sw,collectionStarting:jw},f),[f]),b=_1(),g=Re(()=>m1(b,x),[b,x]),v=Re(()=>D1({scrollWindow:h1,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:d,...ql({move:Dm},f)}),[g.scrollDroppable,f,d]),y=M1(t),w=Re(()=>l1({announce:h,autoScroller:v,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:m}),[h,v,g,y,c,m]);i.current=w;const k=ue(()=>{const $=Gs(i);$.getState().phase!=="IDLE"&&$.dispatch(Di())},[]),j=ue(()=>{const $=Gs(i).getState();return $.phase==="DROP_ANIMATING"?!0:$.phase==="IDLE"?!1:$.isDragging},[]),E=Re(()=>({isDragging:j,tryAbort:k}),[j,k]);r(E);const C=ue($=>_m(Gs(i).getState(),$),[]),D=ue(()=>Mr(Gs(i).getState()),[]),T=Re(()=>({marshal:g,focus:y,contextId:t,canLift:C,isMovementAllowed:D,dragHandleUsageInstructionsId:u,registry:b}),[t,g,u,y,C,D,b]);return Rk({contextId:t,store:w,registry:b,customSensors:n||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),p.useEffect(()=>k,[k]),ke.createElement(wa.Provider,{value:T},ke.createElement(ry,{context:Mi,store:w},e.children))}function Tk(){return ke.useId()}function Xm(e){const t=Tk(),r=e.dragHandleUsageInstructions||Fn.dragHandleUsageInstructions;return ke.createElement(cy,null,n=>ke.createElement(Ik,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const bc={dragging:5e3,dropAnimating:4500},Ak=(e,t)=>t?Ys.drop(t.duration):e?Ys.snap:Ys.fluid,Ok=(e,t)=>{if(e)return t?nn.opacity.drop:nn.opacity.combining},Lk=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Mk(e){const r=e.dimension.client,{offset:n,combineWith:a,dropping:o}=e,i=!!a,l=Lk(e),c=!!o,d=c?Ao.drop(n,i):Ao.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Ak(l,o),transform:d,opacity:Ok(i,c),zIndex:c?bc.dropAnimating:bc.dragging,pointerEvents:"none"}}function Fk(e){return{transform:Ao.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function _k(e){return e.type==="DRAGGING"?Mk(e):Fk(e)}function zk(e,t,r=at){const n=window.getComputedStyle(t),a=t.getBoundingClientRect(),o=sm(a,n),i=qn(o,r),l={client:o,tagName:t.tagName.toLowerCase(),display:n.display},c={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:o,page:i}}function $k(e){const t=Fi("draggable"),{descriptor:r,registry:n,getDraggableRef:a,canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:l}=e,c=Re(()=>({canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:l}),[o,l,i]),d=ue(f=>{const x=a();return x||Y(),zk(r,x,f)},[r,a]),h=Re(()=>({uniqueId:t,descriptor:r,options:c,getDimension:d}),[r,d,c,t]),u=p.useRef(h),m=p.useRef(!0);Rt(()=>(n.draggable.register(u.current),()=>n.draggable.unregister(u.current)),[n.draggable]),Rt(()=>{if(m.current){m.current=!1;return}const f=u.current;u.current=h,n.draggable.update(h,f)},[h,n.draggable])}var zi=ke.createContext(null);function Xn(e){const t=p.useContext(e);return t||Y(),t}function Bk(e){e.preventDefault()}const Uk=e=>{const t=p.useRef(null),r=ue((E=null)=>{t.current=E},[]),n=ue(()=>t.current,[]),{contextId:a,dragHandleUsageInstructionsId:o,registry:i}=Xn(wa),{type:l,droppableId:c}=Xn(zi),d=Re(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:h,draggableId:u,isEnabled:m,shouldRespectForcePress:f,canDragInteractiveElements:x,isClone:b,mapped:g,dropAnimationFinished:v}=e;if(!b){const E=Re(()=>({descriptor:d,registry:i,getDraggableRef:n,canDragInteractiveElements:x,shouldRespectForcePress:f,isEnabled:m}),[d,i,n,x,f,m]);$k(E)}const y=Re(()=>m?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":u,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:Bk}:null,[a,o,u,m]),w=ue(E=>{g.type==="DRAGGING"&&g.dropping&&E.propertyName==="transform"&&xn.flushSync(v)},[v,g]),k=Re(()=>{const E=_k(g),C=g.type==="DRAGGING"&&g.dropping?w:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":u,style:E,onTransitionEnd:C},dragHandleProps:y}},[a,y,u,g,w,r]),j=Re(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return ke.createElement(ke.Fragment,null,h(k,g.snapshot,j))};var Jm=(e,t)=>e===t,Zm=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const Gk=e=>e.combine?e.combine.draggableId:null,Vk=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function qk(){const e=nt((a,o)=>({x:a,y:o})),t=nt((a,o,i=null,l=null,c=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:i,combineWith:l,combineTargetFor:null})),r=nt((a,o,i,l,c=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:o,offset:a,dimension:i,forceShouldAnimate:h,snapshot:t(o,l,c,d,null)}}));return(a,o)=>{if(on(a)){if(a.critical.draggable.id!==o.draggableId)return null;const i=a.current.client.offset,l=a.dimensions.draggables[o.draggableId],c=Et(a.impact),d=Vk(a.impact),h=a.forceShouldAnimate;return r(e(i.x,i.y),a.movementMode,l,o.isClone,c,d,h)}if(a.phase==="DROP_ANIMATING"){const i=a.completed;if(i.result.draggableId!==o.draggableId)return null;const l=o.isClone,c=a.dimensions.draggables[o.draggableId],d=i.result,h=d.mode,u=Zm(d),m=Gk(d),x={duration:a.dropDuration,curve:Ii.drop,moveTo:a.newHomeClientOffset,opacity:m?nn.opacity.drop:null,scale:m?nn.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:c,dropping:x,draggingOver:u,combineWith:m,mode:h,forceShouldAnimate:null,snapshot:t(h,l,u,m,x)}}}return null}}function eh(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Hk={mapped:{type:"SECONDARY",offset:at,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:eh(null)}};function Wk(){const e=nt((i,l)=>({x:i,y:l})),t=nt(eh),r=nt((i,l=null,c)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),n=i=>i?r(at,i,!0):null,a=(i,l,c,d)=>{const h=c.displaced.visible[i],u=!!(d.inVirtualList&&d.effected[i]),m=xa(c),f=m&&m.draggableId===i?l:null;if(!h){if(!u)return n(f);if(c.displaced.invisible[i])return null;const g=Ts(d.displacedBy.point),v=e(g.x,g.y);return r(v,f,!0)}if(u)return n(f);const x=c.displacedBy.point,b=e(x.x,x.y);return r(b,f,h.shouldAnimate)};return(i,l)=>{if(on(i))return i.critical.draggable.id===l.draggableId?null:a(l.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const c=i.completed;return c.result.draggableId===l.draggableId?null:a(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const Kk=()=>{const e=qk(),t=Wk();return(n,a)=>e(n,a)||t(n,a)||Hk},Qk={dropAnimationFinished:Im},Yk=rm(Kk,Qk,null,{context:Mi,areStatePropsEqual:Jm})(Uk);function th(e){return Xn(zi).isUsingCloneFor===e.draggableId&&!e.isClone?null:ke.createElement(Yk,e)}function Mo(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return ke.createElement(th,Hn({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const rh=e=>t=>e===t,Xk=rh("scroll"),Jk=rh("auto"),vc=(e,t)=>t(e.overflowX)||t(e.overflowY),Zk=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return vc(r,Xk)||vc(r,Jk)},ej=()=>!1,sh=e=>e==null?null:e===document.body?ej()?e:null:e===document.documentElement?null:Zk(e)?e:sh(e.parentElement);var Fo=e=>({x:e.scrollLeft,y:e.scrollTop});const nh=e=>e?window.getComputedStyle(e).position==="fixed"?!0:nh(e.parentElement):!1;var tj=e=>{const t=sh(e),r=nh(e);return{closestScrollable:t,isFixedOnPage:r}},rj=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:a,client:o,page:i,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:m,client:f}=l,x=Lm({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:f.paddingBox.height,width:f.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:f,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:at,displacement:at}}}})(),d=a==="vertical"?Ni:pm,h=ys({page:i,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:d,isEnabled:t,client:o,page:i,frame:c,subject:h}};const sj=(e,t)=>{const r=nm(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,o=n+t.scrollHeight,i=a+t.scrollWidth,c=yi({top:n,right:i,bottom:o,left:a},r.border);return wi({borderBox:c,margin:r.margin,border:r.border,padding:r.padding})};var nj=({ref:e,descriptor:t,env:r,windowScroll:n,direction:a,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:l})=>{const c=r.closestScrollable,d=sj(e,c),h=qn(d,n),u=(()=>{if(!c)return null;const f=nm(c),x={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:f,page:qn(f,n),scroll:Fo(c),scrollSize:x,shouldClipSubject:l}})();return rj({descriptor:t,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:r.isFixedOnPage,direction:a,client:d,page:h,closest:u})};const aj={passive:!1},oj={passive:!0};var yc=e=>e.shouldPublishImmediately?aj:oj;const In=e=>e&&e.env.closestScrollable||null;function ij(e){const t=p.useRef(null),r=Xn(wa),n=Fi("droppable"),{registry:a,marshal:o}=r,i=Vm(e),l=Re(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=p.useRef(l),d=Re(()=>nt((k,j)=>{t.current||Y();const E={x:k,y:j};o.updateDroppableScroll(l.id,E)}),[l.id,o]),h=ue(()=>{const k=t.current;return!k||!k.env.closestScrollable?at:Fo(k.env.closestScrollable)},[]),u=ue(()=>{const k=h();d(k.x,k.y)},[h,d]),m=Re(()=>en(u),[u]),f=ue(()=>{const k=t.current,j=In(k);if(k&&j||Y(),k.scrollOptions.shouldPublishImmediately){u();return}m()},[m,u]),x=ue((k,j)=>{t.current&&Y();const E=i.current,C=E.getDroppableRef();C||Y();const D=tj(C),T={ref:C,descriptor:l,env:D,scrollOptions:j};t.current=T;const $=nj({ref:C,descriptor:l,env:D,windowScroll:k,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),M=D.closestScrollable;return M&&(M.setAttribute(pc.contextId,r.contextId),M.addEventListener("scroll",f,yc(T.scrollOptions))),$},[r.contextId,l,f,i]),b=ue(()=>{const k=t.current,j=In(k);return k&&j||Y(),Fo(j)},[]),g=ue(()=>{const k=t.current;k||Y();const j=In(k);t.current=null,j&&(m.cancel(),j.removeAttribute(pc.contextId),j.removeEventListener("scroll",f,yc(k.scrollOptions)))},[f,m]),v=ue(k=>{const j=t.current;j||Y();const E=In(j);E||Y(),E.scrollTop+=k.y,E.scrollLeft+=k.x},[]),y=Re(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:b,dragStopped:g,scroll:v}),[g,x,b,v]),w=Re(()=>({uniqueId:n,descriptor:l,callbacks:y}),[y,l,n]);Rt(()=>(c.current=w.descriptor,a.droppable.register(w),()=>{t.current&&g(),a.droppable.unregister(w)}),[y,l,g,w,o,a.droppable]),Rt(()=>{t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Rt(()=>{t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function to(){}const wc={width:0,height:0,margin:gy},lj=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?wc:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},cj=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=lj({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Ys.placeholder:null}},dj=e=>{const t=p.useRef(null),r=ue(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:a,onClose:o,contextId:i}=e,[l,c]=p.useState(e.animate==="open");p.useEffect(()=>l?n!=="open"?(r(),c(!1),to):t.current?to:(t.current=setTimeout(()=>{t.current=null,c(!1)}),r):to,[n,l,r]);const d=ue(u=>{u.propertyName==="height"&&(a(),n==="close"&&o())},[n,o,a]),h=cj({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return ke.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":i,onTransitionEnd:d,ref:e.innerRef})};var uj=ke.memo(dj);class mj extends ke.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const hj=e=>{const t=p.useContext(wa);t||Y();const{contextId:r,isMovementAllowed:n}=t,a=p.useRef(null),o=p.useRef(null),{children:i,droppableId:l,type:c,mode:d,direction:h,ignoreContainerClipping:u,isDropDisabled:m,isCombineEnabled:f,snapshot:x,useClone:b,updateViewportMaxScroll:g,getContainerForClone:v}=e,y=ue(()=>a.current,[]),w=ue((M=null)=>{a.current=M},[]);ue(()=>o.current,[]);const k=ue((M=null)=>{o.current=M},[]),j=ue(()=>{n()&&g({maxScroll:Fm()})},[n,g]);ij({droppableId:l,type:c,mode:d,direction:h,isDropDisabled:m,isCombineEnabled:f,ignoreContainerClipping:u,getDroppableRef:y});const E=Re(()=>ke.createElement(mj,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:M,data:U,animate:me})=>ke.createElement(uj,{placeholder:U,onClose:M,innerRef:k,animate:me,contextId:r,onTransitionEnd:j})),[r,j,e.placeholder,e.shouldAnimatePlaceholder,k]),C=Re(()=>({innerRef:w,placeholder:E,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}}),[r,l,E,w]),D=b?b.dragging.draggableId:null,T=Re(()=>({droppableId:l,type:c,isUsingCloneFor:D}),[l,D,c]);function $(){if(!b)return null;const{dragging:M,render:U}=b,me=ke.createElement(th,{draggableId:M.draggableId,index:M.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(B,F)=>U(B,F,M));return k0.createPortal(me,v())}return ke.createElement(zi.Provider,{value:T},i(C,x),$())};function pj(){return document.body||Y(),document.body}const kc={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:pj},ah=e=>{let t={...e},r;for(r in kc)e[r]===void 0&&(t={...t,[r]:kc[r]});return t},ro=(e,t)=>e===t.droppable.type,jc=(e,t)=>t.draggables[e.draggable.id],fj=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=nt(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),n=nt((o,i,l,c,d,h)=>{const u=d.descriptor.id;if(d.descriptor.droppableId===o){const x=h?{render:h,dragging:r(d.descriptor)}:null,b={isDraggingOver:l,draggingOverWith:l?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:x}}if(!i)return t;if(!c)return e;const f={isDraggingOver:l,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}});return(o,i)=>{const l=ah(i),c=l.droppableId,d=l.type,h=!l.isDropDisabled,u=l.renderClone;if(on(o)){const m=o.critical;if(!ro(d,m))return t;const f=jc(m,o.dimensions),x=Et(o.impact)===c;return n(c,h,x,x,f,u)}if(o.phase==="DROP_ANIMATING"){const m=o.completed;if(!ro(d,m.critical))return t;const f=jc(m.critical,o.dimensions);return n(c,h,Zm(m.result)===c,Et(m.impact)===c,f,u)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const m=o.completed;if(!ro(d,m.critical))return t;const f=Et(m.impact)===c,x=!!(m.impact.at&&m.impact.at.type==="COMBINE"),b=m.critical.droppable.id===c;return f?x?e:t:b?e:t}return t}},gj={updateViewportMaxScroll:Rw},_o=rm(fj,gj,(e,t,r)=>({...ah(r),...e,...t}),{context:Mi,areStatePropsEqual:Jm})(hj),oh=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Z("w-full caption-bottom text-sm",e),...t})}));oh.displayName="Table";const ih=p.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Z("[&_tr]:border-b",e),...t}));ih.displayName="TableHeader";const lh=p.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Z("[&_tr:last-child]:border-0",e),...t}));lh.displayName="TableBody";const xj=p.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Z("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));xj.displayName="TableFooter";const _n=p.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Z("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));_n.displayName="TableRow";const zo=p.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Z("h-12 px-4 text-center align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));zo.displayName="TableHead";const qs=p.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Z("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));qs.displayName="TableCell";const bj=p.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Z("mt-4 text-sm text-muted-foreground",e),...t}));bj.displayName="TableCaption";const $i=ua("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-smooth focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 rounded-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 rounded-sm",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground rounded-sm",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 rounded-sm",ghost:"hover:bg-accent hover:text-accent-foreground rounded-sm",link:"text-primary underline-offset-4 hover:underline",glass:"glass-button text-foreground hover:text-foreground","glass-primary":"glass-button bg-primary/20 text-primary hover:bg-primary/30"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-sm px-3",xs:"h-7 rounded-sm px-2 text-xs",lg:"h-11 rounded-sm px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),I=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},o)=>{const i=n?r0:"button";return s.jsx(i,{className:Z($i({variant:t,size:r,className:e})),ref:o,...a})});I.displayName="Button";function vj({column:e,dragHandleProps:t,onDelete:r,isAuthenticated:n=!1,editMode:a=!1}){const i=["id","no","route","code","location","delivery","tngRoute","info","images","kilometer","tollPrice"].includes(e.dataKey);return s.jsxs("div",{className:"flex items-center justify-center w-[98%] mx-auto relative",children:[s.jsx("div",{...t,className:"text-center",children:s.jsx("span",{className:"block bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent font-medium",style:{fontSize:"11px"},children:e.name})}),!i&&s.jsx("div",{className:"absolute right-0 flex items-center gap-1 opacity-50 group-hover:opacity-100 transition-opacity",children:s.jsx(I,{size:"sm",variant:"ghost",className:`h-auto p-0 text-sm ${n?"text-muted-foreground hover:text-destructive":"opacity-50 cursor-not-allowed text-muted-foreground"}`,onClick:()=>n&&r(),disabled:!n,title:n?"Delete column":"Authentication required to delete columns","data-testid":`button-delete-column-${e.dataKey}`,children:s.jsx(ut,{className:"w-3 h-3"})})})]})}function so({value:e,type:t,onSave:r,options:n,dataKey:a}){const[o,i]=p.useState(!1),[l,c]=p.useState(e),d=p.useRef(null);p.useEffect(()=>{c(e)},[e]),p.useEffect(()=>{o&&(a==="delivery"||t==="select")&&(e==null||e==="")&&c("None")},[o,a,t,e]),p.useEffect(()=>{o&&d.current&&(d.current.focus(),d.current.select&&typeof d.current.select=="function"&&d.current.select())},[o]);const h=()=>{try{let x=l;l==null||l===""?t==="number"||t==="currency"?x=0:x="":t==="number"?x=parseInt(l)||0:t==="currency"&&(x=parseFloat(l.toString().replace(/[^0-9.]/g,""))||0,x=x.toFixed(2)),r(x),i(!1)}catch(x){console.error("Save failed:",x)}},u=()=>{c(e),i(!1)},m=x=>{x.key==="Enter"?h():x.key==="Escape"&&u()},f=()=>a==="latitude"?"e.g. 3.139003":a==="longitude"?"e.g. 101.686855":t==="currency"?"0.00":t==="number"?"Enter number":"Enter text";if(o){if(a==="delivery"||t==="select"){const x=n||["None","Daily","Weekday","Alt 1","Alt 2"];return s.jsx("select",{ref:d,value:l??"None",onChange:b=>{c(b.target.value),h()},onKeyDown:m,className:"w-full h-6 px-2 py-1 text-center bg-transparent border border-blue-300 rounded focus:outline-none focus:border-blue-500",style:{fontSize:"10px"},autoFocus:!0,children:x.map(b=>s.jsx("option",{value:b,children:b},b))})}return s.jsx("input",{ref:d,type:t==="number"||t==="currency"?"number":"text",step:t==="currency"?"0.01":void 0,value:t==="currency"?l.toString().replace(/[^0-9.]/g,""):l,onChange:x=>c(x.target.value),onBlur:h,onKeyDown:m,placeholder:f(),className:"w-full h-6 px-2 py-1 text-center bg-transparent border border-blue-300 rounded focus:outline-none focus:border-blue-500",style:{fontSize:"10px"}})}return s.jsx("span",{onClick:()=>i(!0),className:"cursor-pointer hover:bg-gray-100 rounded px-1 py-0.5 transition-colors text-center block",style:{fontSize:"10px"},children:e})}function yj({images:e,isOpen:t,onClose:r,initialIndex:n=0}){const[a,o]=p.useState(n),[i,l]=p.useState(!0),[c,d]=p.useState(1),[h,u]=p.useState(0),[m,f]=p.useState({x:0,y:0}),[x,b]=p.useState(!1),[g,v]=p.useState({x:0,y:0}),[y,w]=p.useState({x:0,y:0}),[k,j]=p.useState(0),E=p.useRef(null),C=p.useRef(null),D=e.filter(q=>q.type==="image");if(p.useEffect(()=>{o(n)},[n]),p.useEffect(()=>{if(t)return document.body.style.overflow="hidden",document.addEventListener("keydown",$),()=>{document.body.style.overflow="unset",document.removeEventListener("keydown",$)}},[t,a]),p.useEffect(()=>{d(1),u(0),f({x:0,y:0}),l(!0)},[a]),!t||D.length===0)return null;const T=D[a],$=q=>{switch(q.key){case"Escape":r();break;case"ArrowLeft":a>0?o(a-1):D.length>1&&o(D.length-1);break;case"ArrowRight":a<D.length-1?o(a+1):D.length>1&&o(0);break}},M=()=>{a>0?o(a-1):D.length>1&&o(D.length-1)},U=()=>{a<D.length-1?o(a+1):D.length>1&&o(0)},me=()=>{d(q=>Math.min(q+.25,3))},B=()=>{d(q=>Math.max(q-.25,.25))},F=()=>{u(q=>(q+90)%360)},_=()=>{d(1),u(0),f({x:0,y:0})},O=q=>{c>1&&(b(!0),v({x:q.clientX-m.x,y:q.clientY-m.y}))},ee=q=>{x&&c>1&&f({x:q.clientX-g.x,y:q.clientY-g.y})},H=()=>{b(!1)},L=q=>{const te=q.touches[0];if(q.touches.length===1)w({x:te.clientX,y:te.clientY}),c>1&&(b(!0),v({x:te.clientX-m.x,y:te.clientY-m.y}));else if(q.touches.length===2){const X=q.touches[0],ae=q.touches[1],de=Math.sqrt(Math.pow(X.clientX-ae.clientX,2)+Math.pow(X.clientY-ae.clientY,2));j(de)}},W=q=>{if(q.preventDefault(),q.touches.length===1&&x&&c>1){const te=q.touches[0];f({x:te.clientX-g.x,y:te.clientY-g.y})}else if(q.touches.length===2&&k>0){const te=q.touches[0],X=q.touches[1],ae=Math.sqrt(Math.pow(te.clientX-X.clientX,2)+Math.pow(te.clientY-X.clientY,2)),de=ae/k,V=Math.min(Math.max(c*de,.25),3);d(V),j(ae)}},P=q=>{if(q.touches.length===0&&(b(!1),j(0),!x&&c===1)){const te=q.changedTouches[0],X=te.clientX-y.x,ae=Math.abs(te.clientY-y.y);Math.abs(X)>50&&ae<100&&(X>0?M():U())}},ge=()=>{l(!1)},oe=async()=>{try{const te=await(await fetch(T.url)).blob(),X=window.URL.createObjectURL(te),ae=document.createElement("a");ae.href=X,ae.download=T.caption||`image-${a+1}`,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),window.URL.revokeObjectURL(X)}catch(q){console.error("Download failed:",q)}},he=async()=>{if(navigator.share)try{await navigator.share({title:T.caption||"Shared Image",url:T.url})}catch(q){console.error("Share failed:",q)}else try{await navigator.clipboard.writeText(T.url)}catch(q){console.error("Copy failed:",q)}},Se=s.jsxs("div",{className:"lightbox-overlay fixed inset-0 z-[99999] bg-black/95 backdrop-blur-md animate-in fade-in duration-300",onClick:q=>{q.target===q.currentTarget&&r()},children:[i&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-8 h-8 border-4 border-white/20 border-t-white rounded-full animate-spin"})}),s.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/60 to-transparent",children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-white",children:[s.jsxs("span",{className:"text-sm font-medium",children:[a+1," / ",D.length]}),T.caption&&s.jsx("span",{className:"text-sm text-white/80 max-w-md truncate",children:T.caption})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(I,{variant:"ghost",size:"sm",onClick:B,disabled:c<=.25,className:"text-white hover:bg-white/20",children:s.jsx(Qx,{className:"w-4 h-4"})}),s.jsx(I,{variant:"ghost",size:"sm",onClick:me,disabled:c>=3,className:"text-white hover:bg-white/20",children:s.jsx(Du,{className:"w-4 h-4"})}),s.jsx(I,{variant:"ghost",size:"sm",onClick:F,className:"text-white hover:bg-white/20",children:s.jsx(Bx,{className:"w-4 h-4"})}),s.jsx(I,{variant:"ghost",size:"sm",onClick:_,className:"text-white hover:bg-white/20 text-xs",children:"Reset"}),s.jsx(I,{variant:"ghost",size:"sm",onClick:oe,className:"text-white hover:bg-white/20",children:s.jsx(xx,{className:"w-4 h-4"})}),s.jsx(I,{variant:"ghost",size:"sm",onClick:he,className:"text-white hover:bg-white/20",children:s.jsx(ha,{className:"w-4 h-4"})}),s.jsx(I,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/20",children:s.jsx(ut,{className:"w-5 h-5"})})]})]})}),s.jsx("div",{ref:C,className:"absolute inset-0 flex items-center justify-center p-16 pt-20 pb-16",onMouseDown:O,onMouseMove:ee,onMouseUp:H,onMouseLeave:H,onTouchStart:L,onTouchMove:W,onTouchEnd:P,children:s.jsx("img",{ref:E,src:T.url,alt:T.caption||`Image ${a+1}`,onLoad:ge,className:`max-w-full max-h-full object-contain transition-all duration-300 ease-out select-none ${x?"cursor-grabbing":c>1?"cursor-grab":"cursor-default"}`,style:{transform:`translate(${m.x}px, ${m.y}px) scale(${c}) rotate(${h}deg)`,transformOrigin:"center center"},draggable:!1})}),D.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(I,{variant:"ghost",size:"lg",onClick:M,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 w-12 h-12 rounded-full bg-black/20 backdrop-blur-sm transition-all duration-200 hover:scale-110",children:s.jsx(Bn,{className:"w-6 h-6"})}),s.jsx(I,{variant:"ghost",size:"lg",onClick:U,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 w-12 h-12 rounded-full bg-black/20 backdrop-blur-sm transition-all duration-200 hover:scale-110",children:s.jsx(Zs,{className:"w-6 h-6"})})]}),T.caption&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent",children:s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-white text-sm leading-relaxed max-w-2xl mx-auto",children:T.caption})})}),D.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-2 bg-black/40 backdrop-blur-sm rounded-full px-4 py-2 max-w-md overflow-x-auto lightbox-thumbnails",children:D.map((q,te)=>s.jsx("button",{onClick:()=>o(te),className:`w-12 h-12 rounded-lg overflow-hidden border-2 transition-all duration-200 hover:scale-110 flex-shrink-0 ${te===a?"border-white shadow-lg":"border-white/30 opacity-60 hover:opacity-80"}`,children:s.jsx("img",{src:q.url,alt:q.caption||`Thumbnail ${te+1}`,className:"w-full h-full object-cover"})},te))}),c!==1&&s.jsx("div",{className:"absolute top-20 right-4 bg-black/50 backdrop-blur-sm rounded-full px-3 py-1",children:s.jsxs("span",{className:"text-white text-sm",children:[Math.round(c*100),"%"]})})]});return xn.createPortal(Se,document.body)}function ch({images:e,maxVisible:t=2,onImageClick:r}){const n=e.filter(i=>i.type==="image");if(n.length===0)return null;const a=n.slice(0,t),o=n.length-t;return s.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:a.map((i,l)=>s.jsx("div",{className:"relative cursor-pointer group overflow-hidden rounded border border-border/30 hover:border-border/60 transition-all duration-300 transform hover:scale-105 hover:shadow-lg",onClick:()=>r==null?void 0:r(l),children:s.jsxs("div",{className:"w-16 h-16 relative overflow-hidden bg-muted/20",children:[s.jsx("img",{src:i.url,alt:i.caption||`Image ${l+1}`,className:"w-full h-full object-cover transition-all duration-300 group-hover:scale-110",loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center",children:s.jsx("div",{className:"bg-white/90 dark:bg-black/90 rounded-full p-1.5 transform scale-75 group-hover:scale-100 transition-transform duration-200",children:s.jsx(Du,{className:"h-3 w-3 text-gray-700 dark:text-gray-300"})})}),i.caption&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx("p",{className:"text-white text-xs truncate",children:i.caption})})]})},l))}),o>0&&s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>r==null?void 0:r(t),className:"h-16 px-4 rounded flex flex-col items-center justify-center bg-muted/30 hover:bg-muted/50 border-dashed border-border/50 hover:border-border/80 transition-all duration-300 hover:scale-105",children:[s.jsx("div",{className:"flex items-center gap-1 text-muted-foreground",children:s.jsxs("span",{className:"text-sm font-semibold",children:["+",o]})}),s.jsx("span",{className:"text-xs text-muted-foreground/80",children:"more"})]}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground ml-auto",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsxs("span",{children:[n.length," image",n.length!==1?"s":""]})]})})]})}const ze=ed,Bi=td,wj=rd,kj=Xo,dh=p.forwardRef(({className:e,...t},r)=>s.jsx(Wo,{ref:r,className:Z("fixed inset-0 z-50 bg-black/40 dark:bg-black/85 backdrop-blur-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 transition-all duration-300 ease-out",e),...t}));dh.displayName=Wo.displayName;const Ae=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(wj,{children:[s.jsx(dh,{}),s.jsx(Ko,{ref:n,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border-2 border-border bg-card backdrop-blur-lg p-6 shadow-2xl duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded transition-all ease-out",e),...r,children:t})]}));Ae.displayName=Ko.displayName;const Oe=({className:e,...t})=>s.jsx("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Oe.displayName="DialogHeader";const Qe=({className:e,...t})=>s.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qe.displayName="DialogFooter";const Le=p.forwardRef(({className:e,...t},r)=>s.jsx(Qo,{ref:r,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));Le.displayName=Qo.displayName;const Ke=p.forwardRef(({className:e,...t},r)=>s.jsx(Yo,{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));Ke.displayName=Yo.displayName;const jj=ua("relative w-full rounded border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),uh=p.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Z(jj({variant:t}),e),...r}));uh.displayName="Alert";const Nj=p.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:Z("mb-1 font-medium leading-none tracking-tight",e),...t}));Nj.displayName="AlertTitle";const mh=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Z("text-sm [&_p]:leading-relaxed",e),...t}));mh.displayName="AlertDescription";const Pe=p.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Z("flex h-10 w-full glass-input px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Pe.displayName="Input";var Cj="Label",hh=p.forwardRef((e,t)=>s.jsx(Ge.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));hh.displayName=Cj;var ph=hh;const Sj=ua("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ve=p.forwardRef(({className:e,...t},r)=>s.jsx(ph,{ref:r,className:Z(Sj(),e),...t}));ve.displayName=ph.displayName;var fh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Nc=ke.createContext&&ke.createContext(fh),Ej=["attr","size","title"];function Rj(e,t){if(e==null)return{};var r=Dj(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dj(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jn.apply(this,arguments)}function Cc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cc(Object(r),!0).forEach(function(n){Pj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pj(e,t,r){return t=Ij(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ij(e){var t=Tj(e,"string");return typeof t=="symbol"?t:t+""}function Tj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gh(e){return e&&e.map((t,r)=>ke.createElement(t.tag,Zn({key:r},t.attr),gh(t.child)))}function xh(e){return t=>ke.createElement(Aj,Jn({attr:Zn({},e.attr)},t),gh(e.child))}function Aj(e){var t=r=>{var{attr:n,size:a,title:o}=e,i=Rj(e,Ej),l=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),ke.createElement("svg",Jn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:Zn(Zn({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&ke.createElement("title",null,o),e.children)};return Nc!==void 0?ke.createElement(Nc.Consumer,null,r=>t(r)):t(fh)}function no(e){return xh({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.527 4.799c1.212 2.608.937 5.678-.405 8.173-1.101 2.047-2.744 3.74-4.098 5.614-.619.858-1.244 1.75-1.669 2.727-.141.325-.263.658-.383.992-.121.333-.224.673-.34 1.008-.109.314-.236.684-.627.687h-.007c-.466-.001-.579-.53-.695-.887-.284-.874-.581-1.713-1.019-2.525-.51-.944-1.145-1.817-1.79-2.671L19.527 4.799zM8.545 7.705l-3.959 4.707c.724 1.54 1.821 2.863 2.871 4.18.247.31.494.622.737.936l4.984-5.925-.029.01c-1.741.601-3.691-.291-4.392-1.987a3.377 3.377 0 0 1-.209-.716c-.063-.437-.077-.761-.004-1.198l.001-.007zM5.492 3.149l-.003.004c-1.947 2.466-2.281 5.88-1.117 8.77l4.785-5.689-.058-.05-3.607-3.035zM14.661.436l-3.838 4.563a.295.295 0 0 1 .027-.01c1.6-.551 3.403.15 4.22 1.626.176.319.323.683.377 1.045.068.446.085.773.012 1.22l-.003.016 3.836-4.561A8.382 8.382 0 0 0 14.67.439l-.009-.003zM9.466 5.868L14.162.285l-.047-.012A8.31 8.31 0 0 0 11.986 0a8.439 8.439 0 0 0-6.169 2.766l-.016.018 3.665 3.084z"},child:[]}]})(e)}function ao(e){return xh({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.218 0C9.915 0 6.835 1.49 4.723 4.148c-1.515 1.913-2.31 4.272-2.31 6.706v1.739c0 .894-.62 1.738-1.862 1.813-.298.025-.547.224-.547.522-.05.82.82 2.31 2.012 3.502.82.844 1.788 1.515 2.832 2.036a3 3 0 0 0 2.955 3.528 2.966 2.966 0 0 0 2.931-2.385h2.509c.323 1.689 2.086 2.856 3.974 2.21 1.64-.546 2.36-2.409 1.763-3.924a12.84 12.84 0 0 0 1.838-1.465 10.73 10.73 0 0 0 3.18-7.65c0-2.882-1.118-5.589-3.155-7.625A10.899 10.899 0 0 0 13.218 0zm0 1.217c2.558 0 4.967.994 6.78 2.807a9.525 9.525 0 0 1 2.807 6.78A9.526 9.526 0 0 1 20 17.585a9.647 9.647 0 0 1-6.78 2.807h-2.46a3.008 3.008 0 0 0-2.93-2.41 3.03 3.03 0 0 0-2.534 1.367v.024a8.945 8.945 0 0 1-2.41-1.788c-.844-.844-1.316-1.614-1.515-2.11a2.858 2.858 0 0 0 1.441-.846 2.959 2.959 0 0 0 .795-2.036v-1.789c0-2.11.696-4.197 2.012-5.861 1.863-2.385 4.62-3.726 7.6-3.726zm-2.41 5.986a1.192 1.192 0 0 0-1.191 1.192 1.192 1.192 0 0 0 1.192 1.193A1.192 1.192 0 0 0 12 8.395a1.192 1.192 0 0 0-1.192-1.192zm7.204 0a1.192 1.192 0 0 0-1.192 1.192 1.192 1.192 0 0 0 1.192 1.193 1.192 1.192 0 0 0 1.192-1.193 1.192 1.192 0 0 0-1.192-1.192zm-7.377 4.769a.596.596 0 0 0-.546.845 4.813 4.813 0 0 0 4.346 2.757 4.77 4.77 0 0 0 4.347-2.757.596.596 0 0 0-.547-.845h-.025a.561.561 0 0 0-.521.348 3.59 3.59 0 0 1-3.254 2.061 3.591 3.591 0 0 1-3.254-2.061.64.64 0 0 0-.546-.348z"},child:[]}]})(e)}var Ui="Checkbox",[Oj,NC]=Jt(Ui),[Lj,Mj]=Oj(Ui),bh=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:h,...u}=e,[m,f]=p.useState(null),x=ot(t,k=>f(k)),b=p.useRef(!1),g=m?h||!!m.closest("form"):!0,[v=!1,y]=Rs({prop:a,defaultProp:o,onChange:d}),w=p.useRef(v);return p.useEffect(()=>{const k=m==null?void 0:m.form;if(k){const j=()=>y(w.current);return k.addEventListener("reset",j),()=>k.removeEventListener("reset",j)}},[m,y]),s.jsxs(Lj,{scope:r,state:v,disabled:l,children:[s.jsx(Ge.button,{type:"button",role:"checkbox","aria-checked":Cr(v)?"mixed":v,"aria-required":i,"data-state":wh(v),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:x,onKeyDown:Ne(e.onKeyDown,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Ne(e.onClick,k=>{y(j=>Cr(j)?!0:!j),g&&(b.current=k.isPropagationStopped(),b.current||k.stopPropagation())})}),g&&s.jsx(Fj,{control:m,bubbles:!b.current,name:n,value:c,checked:v,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Cr(o)?!1:o})]})});bh.displayName=Ui;var vh="CheckboxIndicator",yh=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=Mj(vh,r);return s.jsx(Ht,{present:n||Cr(o.state)||o.state===!0,children:s.jsx(Ge.span,{"data-state":wh(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});yh.displayName=vh;var Fj=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...o}=e,i=p.useRef(null),l=Jo(r),c=Zo(t);p.useEffect(()=>{const h=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==r&&f){const x=new Event("click",{bubbles:n});h.indeterminate=Cr(r),f.call(h,Cr(r)?!1:r),h.dispatchEvent(x)}},[l,r,n]);const d=p.useRef(Cr(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Cr(e){return e==="indeterminate"}function wh(e){return Cr(e)?"indeterminate":e?"checked":"unchecked"}var kh=bh,_j=yh;const Vr=p.forwardRef(({className:e,...t},r)=>s.jsx(kh,{ref:r,className:Z("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(_j,{className:Z("flex items-center justify-center text-current"),children:s.jsx(Sr,{className:"h-4 w-4"})})}));Vr.displayName=kh.displayName;var Gi="Popover",[jh,CC]=Jt(Gi,[aa]),wn=aa(),[zj,Dr]=jh(Gi),Nh=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=wn(t),c=p.useRef(null),[d,h]=p.useState(!1),[u=!1,m]=Rs({prop:n,defaultProp:a,onChange:o});return s.jsx(i0,{...l,children:s.jsx(zj,{scope:t,contentId:sd(),triggerRef:c,open:u,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(f=>!f),[m]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>h(!0),[]),onCustomAnchorRemove:p.useCallback(()=>h(!1),[]),modal:i,children:r})})};Nh.displayName=Gi;var Ch="PopoverAnchor",$j=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Dr(Ch,r),o=wn(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return p.useEffect(()=>(i(),()=>l()),[i,l]),s.jsx(Ho,{...o,...n,ref:t})});$j.displayName=Ch;var Sh="PopoverTrigger",Eh=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Dr(Sh,r),o=wn(r),i=ot(t,a.triggerRef),l=s.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Th(a.open),...n,ref:i,onClick:Ne(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Ho,{asChild:!0,...o,children:l})});Eh.displayName=Sh;var Vi="PopoverPortal",[Bj,Uj]=jh(Vi,{forceMount:void 0}),Rh=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=Dr(Vi,t);return s.jsx(Bj,{scope:t,forceMount:r,children:s.jsx(Ht,{present:r||o.open,children:s.jsx(Kc,{asChild:!0,container:a,children:n})})})};Rh.displayName=Vi;var js="PopoverContent",Dh=p.forwardRef((e,t)=>{const r=Uj(js,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=Dr(js,e.__scopePopover);return s.jsx(Ht,{present:n||o.open,children:o.modal?s.jsx(Vj,{...a,ref:t}):s.jsx(qj,{...a,ref:t})})});Dh.displayName=js;var Gj=l0("PopoverContent.RemoveScroll"),Vj=p.forwardRef((e,t)=>{const r=Dr(js,e.__scopePopover),n=p.useRef(null),a=ot(t,n),o=p.useRef(!1);return p.useEffect(()=>{const i=n.current;if(i)return s0(i)},[]),s.jsx(n0,{as:Gj,allowPinchZoom:!0,children:s.jsx(Ph,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),qj=p.forwardRef((e,t)=>{const r=Dr(js,e.__scopePopover),n=p.useRef(!1),a=p.useRef(!1);return s.jsx(Ph,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Ph=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...u}=e,m=Dr(js,r),f=wn(r);return a0(),s.jsx(o0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(Yc,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(Xc,{"data-state":Th(m.open),role:"dialog",id:m.contentId,...f,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ih="PopoverClose",Hj=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Dr(Ih,r);return s.jsx(Ge.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});Hj.displayName=Ih;var Wj="PopoverArrow",Kj=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=wn(r);return s.jsx(Jc,{...a,...n,ref:t})});Kj.displayName=Wj;function Th(e){return e?"open":"closed"}var Qj=Nh,Yj=Eh,Xj=Rh,Ah=Dh;const $o=Qj,Bo=Yj,ea=p.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(Xj,{children:s.jsx(Ah,{ref:a,align:t,sideOffset:r,className:Z("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));ea.displayName=Ah.displayName;delete ia.Icon.Default.prototype._getIconUrl;ia.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Sc=e=>{if(!e)return"black";const t=e.toLowerCase().trim();return t.includes("kl 7")||t.includes("kl7")?"blue":t.includes("kl 6")||t.includes("kl6")?"green":t.includes("kl 4")||t.includes("kl4")?"red":t.includes("kl 3")||t.includes("kl3")?"orange":t.includes("kl 1")||t.includes("kl1")?"violet":t.includes("kl 5")||t.includes("kl5")?"yellow":t.includes("kl 9")||t.includes("kl9")?"grey":t.includes("sl 1")||t.includes("sl1")?"gold":t.includes("sl 2")||t.includes("sl2")?"blue":t.includes("sl 3")||t.includes("sl3")||t.includes("set 1")||t.includes("set1")?"grey":t.includes("set 2")||t.includes("set2")?"red":t.includes("set 3")||t.includes("set3")?"orange":(t.includes("warehouse"),"black")},rs=new Map,Jj=(e,t=!1)=>{const r=`custom-${e}-${t}`;if(!rs.has(r)){const n=`
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 36" width="24" height="36">
        <path fill="${e}" stroke="#000" stroke-width="1" d="M12 0C7.6 0 4 3.6 4 8c0 5.4 8 16 8 16s8-10.6 8-16c0-4.4-3.6-8-8-8zm0 12c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"/>
      </svg>
    `,a="data:image/svg+xml;base64,"+btoa(n);rs.set(r,new ia.Icon({iconUrl:a,shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[12,18],iconAnchor:[6,18],popupAnchor:[0,-16],shadowSize:[15,15],className:t?"current-location-marker":""}))}return rs.get(r)},Zj=(e,t=!1)=>{const r=`${e}-${t}`;return rs.has(r)||rs.set(r,new ia.Icon({iconUrl:`https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${e}.png`,shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[12,20],iconAnchor:[6,20],popupAnchor:[0,-18],shadowSize:[15,15],className:t?"current-location-marker":""})),rs.get(r)};function eN({center:e,zoom:t}){const r=jd();return p.useEffect(()=>{if(!(!r||!r.getContainer()))try{r.setView(e,t,{animate:!0,duration:.5});const n=setTimeout(()=>{var a;try{(a=r==null?void 0:r.getContainer())!=null&&a.parentNode&&r.invalidateSize({animate:!1})}catch{}},100);return()=>clearTimeout(n)}catch{}},[r,e,t]),null}function tN({currentLocation:e}){const t=jd(),r=p.useCallback(()=>{e&&t&&t.setView([e.latitude,e.longitude],15,{animate:!0,duration:.8})},[e,t]);return e?s.jsx("div",{className:"absolute top-4 right-4 z-[1000]",children:s.jsx(I,{variant:"outline",size:"sm",onClick:r,className:"bg-white/95 hover:bg-white shadow-lg border-2 border-blue-500 hover:border-blue-600 backdrop-blur-sm","data-testid":"button-back-to-current",title:"Back to current location",children:s.jsx(Ox,{className:"w-4 h-4 text-blue-500"})})}):null}const rN=p.memo(function({locations:t,height:r="500px",showFullscreenButton:n=!0}){const[a,o]=p.useState(!1),[i,l]=p.useState([]),c=p.useMemo(()=>t.map(x=>x.code).filter(x=>!!x).filter((x,b,g)=>g.indexOf(x)===b).sort(),[t]);p.useEffect(()=>{c.length>0&&i.length===0&&l(c)},[c]);const d=f=>{l(x=>x.includes(f)?x.filter(b=>b!==f):[...x,f])},h=()=>{l(c)},u=()=>{l([])},m=({isFullscreen:f=!1})=>{const x=p.useMemo(()=>f?t.filter(y=>!y.code||i.includes(y.code)):t.filter(y=>y.isCurrent).length?t.filter(y=>y.isCurrent):[t[0]],[f,i]),b=p.useMemo(()=>t.find(y=>y.isCurrent),[t]),g=p.useMemo(()=>{if(x.length===0)return[3.139003,101.686855];const y=x.reduce((k,j)=>k+j.latitude,0)/x.length,w=x.reduce((k,j)=>k+j.longitude,0)/x.length;return[y,w]},[x]),v=p.useMemo(()=>{if(x.length<=1)return 15;const y=x.map(C=>C.latitude),w=x.map(C=>C.longitude),k=Math.max(...y)-Math.min(...y),j=Math.max(...w)-Math.min(...w),E=Math.max(k,j);return E>5?8:E>2?10:E>1?12:E>.5?13:E>.1?14:15},[x]);return s.jsxs(j0,{center:g,zoom:v,style:{height:f?"100%":r,width:"100%"},className:"rounded-lg border border-border",preferCanvas:!0,zoomControl:f,children:[s.jsx(N0,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",updateWhenIdle:!0,updateWhenZooming:!1,keepBuffer:2}),s.jsx(eN,{center:g,zoom:v}),f&&s.jsx(tN,{currentLocation:b}),x.map((y,w)=>{const k=y.markerColor||Sc(y.code),j=y.markerColor&&y.markerColor.startsWith("#")?Jj(y.markerColor,y.isCurrent):Zj(k,y.isCurrent);return s.jsx(C0,{position:[y.latitude,y.longitude],icon:j,children:s.jsx(S0,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold",children:y.label}),y.code&&s.jsxs("div",{className:"text-sm font-medium",style:{color:k==="black"?"#000":k},children:["Route: ",y.code]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[y.latitude.toFixed(6),", ",y.longitude.toFixed(6)]})]})})},`${y.latitude}-${y.longitude}-${w}`)})]})};return t.length===0?s.jsx("div",{style:{height:r},className:"flex items-center justify-center bg-muted rounded-lg border border-border",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"No location data available"})}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"pointer-events-auto",children:s.jsx(m,{})}),n&&s.jsx("div",{className:"absolute top-2 right-2 z-[1001] pointer-events-auto",children:s.jsxs(ze,{open:a,onOpenChange:o,children:[s.jsx(Bi,{asChild:!0,children:s.jsx(I,{variant:"outline",size:"sm",className:"bg-white/95 hover:bg-white shadow-lg border-2 border-gray-400 backdrop-blur-sm pointer-events-auto","data-testid":"button-fullscreen-map",children:s.jsx(Tx,{className:"w-4 h-4 text-black"})})}),s.jsxs(Ae,{className:"max-w-[95vw] w-full p-6",style:{height:"min(90vh, calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 40px))",touchAction:"pan-y"},children:[s.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0",style:{paddingTop:"max(0rem, env(safe-area-inset-top))"},children:[s.jsxs(Le,{className:"tracking-tight font-semibold text-[12px]",children:["Map View - ",t.length===1?t[0].label:`${t.length} Locations`]}),s.jsx(Ke,{className:"sr-only",children:"Interactive map showing delivery locations with route filters"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs($o,{children:[s.jsx(Bo,{asChild:!0,children:s.jsxs(I,{variant:"outline",size:"sm","data-testid":"button-filter-routes",children:[s.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Filter Routes (",i.length,"/",c.length,")"]})}),s.jsx(ea,{className:"w-80",align:"end",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Select Routes"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(I,{variant:"ghost",size:"sm",onClick:h,className:"h-7 text-xs",children:"All"}),s.jsx(I,{variant:"ghost",size:"sm",onClick:u,className:"h-7 text-xs",children:"Clear"})]})]}),s.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:c.map(f=>{const x=Sc(f);return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{id:`route-${f}`,checked:i.includes(f),onCheckedChange:()=>d(f)}),s.jsxs(ve,{htmlFor:`route-${f}`,className:"flex items-center gap-2 cursor-pointer flex-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x==="black"?"#000":x}}),s.jsx("span",{className:"text-sm",children:f})]})]},f)})})]})})]}),s.jsx(kj,{asChild:!0,children:s.jsx(I,{variant:"outline",size:"sm",className:"pagination-button text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300","data-testid":"button-close-map",children:s.jsx(ut,{className:"w-4 h-4"})})})]})]}),s.jsx("div",{className:"mt-4",style:{height:"min(calc(90vh - 100px), calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 140px))",WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:s.jsx(m,{isFullscreen:!0})})]})]})})]})},(e,t)=>{if(e.locations.length!==t.locations.length||e.height!==t.height||e.showFullscreenButton!==t.showFullscreenButton)return!1;for(let r=0;r<e.locations.length;r++){const n=e.locations[r],a=t.locations[r];if(n.latitude!==a.latitude||n.longitude!==a.longitude||n.label!==a.label||n.code!==a.code||n.isCurrent!==a.isCurrent||n.markerColor!==a.markerColor)return!1}return!0});function sN({value:e,onSave:t,onCancel:r,placeholder:n="Enter text...",className:a=""}){const[o,i]=p.useState(!1),[l,c]=p.useState(e||""),d=p.useRef(null),h=p.useRef(null);p.useEffect(()=>{c(e||"")},[e]),p.useEffect(()=>{function g(v){o&&d.current&&!d.current.contains(v.target)&&h.current&&!h.current.contains(v.target)&&f()}return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[o]);const u=()=>{i(!0),setTimeout(()=>{var g;(g=d.current)==null||g.focus(),nN(d.current)},0)},m=()=>{var v;const g=((v=d.current)==null?void 0:v.innerHTML)??l;c(g),t(g),i(!1)},f=()=>{d.current&&(d.current.innerHTML=e||""),c(e||""),i(!1),r==null||r()},x=(g,v)=>{var y;document.execCommand(g,!1,v),c(((y=d.current)==null?void 0:y.innerHTML)??"")},b=()=>{const g=prompt("Enter URL","https://");g&&x("createLink",g)};return s.jsx("div",{className:`editable-rich-text ${a}`,children:o?s.jsxs("div",{className:"relative",children:[s.jsxs("div",{ref:h,className:"flex gap-2 mb-2 items-center bg-transparent",children:[s.jsx("button",{type:"button",className:"btn-glass p-2 text-sm",onClick:()=>x("bold"),title:"Bold",children:s.jsx("strong",{children:"B"})}),s.jsx("button",{type:"button",className:"btn-glass p-2 text-sm",onClick:()=>x("italic"),title:"Italic",children:s.jsx("em",{children:"I"})}),s.jsx("button",{type:"button",className:"btn-glass p-2 text-sm",onClick:()=>x("underline"),title:"Underline",children:s.jsx("u",{children:"U"})}),s.jsx("button",{type:"button",className:"btn-glass p-2 text-sm",onClick:()=>x("insertUnorderedList"),title:"Bullet list",children:" List"}),s.jsx("button",{type:"button",className:"btn-glass p-2 text-sm",onClick:()=>x("insertOrderedList"),title:"Numbered list",children:"1. List"}),s.jsx("button",{type:"button",className:"btn-glass p-2 text-sm",onClick:b,title:"Insert link",children:""}),s.jsx("button",{type:"button",className:"btn-glass p-2 text-sm",onClick:()=>x("formatBlock","<H3>"),title:"Heading",children:"H"}),s.jsxs("div",{className:"ml-auto flex gap-2",children:[s.jsx("button",{type:"button",className:"btn-glass p-2 text-sm",onClick:f,children:"Cancel"}),s.jsx("button",{type:"button",className:"btn-glass p-2 text-sm bg-blue-600 text-white",onClick:m,children:"Save"})]})]}),s.jsx("div",{ref:d,contentEditable:!0,suppressContentEditableWarning:!0,className:"glass-input min-h-[80px] p-3 prose max-w-none overflow-auto",onInput:()=>{var g;return c(((g=d.current)==null?void 0:g.innerHTML)??"")},dangerouslySetInnerHTML:{__html:l}})]}):s.jsx("div",{onClick:u,className:"cursor-text",children:l?s.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:l}}):s.jsx("div",{className:"text-muted-foreground italic",children:n})})})}function nN(e){if(!e)return;const t=document.createRange();t.selectNodeContents(e),t.collapse(!1);const r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(t))}function Ec({value:e,onSave:t,isEditable:r=!0}){const[n,a]=p.useState(!1),[o,i]=p.useState(e);p.useEffect(()=>{i(e)},[e]);const l=e||"No information available",c=l.length>50,d=c&&!n?l.substring(0,50)+"...":l;return r?s.jsx("div",{className:"space-y-2",children:s.jsx(sN,{value:o,onSave:h=>{i(h),t(h)},onCancel:()=>{i(e)},placeholder:"Enter information...",className:"text-sm"})}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[c&&s.jsx(I,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 flex-shrink-0 mt-0.5",onClick:()=>a(!n),"data-testid":"button-toggle-description",children:n?s.jsx(ma,{className:"w-3 h-3"}):s.jsx(Zs,{className:"w-3 h-3"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("div",{className:"flex-1 cursor-pointer transition-all duration-300 ease-in-out opacity-90",onClick:()=>a(!n),children:(()=>{const h=(n?l:d).split(`
`).map(u=>u.trim()).filter(u=>u.length>0);return h.length>1?s.jsx("dl",{className:"space-y-2",style:{fontSize:"10px"},children:h.map((u,m)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("dt",{className:"w-20 flex-shrink-0 font-semibold text-blue-600 dark:text-blue-400",children:["Item ",m+1]}),s.jsx("dd",{className:"flex-1 text-gray-700 dark:text-gray-300 m-0",children:u})]},m))}):s.jsx("div",{className:"whitespace-pre-wrap break-words text-gray-700 dark:text-gray-300",style:{fontSize:"10px"},children:n?l:d})})()})})]}),s.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${n?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:c&&n&&s.jsx("div",{className:"pl-8 text-muted-foreground",style:{fontSize:"10px"},children:"Click to collapse"})})]})}function aN({value:e,onSave:t,isEditable:r=!0}){const n=b=>b.trim()?b.split(`
`).map(g=>g.trim()).filter(g=>g.length>0).map((g,v)=>{if(g.includes(" : ")){const[y,...w]=g.split(" : ");return{term:y.trim()||`Item ${v+1}`,definition:w.join(" : ").trim()}}return{term:`Item ${v+1}`,definition:g}}):[],[a,o]=p.useState(n(e)),[i,l]=p.useState(e);p.useEffect(()=>{if(e!==i){const b=a.map(y=>y.definition).join(`
`),g=n(e),v=g.map(y=>y.definition).join(`
`);b!==v&&(o(g),l(e))}},[e,i,a]);const c=b=>b.filter(g=>g.definition.trim()||g.term.trim()).map(g=>g.term.trim()&&g.definition.trim()?`${g.term.trim()} : ${g.definition.trim()}`:g.definition.trim()).join(`
`),d=()=>{const b=[...a,{term:`Item ${a.length+1}`,definition:""}];o(b);const g=c(b);t(g)},h=b=>{const g=a.filter((y,w)=>w!==b);o(g);const v=c(g);t(v)},u=(b,g)=>{const v=[...a];v[b].term=g,o(v)},m=b=>{const g=c(a);t(g)},f=(b,g)=>{const v=[...a];v[b].definition=g,o(v)},x=b=>{const g=c(a);t(g)};if(!r){const b=n(e);return s.jsx("div",{className:"space-y-2",children:b.length>0?s.jsx("dl",{className:"space-y-2",style:{fontSize:"10px"},children:b.map((g,v)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("dt",{className:"w-20 flex-shrink-0 font-semibold text-blue-600 dark:text-blue-400",children:g.term}),s.jsx("dd",{className:"flex-1 text-gray-700 dark:text-gray-300 m-0",children:g.definition})]},v))}):s.jsx("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:"No information available"})})}return s.jsxs("div",{className:"space-y-3",children:[a.length>0?s.jsx("div",{className:"space-y-2",children:a.map((b,g)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Pe,{value:b.term,onChange:v=>u(g,v.target.value),onBlur:()=>m(),className:"w-24",style:{fontSize:"10px"},placeholder:"Term","data-testid":`input-item-term-${g}`}),s.jsx(Pe,{value:b.definition,onChange:v=>f(g,v.target.value),onBlur:()=>x(),className:"flex-1",style:{fontSize:"10px"},placeholder:"Definition","data-testid":`input-item-definition-${g}`}),s.jsx(I,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-red-600 hover:text-red-700",onClick:()=>h(g),"data-testid":`button-remove-item-${g}`,children:s.jsx(es,{className:"w-3 h-3"})})]},g))}):s.jsx("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:'No items yet. Click "Add Item" to start.'}),s.jsxs(I,{variant:"outline",size:"sm",onClick:d,className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-blue-600 hover:text-blue-700",style:{fontSize:"10px"},"data-testid":"button-add-item",children:[s.jsx(Er,{className:"w-3 h-3 mr-1"}),"Add Item"]})]})}const oN="modulepreload",iN=function(e){return"/"+e},Rc={},lN=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=iN(c),c in Rc)return;Rc[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":oN,d||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((m,f)=>{u.addEventListener("load",m),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};class je{constructor(t,r,n,a,o){this._legacyCanvasSize=je.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=r:(console.warn(n||a||o?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),r=typeof n=="object"?n:{},this._onDecodeError=r.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||(typeof a=="function"?a:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||o||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof a=="number"?a:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let i=!1;if(t.hidden&&(t.hidden=!1,i=!0),document.body.contains(t)||(document.body.appendChild(t),i=!0),n=t.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(a=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),o=this.$overlay.style,o.position="absolute",o.display="none",o.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!a&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let l=window.getComputedStyle(t);l.display==="none"&&(t.style.setProperty("display","block","important"),i=!0),l.visibility!=="visible"&&(t.style.setProperty("visibility","visible","important"),i=!0),i&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=je.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await je.listCameras(!1)).length}catch{return!1}}static async listCameras(t=!1){if(!navigator.mediaDevices)return[];let r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(a=>a.kind==="videoinput"),n;try{t&&(await r()).every(a=>!a.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await r()).map((a,o)=>({id:a.deviceId,label:a.label||(o===0?"Default Camera":`Camera ${o+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),je._stopVideoStream(n))}}async hasFlash(){let t;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;t=this.$video.srcObject}else t=(await this._getCameraStream()).stream;return"torch"in t.getVideoTracks()[0].getSettings()}catch{return!1}finally{t&&t!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),je._stopVideoStream(t))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(t){throw this._flashOn=!1,t}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),je._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:t,facingMode:r}=await this._getCameraStream();!this._active||this._paused?je._stopVideoStream(t):(this._setVideoMirror(r),this.$video.srcObject=t,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(t){if(!this._paused)throw this._active=!1,t}}stop(){this.pause(),this._active=!1}async pause(t=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let r=()=>{this.$video.srcObject instanceof MediaStream&&(je._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return t?(r(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(r(),!0):!1)}async setCamera(t){t!==this._preferredCamera&&(this._preferredCamera=t,await this._restartVideoStream())}static async scanImage(t,r,n,a,o=!1,i=!1){let l,c=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(l=r.scanRegion,n=r.qrEngine,a=r.canvas,o=r.disallowCanvasResizing||!1,i=r.alsoTryWithoutScanRegion||!1,c=!0):console.warn(r||n||a||o||i?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!n;try{let d,h;[n,d]=await Promise.all([n||je.createQrEngine(),je._loadImage(t)]),[a,h]=je._drawToCanvas(d,l,a,o);let u;if(n instanceof Worker){let m=n;r||je._postWorkerMessageSync(m,"inversionMode","both"),u=await new Promise((f,x)=>{let b,g,v,y=-1;g=k=>{k.data.id===y&&(m.removeEventListener("message",g),m.removeEventListener("error",v),clearTimeout(b),k.data.data!==null?f({data:k.data.data,cornerPoints:je._convertPoints(k.data.cornerPoints,l)}):x(je.NO_QR_CODE_FOUND))},v=k=>{m.removeEventListener("message",g),m.removeEventListener("error",v),clearTimeout(b),x("Scanner error: "+(k?k.message||k:"Unknown Error"))},m.addEventListener("message",g),m.addEventListener("error",v),b=setTimeout(()=>v("timeout"),1e4);let w=h.getImageData(0,0,a.width,a.height);y=je._postWorkerMessageSync(m,"decode",w,[w.data.buffer])})}else u=await Promise.race([new Promise((m,f)=>window.setTimeout(()=>f("Scanner error: timeout"),1e4)),(async()=>{try{var[m]=await n.detect(a);if(!m)throw je.NO_QR_CODE_FOUND;return{data:m.rawValue,cornerPoints:je._convertPoints(m.cornerPoints,l)}}catch(f){if(m=f.message||f,/not implemented|service unavailable/.test(m))return je._disableBarcodeDetector=!0,je.scanImage(t,{scanRegion:l,canvas:a,disallowCanvasResizing:o,alsoTryWithoutScanRegion:i});throw`Scanner error: ${m}`}})()]);return c?u:u.data}catch(d){if(!l||!i)throw d;let h=await je.scanImage(t,{qrEngine:n,canvas:a,disallowCanvasResizing:o});return c?h:h.data}finally{r||je._postWorkerMessage(n,"close")}}setGrayscaleWeights(t,r,n,a=!0){je._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:r,blue:n,useIntegerApproximation:a})}setInversionMode(t){je._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static async createQrEngine(t){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>lN(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(n=>n.createWorker()),!(!je._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return t();let r=navigator.userAgentData;return r&&r.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(r.platform)&&await r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:a})=>/arm/i.test(n||"arm")&&13<=parseInt(a||"13")).catch(()=>!0)?t():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let r=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-r)/2),y:Math.round((t.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,r=t.videoWidth,n=t.videoHeight,a=t.offsetWidth,o=t.offsetHeight,i=t.offsetLeft,l=t.offsetTop,c=window.getComputedStyle(t),d=c.objectFit,h=r/n,u=a/o;switch(d){case"none":var m=r,f=n;break;case"fill":m=a,f=o;break;default:(d==="cover"?h>u:h<u)?(f=o,m=f*h):(m=a,f=m/h),d==="scale-down"&&(m=Math.min(m,r),f=Math.min(f,n))}var[x,b]=c.objectPosition.split(" ").map((v,y)=>{const w=parseFloat(v);return v.endsWith("%")?(y?o-f:a-m)*w/100:w});c=this._scanRegion.width||r,u=this._scanRegion.height||n,d=this._scanRegion.x||0;var g=this._scanRegion.y||0;h=this.$overlay.style,h.width=`${c/r*m}px`,h.height=`${u/n*f}px`,h.top=`${l+b+g/n*f}px`,n=/scaleX\(-1\)/.test(t.style.transform),h.left=`${i+(n?a-x-m:x)+(n?r-d-c:d)/r*m}px`,h.transform=t.style.transform}})}static _convertPoints(t,r){if(!r)return t;let n=r.x||0,a=r.y||0,o=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let i of t)i.x=i.x*o+n,i.y=i.y*r+a;return t}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var t=Date.now()-this._lastScanTimestamp,r=1e3/this._maxScansPerSecond;t<r&&await new Promise(a=>setTimeout(a,r-t)),this._lastScanTimestamp=Date.now();try{var n=await je.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(a){if(!this._active)return;this._onDecodeError(a)}!je._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=je.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:a,y:o})=>`${a},${o}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(t){t!==je.NO_QR_CODE_FOUND&&console.log(t)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let t=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],n=r.map(a=>Object.assign({},a,{[t]:{exact:this._preferredCamera}}));for(let a of[...n,...r])try{let o=await navigator.mediaDevices.getUserMedia({video:a,audio:!1}),i=this._getFacingMode(o)||(a.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:o,facingMode:i}}catch{}throw"Camera not found."}async _restartVideoStream(){let t=this._paused;await this.pause(!0)&&!t&&this._active&&await this.start()}static _stopVideoStream(t){for(let r of t.getTracks())r.stop(),t.removeTrack(r)}_setVideoMirror(t){this.$video.style.transform="scaleX("+(t==="user"?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,r,n,a=!1){n=n||document.createElement("canvas");let o=r&&r.x?r.x:0,i=r&&r.y?r.y:0,l=r&&r.width?r.width:t.videoWidth||t.width,c=r&&r.height?r.height:t.videoHeight||t.height;return a||(a=r&&r.downScaledWidth?r.downScaledWidth:l,r=r&&r.downScaledHeight?r.downScaledHeight:c,n.width!==a&&(n.width=a),n.height!==r&&(n.height=r)),r=n.getContext("2d",{alpha:!1}),r.imageSmoothingEnabled=!1,r.drawImage(t,o,i,l,c,0,0,n.width,n.height),[n,r]}static async _loadImage(t){if(t instanceof Image)return await je._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(t instanceof File||t instanceof Blob||t instanceof URL||typeof t=="string"){let r=new Image;r.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return await je._awaitImageLoad(r),r}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(r.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(t){t.complete&&t.naturalWidth!==0||await new Promise((r,n)=>{let a=o=>{t.removeEventListener("load",a),t.removeEventListener("error",a),o instanceof ErrorEvent?n("Image load error"):r()};t.addEventListener("load",a),t.addEventListener("error",a)})}static async _postWorkerMessage(t,r,n,a){return je._postWorkerMessageSync(await t,r,n,a)}static _postWorkerMessageSync(t,r,n,a){if(!(t instanceof Worker))return-1;let o=je._workerMessageId++;return t.postMessage({id:o,type:r,data:n},a),o}}je.DEFAULT_CANVAS_SIZE=400;je.NO_QR_CODE_FOUND="No QR code found";je._disableBarcodeDetector=!1;je._workerMessageId=0;function Dc({info:e,rowId:t,code:r,route:n,location:a,latitude:o,longitude:i,qrCode:l,images:c=[],no:d,markerColor:h,onUpdateRow:u,editMode:m=!1,allRows:f=[],iconType:x="info"}){const[b,g]=p.useState(!1),[v,y]=p.useState(!1),[w,k]=p.useState(""),[j,E]=p.useState(!1),[C,D]=p.useState(!1),[T,$]=p.useState(!1),[M,U]=p.useState("google"),[me,B]=p.useState(!1),[F,_]=p.useState(""),[O,ee]=p.useState(!1),[H,L]=p.useState(!1),[W,P]=p.useState(!1),[ge,oe]=p.useState(!1),[he,Se]=p.useState(0),[q,te]=p.useState({info:"",qrCode:"",latitude:"",longitude:"",markerColor:""}),[X,ae]=p.useState({info:"",qrCode:"",latitude:"",longitude:"",markerColor:""});p.useEffect(()=>{if(b){const J={info:e||"",qrCode:l||"",latitude:o||"",longitude:i||"",markerColor:h||"#3388ff"};te(J),ae(J)}},[b,e,l,o,i,h]);const de=()=>X.info!==q.info||X.qrCode!==q.qrCode||X.latitude!==q.latitude||X.longitude!==q.longitude||X.markerColor!==q.markerColor,V=J=>J?(parseInt(J.replace(/\D/g,""),10)||0).toString().padStart(4,"0"):"0000",ce=()=>{D(!0)},Te=()=>{const pe=`https://fmvending.web.app/refill-service/M${V(r)}`;window.open(pe,"_blank"),D(!1)},$e=()=>{U("google"),$(!0)},qe=()=>{if(o&&i&&!isNaN(parseFloat(o))&&!isNaN(parseFloat(i))){const J=`https://www.google.com/maps/dir/?api=1&destination=${o},${i}`;window.open(J,"_blank")}$(!1)},rt=()=>{U("waze"),$(!0)},it=()=>{if(o&&i&&!isNaN(parseFloat(o))&&!isNaN(parseFloat(i))){const J=`https://waze.com/ul?ll=${o},${i}&navigate=yes`;window.open(J,"_blank")}$(!1)},lt=async()=>{if(l){E(!0);try{let J=l;if(l.startsWith("http")){const Ce=`/api/proxy-image?url=${encodeURIComponent(l)}`,S=await fetch(Ce);if(!S.ok)throw new Error(`Failed to load image: ${S.statusText}`);J=await S.blob()}const pe=await je.scanImage(J,{returnDetailedScanResult:!0});k(pe.data),y(!0)}catch(J){console.error("QR scanning error:",J),alert("Could not read QR code from the image. Please check if the image contains a valid QR code.")}finally{E(!1)}}},Dt=()=>{if(w){let J=w;w.match(/^https?:\/\//)||(w.includes(".")&&!w.includes(" ")?J=`https://${w}`:J=`https://www.google.com/search?q=${encodeURIComponent(w)}`),window.open(J,"_blank")}y(!1),k("")},bt=()=>{y(!1),k("")},mt=J=>{let pe=J.trim();!pe.startsWith("http://")&&!pe.startsWith("https://")&&(pe="https://"+pe),_(pe),B(!0)},vt=()=>{F&&window.open(F,"_blank"),B(!1),_("")},yt=()=>{de()&&ee(!0)},er=async()=>{ee(!1),L(!0);try{if(de()&&u){const J={};X.info!==q.info&&(J.info=X.info),X.qrCode!==q.qrCode&&(J.qrCode=X.qrCode||null),X.latitude!==q.latitude&&(J.latitude=X.latitude?parseFloat(X.latitude):null),X.longitude!==q.longitude&&(J.longitude=X.longitude?parseFloat(X.longitude):null),X.markerColor!==q.markerColor&&(J.markerColor=X.markerColor),await u(J),te(X),P(!0),setTimeout(()=>{P(!1)},3e3)}}finally{L(!1)}},ht=J=>{Se(J),oe(!0)};return s.jsxs(ze,{open:b,onOpenChange:g,children:[s.jsx(Bi,{asChild:!0,children:s.jsx(I,{variant:"ghost",size:"sm",className:"h-auto p-1 bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-blue-400 hover:text-blue-500 dark:text-blue-300 dark:hover:text-blue-400","data-testid":`button-info-${t}`,children:m?s.jsx(Nx,{className:"w-4 h-4"}):s.jsx(kx,{className:"w-4 h-4"})})}),s.jsxs(Ae,{className:"max-w-lg overflow-hidden flex flex-col bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl transition-smooth data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-95 duration-300 ease-out",style:{maxHeight:"min(90vh, calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 40px))",touchAction:"pan-y"},children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 border-0 shadow-inner",style:{backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)"}}),s.jsxs(Oe,{className:"pb-6 border-b border-blue-900 dark:border-cyan-400/50 flex-shrink-0",style:{paddingTop:"max(1.5rem, env(safe-area-inset-top))"},children:[s.jsx(Le,{className:"font-semibold text-center text-slate-900 dark:text-slate-400",style:{fontSize:"10px"},children:a||"Location"}),s.jsx("div",{className:"text-center text-muted-foreground pt-2",style:{fontSize:"10px"},children:r||""})]}),s.jsxs("div",{className:"py-6 space-y-6 overflow-y-auto flex-1",style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:[o&&i&&!isNaN(parseFloat(o))&&!isNaN(parseFloat(i))&&s.jsxs("div",{className:"bg-transparent backdrop-blur-sm rounded p-4 space-y-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 dark:bg-green-300 rounded-full animate-pulse"}),s.jsx("h4",{className:"font-semibold text-green-500 dark:text-green-300",style:{fontSize:"10px"},children:" Location Map"})]}),s.jsx(rN,{locations:(()=>{const J={latitude:parseFloat(o),longitude:parseFloat(i),label:a||"Location",code:n||r,isCurrent:!0,markerColor:X.markerColor||h},pe=f.filter(Ce=>Ce.latitude&&Ce.longitude&&!isNaN(parseFloat(String(Ce.latitude)))&&!isNaN(parseFloat(String(Ce.longitude)))).map(Ce=>({latitude:parseFloat(String(Ce.latitude)),longitude:parseFloat(String(Ce.longitude)),label:Ce.location||"Location",code:Ce.route||Ce.code,isCurrent:Ce.id===t,markerColor:Ce.markerColor}));return pe.length>1?pe:[J]})(),height:"160px",showFullscreenButton:!0}),s.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200/50 dark:border-white/10",children:s.jsx(Ec,{value:(()=>{const J=X.info||"";return J?J.includes("|||DESCRIPTION|||")?J.split("|||DESCRIPTION|||")[0]||"":J:""})(),onSave:J=>{const pe=X.info||"";let Ce=J;if(pe.includes("|||DESCRIPTION|||")){const S=pe.split("|||DESCRIPTION|||")[1]||"";S.trim()&&(Ce=`${J}|||DESCRIPTION|||${S}`)}ae(S=>({...S,info:Ce}))},isEditable:m})})]}),s.jsxs("div",{className:"bg-transparent backdrop-blur-sm rounded-xl p-4 space-y-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 dark:bg-purple-400 rounded-full"}),s.jsx("h4",{className:"font-semibold text-purple-600 dark:text-purple-400",style:{fontSize:"10px"},children:" Description"})]}),s.jsx(aN,{value:(()=>{const J=X.info||"";if(!J)return"";if(J.includes("|||DESCRIPTION|||")){const pe=J.split("|||DESCRIPTION|||")[1]||"";return pe.includes("|||URL|||")?pe.split("|||URL|||")[0]||"":pe}return""})(),onSave:J=>{const pe=X.info||"";let Ce="",S="";if(pe.includes("|||DESCRIPTION|||")){Ce=pe.split("|||DESCRIPTION|||")[0]||"";const G=pe.split("|||DESCRIPTION|||")[1]||"";G.includes("|||URL|||")&&(S=G.split("|||URL|||")[1]||"")}else pe.includes("|||URL|||")?(Ce=pe.split("|||URL|||")[0]||"",S=pe.split("|||URL|||")[1]||""):Ce=pe;let R=Ce.trim();J.trim()&&(R+=`|||DESCRIPTION|||${J.trim()}`),S.trim()&&(J.trim()?R+=`|||URL|||${S.trim()}`:R+=`|||DESCRIPTION||||||URL|||${S.trim()}`),ae(G=>({...G,info:R}))},isEditable:m})]}),m&&s.jsxs("div",{className:"bg-transparent backdrop-blur-sm rounded-xl p-4 space-y-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-cyan-500 dark:bg-cyan-400 rounded-full"}),s.jsx("h4",{className:"font-semibold text-cyan-600 dark:text-cyan-400",style:{fontSize:"10px"},children:" Website URL"})]}),s.jsx(Ec,{value:(()=>{const J=X.info||"";return J&&J.includes("|||URL|||")&&J.split("|||URL|||").pop()||""})(),onSave:J=>{const pe=X.info||"";let Ce="",S="";if(pe.includes("|||DESCRIPTION|||")){Ce=pe.split("|||DESCRIPTION|||")[0]||"";const G=pe.split("|||DESCRIPTION|||")[1]||"";G.includes("|||URL|||")?S=G.split("|||URL|||")[0]||"":S=G}else Ce=pe;let R=Ce;(S.trim()||J.trim())&&(R+=`|||DESCRIPTION|||${S}`,J.trim()&&(R+=`|||URL|||${J}`)),ae(G=>({...G,info:R}))},isEditable:m})]}),m&&s.jsxs("div",{className:"bg-transparent backdrop-blur-sm rounded-xl p-4 space-y-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 dark:bg-purple-400 rounded-full"}),s.jsxs("h4",{className:"font-semibold text-purple-600 dark:text-purple-400",style:{fontSize:"10px"},children:[s.jsx(Ll,{className:"w-4 h-4 inline mr-1"}),"QR Code URL"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{value:X.qrCode,onChange:J=>ae(pe=>({...pe,qrCode:J.target.value})),placeholder:"Enter QR code image URL...",style:{fontSize:"10px"},"data-testid":"input-qr-code"}),s.jsx("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:"URL to the QR code image"})]})]}),c&&c.length>0&&s.jsxs("div",{className:"bg-transparent backdrop-blur-sm rounded p-4 space-y-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-amber-500 dark:bg-amber-400 rounded-full"}),s.jsxs("h4",{className:"font-semibold text-amber-600 dark:text-amber-400",style:{fontSize:"10px"},children:[" Images (",c.filter(J=>J.type==="image").length,")"]})]}),s.jsx(ch,{images:c,maxVisible:2,onImageClick:ht})]}),m&&s.jsxs("div",{className:"bg-transparent backdrop-blur-sm rounded-xl p-4 space-y-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 dark:bg-green-400 rounded-full"}),s.jsx("h4",{className:"font-semibold text-green-600 dark:text-green-400",style:{fontSize:"10px"},children:" Coordinates"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"latitude",style:{fontSize:"10px"},children:"Latitude"}),s.jsx(Pe,{id:"latitude",type:"number",step:"any",value:X.latitude,onChange:J=>ae(pe=>({...pe,latitude:J.target.value})),placeholder:"e.g., 3.1390",style:{fontSize:"10px"},"data-testid":"input-latitude"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"longitude",style:{fontSize:"10px"},children:"Longitude"}),s.jsx(Pe,{id:"longitude",type:"number",step:"any",value:X.longitude,onChange:J=>ae(pe=>({...pe,longitude:J.target.value})),placeholder:"e.g., 101.6869",style:{fontSize:"10px"},"data-testid":"input-longitude"})]})]}),s.jsx("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:"GPS coordinates for map location"}),s.jsxs("div",{className:"space-y-2 pt-3",children:[s.jsx(ve,{htmlFor:"markerColor",style:{fontSize:"10px"},children:" Marker Color"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pe,{id:"markerColor",type:"color",value:X.markerColor,onChange:J=>ae(pe=>({...pe,markerColor:J.target.value})),className:"w-20 h-10 cursor-pointer","data-testid":"input-marker-color"}),s.jsx(Pe,{type:"text",value:X.markerColor,onChange:J=>ae(pe=>({...pe,markerColor:J.target.value})),placeholder:"#3b82f6",className:"flex-1",style:{fontSize:"10px"},pattern:"^#[0-9A-Fa-f]{6}$"})]}),s.jsx("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:"Custom color for map marker pin"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-blue-200 dark:border-blue-800/50",children:[s.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>{ae(q),g(!1)},className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-red-600 hover:text-red-700",style:{fontSize:"10px"},"data-testid":"button-cancel-info",children:[s.jsx(ut,{className:"w-4 h-4 mr-1"}),"Cancel"]}),s.jsx(I,{size:"sm",onClick:yt,disabled:H||!de(),className:de()?"bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-green-600 hover:text-green-700":"bg-transparent border-transparent text-gray-400 cursor-not-allowed",style:{fontSize:"10px"},"data-testid":"button-save-info",children:H?s.jsxs(s.Fragment,{children:[s.jsx(Co,{className:"w-4 h-4 mr-1 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx($a,{className:"w-4 h-4 mr-1"}),"Save"]})})]})]})]}),s.jsx(Qe,{className:"pt-6 mt-2 border-t border-blue-900 dark:border-cyan-400/50 bg-blue-50/50 dark:bg-black/30 backdrop-blur-sm rounded-b-2xl -mx-6 -mb-6 px-6",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:s.jsx("div",{className:"flex flex-col gap-4 w-full",children:s.jsx("div",{className:"flex justify-between items-center w-full",children:s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a!=="QL Kitchen"&&s.jsx(I,{variant:"ghost",size:"sm",onClick:ce,className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent","data-testid":`button-edit-${t}`,children:s.jsx(Mn,{className:"w-4 h-4 text-green-600"})}),l&&s.jsxs(I,{variant:"ghost",size:"sm",onClick:lt,disabled:j,className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent","data-testid":`button-qrcode-${t}`,children:[s.jsx(Ll,{className:"w-4 h-4 text-purple-600"}),j&&s.jsx("span",{className:"ml-1 text-xs",children:"Scanning..."})]}),(()=>{const J=e&&e.includes("|||URL|||")&&e.split("|||URL|||").pop()||"";return J.trim()?s.jsx(I,{variant:"ghost",size:"sm",onClick:()=>mt(J),className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent","data-testid":`button-open-url-${t}`,children:s.jsx(nr,{className:"w-4 h-4 text-cyan-600"})}):null})(),o&&i&&!isNaN(parseFloat(o))&&!isNaN(parseFloat(i))&&s.jsxs(s.Fragment,{children:[s.jsx(I,{variant:"ghost",size:"sm",onClick:$e,className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent","data-testid":`button-direction-${t}`,children:s.jsx(no,{className:"w-4 h-4 text-red-500"})}),s.jsx(I,{variant:"ghost",size:"sm",onClick:rt,className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent","data-testid":`button-waze-${t}`,children:s.jsx(ao,{className:"w-4 h-4 text-blue-500"})})]})]})})})})]}),s.jsx(ze,{open:v,onOpenChange:bt,children:s.jsxs(Ae,{className:"max-w-md animate-in zoom-in-95 duration-200 bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/20 dark:border-blue-400/20",children:[s.jsxs(Oe,{children:[s.jsxs(Le,{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(Fa,{className:"w-5 h-5"}),"QR Code Detected"]}),s.jsx(Ke,{children:"A QR code was scanned and contains a link."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50/50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(nr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Detected content:"}),s.jsx("div",{className:"bg-background/50 dark:bg-black/50 p-2 rounded text-sm font-mono break-all",children:w})]})]})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Do you want to navigate to this link? It will open in a new tab."})]}),s.jsxs(Qe,{className:"flex-col-reverse sm:flex-row gap-2",children:[s.jsx(I,{variant:"outline",onClick:bt,"data-testid":"button-cancel-qr-navigation",children:"Cancel"}),s.jsxs(I,{onClick:Dt,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-qr-navigation",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Open Link"]})]})]})}),s.jsx(ze,{open:C,onOpenChange:D,children:s.jsxs(Ae,{className:"max-w-md animate-in zoom-in-95 duration-200 bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/20 dark:border-blue-400/20",children:[s.jsxs(Oe,{children:[s.jsxs(Le,{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(Mn,{className:"w-5 h-5"}),"Open Checklist"]}),s.jsx(Ke,{children:"Access the refill service checklist for this location."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50/50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(nr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"External Link:"}),s.jsxs("div",{className:"bg-background/50 dark:bg-black/50 p-2 rounded text-sm font-mono break-all",children:["https://fmvending.web.app/refill-service/M",V(r)]})]})]})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Do you want to open the refill service checklist? It will open in a new tab."})]}),s.jsxs(Qe,{className:"flex-col-reverse sm:flex-row gap-2",children:[s.jsx(I,{variant:"outline",onClick:()=>D(!1),"data-testid":"button-cancel-checklist",children:"Cancel"}),s.jsxs(I,{onClick:Te,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-checklist",children:[s.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Open Checklist"]})]})]})}),s.jsx(ze,{open:T,onOpenChange:$,children:s.jsxs(Ae,{className:"max-w-md animate-in zoom-in-95 duration-200 bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/20 dark:border-blue-400/20",children:[s.jsxs(Oe,{children:[s.jsxs(Le,{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[M==="google"?s.jsx(no,{className:"w-5 h-5"}):s.jsx(ao,{className:"w-5 h-5"}),"Open Navigation"]}),s.jsxs(Ke,{children:["Navigate to this location using ",M==="google"?"Google Maps":"Waze","."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50/50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(nr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Navigation to:"}),s.jsxs("div",{className:"bg-background/50 dark:bg-black/50 p-2 rounded text-sm",children:[a||"Location"," (",o,", ",i,")"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Using ",M==="google"?"Google Maps":"Waze"]})]})]})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Do you want to open navigation to this location? It will open in a new tab."})]}),s.jsxs(Qe,{className:"flex-col-reverse sm:flex-row gap-2",children:[s.jsx(I,{variant:"outline",onClick:()=>$(!1),"data-testid":"button-cancel-navigation",children:"Cancel"}),s.jsxs(I,{onClick:M==="google"?qe:it,className:M==="google"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700","data-testid":"button-confirm-navigation",children:[M==="google"?s.jsx(no,{className:"w-4 h-4 mr-2"}):s.jsx(ao,{className:"w-4 h-4 mr-2"}),"Open ",M==="google"?"Google Maps":"Waze"]})]})]})}),s.jsx(ze,{open:me,onOpenChange:B,children:s.jsxs(Ae,{className:"max-w-md animate-in zoom-in-95 duration-200 bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/20 dark:border-blue-400/20",children:[s.jsxs(Oe,{children:[s.jsxs(Le,{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(nr,{className:"w-5 h-5"}),"Open External Link"]}),s.jsx(Ke,{children:"This will open a website in a new tab."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50/50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(nr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Website URL:"}),s.jsx("div",{className:"bg-background/50 dark:bg-black/50 p-2 rounded text-sm font-mono break-all",children:F})]})]})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Do you want to open this external link? It will open in a new tab and may use your data."})]}),s.jsxs(Qe,{className:"flex-col-reverse sm:flex-row gap-2",children:[s.jsx(I,{variant:"outline",onClick:()=>B(!1),"data-testid":"button-cancel-url",children:"Cancel"}),s.jsxs(I,{onClick:vt,className:"bg-cyan-600 hover:bg-cyan-700","data-testid":"button-confirm-url",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Open Link"]})]})]})}),s.jsx(ze,{open:O,onOpenChange:ee,children:s.jsxs(Ae,{className:"max-w-md animate-in zoom-in-95 duration-200 bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-green-500/20 dark:border-green-400/20",children:[s.jsxs(Oe,{children:[s.jsxs(Le,{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[s.jsx($a,{className:"w-5 h-5"}),"Save Changes"]}),s.jsx(Ke,{children:"Are you sure you want to save these changes to the location information?"})]}),s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"bg-green-50/50 dark:bg-green-950/30 p-4 rounded-lg border border-green-200 dark:border-green-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Fa,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-green-900 dark:text-green-100 mb-2",children:"Changes to be saved:"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[X.info!==q.info&&s.jsx("li",{className:"text-green-700 dark:text-green-300",children:" Location details updated"}),X.qrCode!==q.qrCode&&s.jsx("li",{className:"text-green-700 dark:text-green-300",children:" QR code URL updated"}),X.latitude!==q.latitude&&s.jsx("li",{className:"text-green-700 dark:text-green-300",children:" Latitude updated"}),X.longitude!==q.longitude&&s.jsx("li",{className:"text-green-700 dark:text-green-300",children:" Longitude updated"}),X.markerColor!==q.markerColor&&s.jsx("li",{className:"text-green-700 dark:text-green-300",children:" Marker color updated"})]})]})]})})}),s.jsxs(Qe,{className:"flex-col-reverse sm:flex-row gap-2",children:[s.jsx(I,{variant:"outline",onClick:()=>ee(!1),"data-testid":"button-cancel-save",children:"Cancel"}),s.jsxs(I,{onClick:er,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-save",children:[s.jsx($a,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}),W&&s.jsx("div",{className:"fixed top-4 right-4 z-[100] animate-in slide-in-from-top-2 duration-300",children:s.jsxs(uh,{className:"bg-green-600 text-white border-green-700 shadow-lg",children:[s.jsx(Fa,{className:"h-4 w-4"}),s.jsxs(mh,{className:"ml-2",children:[s.jsx("strong",{children:"Success!"})," Information saved successfully."]})]})}),s.jsx(yj,{images:c,isOpen:ge,onClose:()=>oe(!1),initialIndex:he})]})}const ln=p0,cn=f0,Ns=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(nd,{ref:n,className:Z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(c0,{asChild:!0,children:s.jsx(ma,{className:"h-4 w-4 opacity-50"})})]}));Ns.displayName=nd.displayName;const Oh=p.forwardRef(({className:e,...t},r)=>s.jsx(ad,{ref:r,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(wu,{className:"h-4 w-4"})}));Oh.displayName=ad.displayName;const Lh=p.forwardRef(({className:e,...t},r)=>s.jsx(od,{ref:r,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ma,{className:"h-4 w-4"})}));Lh.displayName=od.displayName;const Cs=p.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(d0,{children:s.jsxs(id,{ref:a,className:Z("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(Oh,{}),s.jsx(u0,{className:Z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Lh,{})]})}));Cs.displayName=id.displayName;const cN=p.forwardRef(({className:e,...t},r)=>s.jsx(ld,{ref:r,className:Z("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));cN.displayName=ld.displayName;const jt=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(cd,{ref:n,className:Z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(m0,{children:s.jsx(Sr,{className:"h-4 w-4"})})}),s.jsx(h0,{children:t})]}));jt.displayName=cd.displayName;const dN=p.forwardRef(({className:e,...t},r)=>s.jsx(dd,{ref:r,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));dN.displayName=dd.displayName;function qi({message:e="Loading...",type:t="pulse"}){const[r,n]=p.useState(0),[a,o]=p.useState(0),[i,l]=p.useState("Initializing"),c=[" Add images to your rows for visual reference"," Share your table with custom links"," Customize marker colors on the map"," Drag and drop rows to reorder"," View delivery routes with Google Maps"," Upload images from gallery or URL"," Toggle between delivery alternates"," Calculate distances automatically"," Save your table layout preferences"," Filter routes by delivery schedule"];return p.useEffect(()=>{const d=setInterval(()=>{n(Math.floor(Math.random()*c.length))},800),h=setInterval(()=>{o(m=>m>=100?100:m+2)},100),u=setInterval(()=>{o(m=>(m<20?l("Initializing"):m<40?l("Loading data"):m<60?l("Processing"):m<80?l("Almost there"):m<95?l("Finalizing"):l("Complete"),m))},100);return()=>{clearInterval(d),clearInterval(h),clearInterval(u)}},[]),s.jsx("div",{className:"table-loading-overlay","data-testid":"loading-overlay",children:s.jsxs("div",{className:"flex flex-col items-center gap-8 zoom-in",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 flex items-center justify-center",children:s.jsx("img",{src:"/assets/FamilyMart.png",alt:"FamilyMart Logo",className:"w-20 h-20 object-contain animate-pulse",style:{animationDuration:"2s"}})}),s.jsx("div",{className:"absolute inset-0 -m-2 rounded-3xl border-4 border-blue-400/20 animate-spin",style:{animationDuration:"3s"}}),s.jsx("div",{className:"absolute inset-0 -m-4 rounded-3xl bg-blue-500/10 animate-ping",style:{animationDuration:"2s"}})]}),s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-sm text-blue-200/90 font-medium transition-all duration-300",children:c[r]})}),s.jsxs("div",{className:"w-72 space-y-2",children:[s.jsx("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden relative",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 via-blue-500 to-blue-600 rounded-full shadow-lg shadow-blue-500/50 transition-all duration-100 ease-linear",style:{width:`${a}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-blue-200/70",children:[s.jsx("span",{children:i}),s.jsxs("span",{className:"font-mono font-bold",children:[a,"%"]})]})]})]})})}function Mh({size:e="sm",type:t="spinner"}){return t==="triple"?s.jsxs("div",{className:"loading-triple-bounce","data-testid":"inline-loading",children:[s.jsx("div",{className:"bounce"}),s.jsx("div",{className:"bounce"}),s.jsx("div",{className:"bounce"})]}):t==="particles"?s.jsx("div",{className:"loading-particles","data-testid":"inline-loading"}):s.jsx("div",{className:`${e==="lg"?"loading-spinner-lg":"loading-spinner"}`,"data-testid":"inline-loading"})}function uN({content:e,children:t,showBelow:r=!1}){const[n,a]=p.useState(!1),[o,i]=p.useState(!1);p.useEffect(()=>{const h=()=>{i("ontouchstart"in window||navigator.maxTouchPoints>0)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]);const l=()=>{o&&(a(!n),setTimeout(()=>a(!1),3e3))},c=()=>{o||a(!0)},d=()=>{o||a(!1)};return s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{onClick:l,onMouseEnter:c,onMouseLeave:d,className:`${o?"cursor-pointer":"cursor-help"}`,children:t}),n&&s.jsxs("div",{className:`absolute left-1/2 transform -translate-x-1/2 z-[1] ${r?"top-full mt-1":"bottom-full mb-1"}`,children:[s.jsx("div",{className:"px-2 py-1 text-xs bg-gray-900 text-white rounded shadow-lg whitespace-nowrap",children:e}),s.jsx("div",{className:`absolute left-1/2 transform -translate-x-1/2 border-4 border-transparent ${r?"bottom-full border-b-gray-900":"top-full border-t-gray-900"}`})]})]})}function Hi({rows:e,columns:t,editMode:r,isSharedView:n=!1,hideShareButton:a=!1,disablePagination:o=!1,onUpdateRow:i,onDeleteRow:l,onReorderRows:c,onReorderColumns:d,onDeleteColumn:h,onSelectRowForImage:u,onShowCustomization:m,onOptimizeRoute:f,onShareTable:x,onSavedLinks:b,isAuthenticated:g=!1,isLoading:v=!1,isFiltered:y=!1,searchTerm:w="",onSearchTermChange:k,filterValue:j=[],onFilterValueChange:E,deliveryFilterValue:C=[],onDeliveryFilterValueChange:D,routeOptions:T=[],deliveryOptions:$=[],onClearAllFilters:M,filteredRowsCount:U=0,totalRowsCount:me=0}){const[B,F]=p.useState(1),[_,O]=p.useState(16),[ee,H]=p.useState(!1),[L,W]=p.useState(null),[P,ge]=p.useState(null);Nt();const oe=r?t:t.filter(S=>S.dataKey!=="info");p.useEffect(()=>{B>1&&F(1)},[e.length]);const he=S=>{const R=new Date().getDay(),G=[1,3,5,0],K=[2,4,6];return S.active===!1||S.deliveryAlt==="inactive"?"inactive":S.deliveryAlt==="alt1"&&!G.includes(R)||S.deliveryAlt==="alt2"&&!K.includes(R)||n&&S.delivery==="Weekday"&&(R===5||R===6)?"off-schedule":"on-schedule"},Se=P?(()=>{const S=[...e].sort((G,K)=>{if(n||r){const se=he(G),ie=he(K),Ue={"on-schedule":0,"off-schedule":1,inactive:2};if(Ue[se]!==Ue[ie])return Ue[se]-Ue[ie]}else{const se=G.active!==!1,ie=K.active!==!1;if(se!==ie)return se?-1:1}const re=P.direction==="asc"?1:-1;switch(P.column){case"code":{const se=G.code||"",ie=K.code||"",Ue=parseInt(se)||0,le=parseInt(ie)||0;return(Ue-le)*re}case"route":{const se=G.route||"",ie=K.route||"";return se.localeCompare(ie)*re}case"location":{const se=G.location||"",ie=K.location||"";return se.localeCompare(ie)*re}case"delivery":{const se=G.delivery||"",ie=K.delivery||"";return se.localeCompare(ie)*re}case"kilometer":{const se=parseFloat(G.kilometer)||0,ie=parseFloat(K.kilometer)||0;return(se-ie)*re}case"order":{const se=G.no||0,ie=K.no||0;return(se-ie)*re}default:return 0}}),R=S.findIndex(G=>G.location==="QL Kitchen"&&G.active!==!1);if(R>0){const G=S.splice(R,1)[0];S.unshift(G)}return S})():(()=>{if(n||r){const S=e.filter(K=>he(K)==="on-schedule"),R=e.filter(K=>he(K)==="off-schedule"),G=e.filter(K=>he(K)==="inactive");return[...S,...R,...G]}else{const S=e.filter(G=>G.active!==!1),R=e.filter(G=>G.active===!1);return[...S,...R]}})(),q=Se.length,te=o?1:Math.ceil(q/_),X=o?0:(B-1)*_,ae=o?q:X+_,de=o?Se:Se.slice(X,ae),V=S=>{O(Number(S)),F(1)},ce=S=>{S!==B&&F(Math.max(1,Math.min(S,te)))},Te=S=>{if(!S.destination)return;const{source:R,destination:G,type:K}=S;if(K==="column"){const re=Array.from(t),[se]=re.splice(R.index,1);re.splice(G.index,0,se);const ie=re.map(Ue=>Ue.id);d.mutate(ie)}else if(K==="row"){const re=Array.from(e),[se]=re.splice(R.index,1);re.splice(G.index,0,se);const ie=re.map(Ue=>Ue.id);c.mutate(ie)}},$e=S=>{const R=typeof S=="string"?parseFloat(S):S;return new Intl.NumberFormat("en-MY",{style:"currency",currency:"MYR",currencyDisplay:"symbol"}).format(R||0).replace("MYR","RM")},qe=(S,R,G)=>{var K;switch(R.dataKey){case"id":return S.id.slice(0,8).toUpperCase();case"no":return S.location==="QL Kitchen"?"":G!==void 0?((K=de[0])==null?void 0:K.location)==="QL Kitchen"?G:G+1:S.no||0;case"route":return S.route||"";case"code":return S.code||"";case"location":return S.location||"";case"delivery":return S.delivery||"";case"alt1":return S.alt1||"";case"alt2":return S.alt2||"";case"info":return S.info||"";case"tngSite":return S.tngSite||"";case"tngRoute":if(R.type==="currency"){const ie=parseFloat(S.tngRoute||"0")||0;return $e(ie)}return S.tngRoute||"";case"destination":if(R.type==="currency"){const ie=parseFloat(S.destination||"0")||0;return $e(ie)}return S.destination||"";case"images":return(S.images||[]).map(ie=>typeof ie=="string"?{url:ie,caption:""}:ie);case"kilometer":const se=S.kilometer;return se===""||se===void 0||se===null?"":typeof se=="number"?se===0?"0.00 km":`${se.toFixed(2)} km`:"";default:return S[R.dataKey]||""}},rt=(S,R)=>{if(S==="no")return e.reduce((G,K)=>G+(K.no||0),0);if(S==="kilometer"){const G=e.filter(zt=>zt.location!=="QL Kitchen"&&zt.latitude&&zt.longitude&&Number.isFinite(parseFloat(zt.latitude))&&Number.isFinite(parseFloat(zt.longitude)));if(G.length===0)return 0;const K=G[G.length-1],re=K.kilometer;if(typeof re!="number"||!Number.isFinite(re))return 0;const ie=[...e].find(zt=>zt.location==="QL Kitchen");if(!ie||!ie.latitude||!ie.longitude)return re;const Ue=parseFloat(ie.latitude),le=parseFloat(ie.longitude);if(!Number.isFinite(Ue)||!Number.isFinite(le))return re;const He=parseFloat(K.latitude||"0"),Ls=parseFloat(K.longitude||"0"),Pr=6371,Ir=(Ue-He)*(Math.PI/180),Pt=(le-Ls)*(Math.PI/180),Ie=Math.sin(Ir/2)*Math.sin(Ir/2)+Math.cos(He*(Math.PI/180))*Math.cos(Ue*(Math.PI/180))*Math.sin(Pt/2)*Math.sin(Pt/2),tt=2*Math.atan2(Math.sqrt(Ie),Math.sqrt(1-Ie)),Xe=Pr*tt;return re+Xe}return R==="currency"&&S==="tngRoute"?e.reduce((G,K)=>{const re=parseFloat(K.tngRoute||"0")||0;return G+re},0):R==="currency"&&S==="destination"?e.reduce((G,K)=>{const re=parseFloat(K.destination||"0")||0;return G+re},0):R==="currency"&&S==="tollPrice"?e.reduce((G,K)=>{const re=parseFloat(K.tollPrice||"0")||0;return G+re},0):0},it=S=>{const G=[...e].sort((K,re)=>{const se=K.code||"",ie=re.code||"",Ue=parseInt(se)||0,le=parseInt(ie)||0;return!isNaN(Ue)&&!isNaN(le)?S==="asc"?Ue-le:le-Ue:S==="asc"?se.localeCompare(ie):ie.localeCompare(se)}).map(K=>K.id);c.mutate(G)},lt=S=>{const G=[...e].sort((K,re)=>{const se=K.no||0,ie=re.no||0;return S==="asc"?se-ie:ie-se}).map(K=>K.id);c.mutate(G)},Dt=S=>{const G=[...e].sort((K,re)=>{const se=K.delivery||"",ie=re.delivery||"";return S==="asc"?se.localeCompare(ie):ie.localeCompare(se)}).map(K=>K.id);c.mutate(G)},bt=S=>{const G=[...e].sort((K,re)=>{const se=K.location||"",ie=re.location||"";return S==="asc"?se.localeCompare(ie):ie.localeCompare(se)}).map(K=>K.id);c.mutate(G)},mt=S=>{const G=[...e].sort((K,re)=>{const se=K.route||"",ie=re.route||"";return S==="asc"?se.localeCompare(ie):ie.localeCompare(se)}).map(K=>K.id);c.mutate(G)},vt=S=>{const G=[...e].sort((K,re)=>{const se=parseFloat(K.kilometer)||0,ie=parseFloat(re.kilometer)||0;return S==="asc"?se-ie:ie-se}).map(K=>K.id);c.mutate(G)},yt=S=>{let R=null;if(!P||P.column!==S?R="asc":P.direction==="asc"?R="desc":R=null,R===null){ge(null);return}switch(ge({column:S,direction:R}),S){case"route":mt(R);break;case"code":it(R);break;case"delivery":Dt(R);break;case"location":bt(R);break;case"kilometer":vt(R);break;case"order":lt(R);break}},er=S=>{W(S),H(!0)},ht=()=>{L&&(l.mutate(L),H(!1),W(null))},J=()=>{H(!1),W(null)},pe=S=>{if(!E)return;const R=j.includes(S)?j.filter(G=>G!==S):[...j,S];E(R)},Ce=S=>{if(!D)return;const R=C.includes(S)?C.filter(G=>G!==S):[...C,S];D(R)};return s.jsxs("div",{className:"glass-table rounded border-none shadow-2xl table-container my-10","data-testid":"data-table",children:[s.jsx("div",{className:"px-6 py-3 border-b border-border/20 bg-gradient-to-r from-blue-500/5 via-transparent to-blue-500/5 dark:from-blue-500/5 dark:via-transparent dark:to-blue-500/5 backdrop-blur-sm text-[10px]",style:{fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif"},children:s.jsxs("div",{className:"flex flex-row gap-3 items-center justify-between",children:[!o&&s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx("span",{className:"text-sm text-muted-foreground pagination-10px",children:"Show"}),s.jsxs(ln,{value:_.toString(),onValueChange:V,children:[s.jsx(Ns,{className:"h-6 px-2 pagination-button text-xs font-semibold [&>svg]:hidden w-auto min-w-[3rem]",children:s.jsx(cn,{})}),s.jsxs(Cs,{className:"bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-700",children:[s.jsx(jt,{value:"16",className:"font-semibold",children:"16"}),s.jsx(jt,{value:"30",className:"font-semibold",children:"30"}),s.jsx(jt,{value:"50",className:"font-semibold",children:"50"}),s.jsx(jt,{value:"100",className:"font-semibold",children:"100"})]})]}),s.jsxs("span",{className:"text-sm text-muted-foreground pagination-10px",children:["of ",q," entries"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(I,{onClick:m,variant:"outline",size:"sm",className:"w-8 h-8 p-0 pagination-button","data-testid":"button-show",title:"Customize columns",children:s.jsx(Cu,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),s.jsx(I,{onClick:f,variant:"outline",size:"sm",className:"w-8 h-8 p-0 pagination-button","data-testid":"button-optimize-route",title:"Optimize delivery route with AI",children:s.jsx(Un,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),!a&&s.jsx(I,{onClick:x,variant:"outline",size:"sm",className:"w-8 h-8 p-0 pagination-button","data-testid":"button-share-table",title:"Share current table view",children:s.jsx(ha,{className:"w-3 h-3 text-green-500 dark:text-green-400"})})]})]})}),s.jsxs("div",{className:"flex justify-between items-center px-6 py-3 border-b border-border/20 bg-background/30",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs($o,{children:[s.jsx(Bo,{asChild:!0,children:s.jsxs(I,{variant:"outline",className:"h-6 px-2 pagination-button text-xs justify-start","data-testid":"sort-trigger",children:[P&&s.jsxs(s.Fragment,{children:[P.direction==="asc"?s.jsx(Or,{className:"w-3 h-3 mr-1"}):s.jsx(Ar,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{className:"hidden sm:inline",children:[P.column==="route"&&"Route",P.column==="code"&&"Code",P.column==="location"&&"Location",P.column==="delivery"&&"Delivery",P.column==="kilometer"&&"Km",P.column==="order"&&"No"]}),s.jsx("span",{className:"sm:hidden",children:"Sort"})]}),!P&&s.jsxs(s.Fragment,{children:[s.jsx(cr,{className:"w-3 h-3 mr-1 opacity-50"}),s.jsx("span",{children:"Sort"})]})]})}),s.jsx(ea,{className:"w-52 p-0",align:"start",children:s.jsxs("div",{className:"p-3 btn-glass",children:[s.jsxs("h4",{className:"font-medium text-sm mb-3 pb-2 border-b border-border/20 flex items-center gap-2",children:[s.jsx(cr,{className:"w-3.5 h-3.5 text-blue-500 dark:text-blue-400"}),"Sort By"]}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsxs(I,{variant:(P==null?void 0:P.column)==="route"?"default":"ghost",size:"sm",className:`w-full justify-between text-xs ${(P==null?void 0:P.column)==="route"?"bg-blue-500 hover:bg-blue-600 text-white":""}`,onClick:()=>yt("route"),"data-testid":"button-sort-route",children:[s.jsx("span",{children:"Route"}),(P==null?void 0:P.column)==="route"&&(P.direction==="asc"?s.jsx(Or,{className:"w-3 h-3"}):s.jsx(Ar,{className:"w-3 h-3"})),(P==null?void 0:P.column)!=="route"&&s.jsx(cr,{className:"w-3 h-3 opacity-30"})]}),s.jsxs(I,{variant:(P==null?void 0:P.column)==="code"?"default":"ghost",size:"sm",className:`w-full justify-between text-xs ${(P==null?void 0:P.column)==="code"?"bg-blue-500 hover:bg-blue-600 text-white":""}`,onClick:()=>yt("code"),"data-testid":"button-sort-code",children:[s.jsx("span",{children:"Code"}),(P==null?void 0:P.column)==="code"&&(P.direction==="asc"?s.jsx(Or,{className:"w-3 h-3"}):s.jsx(Ar,{className:"w-3 h-3"})),(P==null?void 0:P.column)!=="code"&&s.jsx(cr,{className:"w-3 h-3 opacity-30"})]}),s.jsxs(I,{variant:(P==null?void 0:P.column)==="location"?"default":"ghost",size:"sm",className:`w-full justify-between text-xs ${(P==null?void 0:P.column)==="location"?"bg-blue-500 hover:bg-blue-600 text-white":""}`,onClick:()=>yt("location"),"data-testid":"button-sort-location",children:[s.jsx("span",{children:"Location"}),(P==null?void 0:P.column)==="location"&&(P.direction==="asc"?s.jsx(Or,{className:"w-3 h-3"}):s.jsx(Ar,{className:"w-3 h-3"})),(P==null?void 0:P.column)!=="location"&&s.jsx(cr,{className:"w-3 h-3 opacity-30"})]}),s.jsxs(I,{variant:(P==null?void 0:P.column)==="delivery"?"default":"ghost",size:"sm",className:`w-full justify-between text-xs ${(P==null?void 0:P.column)==="delivery"?"bg-blue-500 hover:bg-blue-600 text-white":""}`,onClick:()=>yt("delivery"),"data-testid":"button-sort-delivery",children:[s.jsx("span",{children:"Delivery"}),(P==null?void 0:P.column)==="delivery"&&(P.direction==="asc"?s.jsx(Or,{className:"w-3 h-3"}):s.jsx(Ar,{className:"w-3 h-3"})),(P==null?void 0:P.column)!=="delivery"&&s.jsx(cr,{className:"w-3 h-3 opacity-30"})]}),s.jsxs(I,{variant:(P==null?void 0:P.column)==="kilometer"?"default":"ghost",size:"sm",className:`w-full justify-between text-xs ${(P==null?void 0:P.column)==="kilometer"?"bg-blue-500 hover:bg-blue-600 text-white":""}`,onClick:()=>yt("kilometer"),"data-testid":"button-sort-kilometer",children:[s.jsx("span",{children:"Kilometer"}),(P==null?void 0:P.column)==="kilometer"&&(P.direction==="asc"?s.jsx(Or,{className:"w-3 h-3"}):s.jsx(Ar,{className:"w-3 h-3"})),(P==null?void 0:P.column)!=="kilometer"&&s.jsx(cr,{className:"w-3 h-3 opacity-30"})]}),y&&s.jsxs(I,{variant:(P==null?void 0:P.column)==="order"?"default":"ghost",size:"sm",className:`w-full justify-between text-xs ${(P==null?void 0:P.column)==="order"?"bg-blue-500 hover:bg-blue-600 text-white":""}`,onClick:()=>yt("order"),"data-testid":"button-sort-order",children:[s.jsx("span",{children:"No"}),(P==null?void 0:P.column)==="order"&&(P.direction==="asc"?s.jsx(Or,{className:"w-3 h-3"}):s.jsx(Ar,{className:"w-3 h-3"})),(P==null?void 0:P.column)!=="order"&&s.jsx(cr,{className:"w-3 h-3 opacity-30"})]})]})]})})]}),s.jsx("div",{className:"w-auto",children:s.jsxs($o,{children:[s.jsx(Bo,{asChild:!0,children:s.jsxs(I,{variant:"outline",className:"h-6 px-2 pagination-button text-xs justify-start","data-testid":"combined-filter-trigger",children:[s.jsx("span",{className:"hidden sm:inline",children:n?C.length===0?" Hide Deliveries":` ${C.length} hidden`:j.length===0&&C.length===0?" Filters":` ${j.length}   ${C.length}`}),s.jsx("span",{className:"sm:hidden",children:n?C.length===0?"":`${C.length}`:j.length===0&&C.length===0?"":`${j.length} ${C.length}`})]})}),s.jsx(ea,{className:"w-64 p-0",align:"start",children:s.jsxs("div",{className:"space-y-4 p-4 text-sm btn-glass",children:[!n&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2",children:[s.jsx(Px,{className:"w-3 h-3 text-accent"}),"Routes (",j.length," selected)"]}),j.length>0&&s.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>E==null?void 0:E([]),className:"h-auto p-1 text-xs",children:[s.jsx(ut,{className:"w-3 h-3 mr-1"}),"Clear"]})]}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded p-2 bg-background/50",children:T.filter(S=>S!=="WH").map(S=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{id:`route-${S}`,checked:j.includes(S),onCheckedChange:()=>pe(S)}),s.jsxs(ve,{htmlFor:`route-${S}`,className:"text-xs cursor-pointer",children:[" ",S]})]},S))})]}),s.jsx("div",{className:"border-t border-border/20"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2",children:[s.jsx(Ln,{className:"w-3 h-3 text-orange-500"}),"Hide Deliveries (",C.length," hidden)"]}),C.length>0&&s.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>D==null?void 0:D([]),className:"h-auto p-1 text-xs",children:[s.jsx(ut,{className:"w-3 h-3 mr-1"}),"Clear"]})]}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded p-2 bg-background/50",children:$.map(S=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{id:`delivery-${S}`,checked:C.includes(S),onCheckedChange:()=>Ce(S)}),s.jsxs(ve,{htmlFor:`delivery-${S}`,className:"peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-xs cursor-pointer font-medium",children:[" ",S]})]},S))})]})]})})]})}),(w||j.length>0||C.length>0)&&s.jsxs(I,{onClick:M,variant:"outline",size:"sm",className:"h-6 px-2 pagination-button text-xs border-destructive/30 hover:bg-destructive/10 hover:border-destructive/50","data-testid":"clear-all-filters",children:[s.jsx("span",{className:"hidden sm:inline bg-gradient-to-r from-red-600 to-rose-600 dark:from-red-400 dark:to-rose-400 bg-clip-text text-transparent",children:"Clear"}),s.jsx("span",{className:"sm:hidden bg-gradient-to-r from-red-600 to-rose-600 dark:from-red-400 dark:to-rose-400 bg-clip-text text-transparent",children:"Clear"})]})]}),s.jsx("div",{className:"flex-1 max-w-[30%] lg:max-w-md ml-auto flex items-center gap-2",children:s.jsxs("div",{className:"relative group flex-1",children:[s.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-4 text-muted-foreground group-hover:text-primary transition-colors"}),s.jsx(Pe,{placeholder:"Search...",value:w,onChange:S=>k==null?void 0:k(S.target.value),className:"pl-7 pr-7 h-8 bg-transparent text-foreground placeholder:text-muted-foreground border-2 border-primary/20 hover:border-primary/30 hover:bg-primary/5 rounded-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:ring-offset-2 focus-visible:border-primary/40 focus-visible:bg-primary/5 disabled:cursor-not-allowed disabled:opacity-50 transition-colors text-sm","data-testid":"search-input"}),w&&s.jsx("button",{onClick:()=>k==null?void 0:k(""),className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-0.5 w-5 h-5 rounded-full hover:bg-muted/50 transition-colors flex items-center justify-center","data-testid":"clear-search","aria-label":"Clear search",children:s.jsx(ut,{className:"w-2.5 h-2.5 text-muted-foreground hover:text-foreground"})})]})})]}),(w||j.length>0||C.length>0)&&s.jsx("div",{className:"px-6 py-2 border-b border-border/20 bg-gradient-to-r from-blue-500/5 via-transparent to-blue-500/5 dark:from-blue-500/5 dark:via-transparent dark:to-blue-500/5",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[s.jsx("span",{className:"text-muted-foreground font-medium text-xs",children:"Active:"}),w&&s.jsxs("div",{className:"flex items-center gap-0.5 px-2 py-0.5 bg-primary/10 border border-primary/20 rounded-full text-primary text-xs",children:[s.jsx(Ml,{className:"w-2.5 h-2.5"}),s.jsxs("span",{children:['"',w,'"']}),s.jsx("button",{onClick:()=>k==null?void 0:k(""),className:"ml-0.5 p-0.5 hover:text-primary/70 flex items-center justify-center rounded-full hover:bg-primary/10","aria-label":"Remove text filter",children:s.jsx(ut,{className:"w-2.5 h-2.5"})})]}),j.map(S=>{const G=(K=>{const re=K.toUpperCase();return re.includes("SL")||re.includes("SEL")||re.includes("SELANGOR")?"/icon/selangor-flag.png":re.includes("KL")||re.includes("KUL")||re.includes("KUALA")?"/icon/kl-flag.png":null})(S);return s.jsxs("div",{className:"flex items-center gap-0.5 px-2 py-0.5 bg-transparent border border-transparent rounded-full text-gray-400 text-xs",children:[G?s.jsx("img",{src:G,alt:`${S} flag`,className:"w-4 h-3 object-cover mr-1"}):s.jsx(Ln,{className:"w-2.5 h-2.5"}),s.jsx("span",{children:S}),s.jsx("button",{onClick:()=>pe(S),className:"ml-0.5 p-0.5 hover:text-red-600 flex items-center justify-center rounded-full hover:bg-red-500/10","aria-label":`Remove route filter: ${S}`,children:s.jsx(ut,{className:"w-2.5 h-2.5 text-red-500"})})]},S)}),C.map(S=>s.jsxs("div",{className:"flex items-center gap-0.5 px-2 py-0.5 bg-transparent border border-transparent rounded-full text-gray-400 text-xs",children:[s.jsx(Ln,{className:"w-2.5 h-2.5"}),s.jsx("span",{children:S}),s.jsx("button",{onClick:()=>Ce(S),className:"ml-0.5 p-0.5 hover:text-red-600 flex items-center justify-center rounded-full hover:bg-red-500/10","aria-label":`Remove delivery filter: ${S}`,children:s.jsx(ut,{className:"w-2.5 h-2.5 text-red-500"})})]},S)),s.jsxs("div",{className:"ml-auto text-muted-foreground text-xs",children:[U," of ",me," results"]})]})}),s.jsx("div",{className:"overflow-x-auto w-full",children:s.jsxs(Xm,{onDragEnd:Te,children:[s.jsxs(oh,{className:"min-w-full",children:[s.jsx(ih,{className:"glass-card sticky top-0 z-20 border-b border-glass-border backdrop-blur-3xl",children:s.jsx(_o,{droppableId:"columns",direction:"horizontal",type:"column",children:S=>s.jsxs(_n,{ref:S.innerRef,...S.droppableProps,children:[oe.map((R,G)=>s.jsx(Mo,{draggableId:R.id,index:G,children:K=>s.jsx(zo,{ref:K.innerRef,...K.draggableProps,className:"px-4 py-3 text-center table-header-footer-12px font-medium text-blue-700 dark:text-blue-300 tracking-wide border-b border-border sticky top-0 bg-white dark:bg-slate-900 shadow-sm whitespace-nowrap",style:{textAlign:"center",textDecoration:"normal",fontSize:"10px",...R.dataKey==="location"&&{minWidth:"135px"}},colSpan:R.dataKey==="location"?3:1,"data-testid":`column-header-${R.dataKey}`,children:s.jsx(vj,{column:R,dragHandleProps:K.dragHandleProps,onDelete:()=>h.mutate(R.id),isAuthenticated:g,editMode:r})})},R.id)),s.jsx(zo,{className:"px-4 py-3 text-center table-header-footer-12px font-semibold tracking-wide border-b border-border sticky top-0 bg-white dark:bg-slate-900 shadow-sm whitespace-nowrap",style:{textAlign:"center",textDecoration:"normal",fontSize:"10px"},children:s.jsx("span",{className:"bg-gradient-to-r from-red-600 to-rose-600 dark:from-red-400 dark:to-rose-400 bg-clip-text text-transparent",children:"Actions"})}),S.placeholder]})})}),s.jsx(_o,{droppableId:"rows",type:"row",children:S=>p.createElement(lh,{ref:S.innerRef,...S.droppableProps,className:"pt-2 motion-layer zoom-in",key:`page-${B}`},v?Array.from({length:Math.min(_,5)}).map((R,G)=>s.jsxs("tr",{className:"skeleton-row fade-in-stagger odd:bg-white dark:odd:bg-gray-900/50 even:bg-blue-50/50 dark:even:bg-blue-900/20 backdrop-blur-sm hover:bg-muted/60 table-cell-unique-transition",children:[s.jsx("td",{className:"p-3 w-16",children:s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("div",{className:"skeleton w-8 h-8 rounded-md bg-gradient-to-r from-gray-500/20 to-slate-500/20 animate-pulse"}),s.jsx("div",{className:"skeleton w-8 h-8 rounded-md bg-gradient-to-r from-blue-500/20 to-purple-500/20 animate-pulse",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"skeleton w-8 h-8 rounded-md bg-gradient-to-r from-green-500/20 to-blue-500/20 animate-pulse",style:{animationDelay:"0.2s"}}),s.jsx("div",{className:"skeleton w-8 h-8 rounded-md bg-gradient-to-r from-yellow-500/20 to-green-500/20 animate-pulse",style:{animationDelay:"0.3s"}}),s.jsx("div",{className:"skeleton w-8 h-8 rounded-md bg-gradient-to-r from-red-500/20 to-yellow-500/20 animate-pulse",style:{animationDelay:"0.4s"}}),s.jsx("div",{className:"skeleton w-8 h-8 rounded-md bg-gradient-to-r from-green-500/20 to-emerald-500/20 animate-pulse",style:{animationDelay:"0.5s"}})]})}),oe.map(K=>s.jsx("td",{className:"p-3",colSpan:K.dataKey==="location"?3:1,children:K.dataKey==="images"?s.jsx("div",{className:"skeleton w-12 h-8 rounded mx-auto bg-gradient-to-r from-blue-400/20 to-purple-400/20 animate-pulse"}):K.dataKey==="delivery"?s.jsx("div",{className:"skeleton w-16 h-6 rounded-full mx-auto bg-gradient-to-r from-green-400/20 to-blue-400/20 animate-pulse"}):K.dataKey==="location"?s.jsx("div",{className:"skeleton w-32 h-4 mx-auto bg-gradient-to-r from-yellow-400/20 to-green-400/20 animate-pulse"}):s.jsx("div",{className:"skeleton w-20 h-4 mx-auto bg-gradient-to-r from-cyan-400/20 to-blue-400/20 animate-pulse"})},K.id))]},`skeleton-${G}`)):de.map((R,G)=>s.jsx(Mo,{draggableId:R.id,index:G,children:(K,re)=>{var se,ie,Ue;return s.jsxs(_n,{ref:K.innerRef,...K.draggableProps,className:`glass-hover group transition-smooth ${(()=>{if(n||r){const le=he(R);return le==="inactive"?"bg-gray-100/60 dark:bg-gray-800/40 opacity-50":le==="off-schedule"?R.location==="QL Kitchen"?"bg-gradient-to-r from-gray-100/80 to-slate-100/80 dark:from-gray-800/60 dark:to-slate-800/60 opacity-60":"odd:bg-white dark:odd:bg-gray-900/50 even:bg-blue-50/50 dark:even:bg-blue-900/20 opacity-60":R.location==="QL Kitchen"?"bg-gradient-to-r from-gray-100/80 to-slate-100/80 dark:from-gray-800/60 dark:to-slate-800/60":"odd:bg-white dark:odd:bg-gray-900/50 even:bg-blue-50/50 dark:even:bg-blue-900/20"}else return R.active===!1?"bg-gray-100/60 dark:bg-gray-800/40 opacity-50":R.location==="QL Kitchen"?"bg-gradient-to-r from-gray-100/80 to-slate-100/80 dark:from-gray-800/60 dark:to-slate-800/60":"odd:bg-white dark:odd:bg-gray-900/50 even:bg-blue-50/50 dark:even:bg-blue-900/20"})()} hover:bg-blue-100/60 dark:hover:bg-blue-800/30 table-cell-unique-transition ${re.isDragging?"drag-elevate":""}`,"data-testid":`table-row-${R.id}`,children:[oe.map(le=>s.jsx(qs,{className:"p-4 align-middle [&:has([role=checkbox])]:pr-0 px-3 py-3 table-cell-10px text-center text-[12px] bg-transparent text-foreground whitespace-nowrap font-normal table-zoom-in",style:{minWidth:"100px",...le.dataKey==="location"&&{minWidth:"135px",fontSize:"10px"},...le.dataKey==="delivery"&&{minWidth:"110px",fontSize:"10px",fontWeight:"normal"},...le.dataKey==="id"&&{minWidth:"120px"},...le.dataKey==="code"&&{minWidth:"100px"},...le.dataKey==="route"&&{minWidth:"90px"},...le.dataKey==="no"&&{minWidth:"70px"},...le.dataKey==="kilometer"&&{minWidth:"80px"},...le.dataKey==="tollPrice"&&{minWidth:"90px"},...le.dataKey==="tngRoute"&&{minWidth:"90px"},...le.dataKey==="images"&&{minWidth:"120px"},...le.type==="currency"&&!le.dataKey.match(/tollPrice|tngRoute/)&&{minWidth:"100px"}},colSpan:le.dataKey==="location"?3:1,"data-testid":`cell-${R.id}-${le.dataKey}`,children:s.jsx("div",{className:"w-[98%] mx-auto text-center",children:le.dataKey==="images"?s.jsxs("div",{className:"relative",children:[s.jsx(ch,{images:R.images||[],maxVisible:2,onImageClick:He=>{console.log("Image clicked:",He)}}),r&&s.jsx("button",{onClick:()=>u(R.id),className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center text-xs transition-all duration-200 hover:scale-110 shadow-lg",title:"Add Image",children:"+"})]}):le.dataKey==="info"?R.info&&R.info.trim()?s.jsx(Dc,{info:R.info,rowId:R.id,code:R.code,route:R.route,location:R.location,latitude:R.latitude?String(R.latitude):void 0,longitude:R.longitude?String(R.longitude):void 0,qrCode:R.qrCode||void 0,images:R.images||[],no:R.no,markerColor:R.markerColor||void 0,onUpdateRow:He=>i.mutate({id:R.id,updates:He}),editMode:!1,allRows:e,iconType:"info"}):s.jsx("span",{className:"text-muted-foreground",children:""}):le.dataKey==="delivery"?r&&le.isEditable==="true"?s.jsx(so,{value:qe(R,le,G),type:"select",options:$,dataKey:le.dataKey,onSave:He=>i.mutate({id:R.id,updates:{[le.dataKey]:He}})}):s.jsx("span",{className:"text-[9px] text-gray-500 dark:text-gray-400 font-medium",children:qe(R,le,G)||""}):le.dataKey==="id"?s.jsx("span",{className:"font-mono text-slate-600 dark:text-slate-300",style:{fontSize:"10px"},children:qe(R,le,G)}):le.dataKey==="no"&&r&&R.location!=="QL Kitchen"?s.jsx(so,{value:String(R.no||0),type:"number",dataKey:le.dataKey,onSave:He=>i.mutate({id:R.id,updates:{no:parseInt(He)||0}})}):r&&le.isEditable==="true"?s.jsx(so,{value:qe(R,le,G),type:le.type,options:le.options||void 0,dataKey:le.dataKey,onSave:He=>i.mutate({id:R.id,updates:{[le.dataKey]:He}})}):s.jsx("span",{className:"text-[9px] text-gray-500 dark:text-gray-400 font-medium",children:le.dataKey==="kilometer"?s.jsx(uN,{content:(()=>{const He=R.segmentDistance;return He&&typeof He=="number"&&He>0?`${He.toFixed(2)} km`:"Starting point"})(),showBelow:G===0&&G!==de.length-1,children:s.jsx("span",{className:"cursor-help",children:qe(R,le,G)})}):qe(R,le,G)})})},le.id)),s.jsx(qs,{className:"px-4 py-2 text-sm text-center text-foreground",style:{textAlign:"center"},children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{...K.dragHandleProps,className:`p-2 rounded ${re.isDragging?"cursor-grabbing":r?"cursor-grab":"cursor-default"} text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-all`,title:r?"Drag to reorder":"","data-testid":`drag-handle-${R.id}`,children:s.jsx(Su,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center gap-3 opacity-60 group-hover:opacity-100 transition-opacity",children:[r&&s.jsxs(s.Fragment,{children:[s.jsx(I,{size:"sm",variant:"ghost",className:`bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-blue-400 dark:text-blue-300 hover:text-blue-500 dark:hover:text-blue-400 ${i.isPending&&((se=i.variables)==null?void 0:se.id)===R.id?"opacity-50":""}`,onClick:()=>{u(r?R.id:"access-denied")},disabled:i.isPending&&((ie=i.variables)==null?void 0:ie.id)===R.id,"data-testid":`button-add-image-${R.id}`,title:"Add image",children:s.jsx(hx,{className:"w-4 h-4"})}),s.jsx(I,{size:"sm",variant:"ghost",className:`bg-transparent border-transparent hover:bg-transparent hover:border-transparent ${g?"text-blue-400 dark:text-blue-300 hover:text-blue-500 dark:hover:text-blue-400":"opacity-50 cursor-not-allowed"} ${l.isPending&&l.variables===R.id?"mutation-loading":""}`,onClick:()=>g&&er(R.id),disabled:!g||l.isPending&&l.variables===R.id,"data-testid":`button-delete-row-${R.id}`,title:g?"Delete row":"Authentication required to delete rows",children:l.isPending&&l.variables===R.id?s.jsx(Mh,{type:"particles"}):s.jsx(So,{className:"w-4 h-4"})})]}),s.jsx(Dc,{info:R.info||"",rowId:R.id,code:R.code,route:R.route,location:R.location,latitude:R.latitude?String(R.latitude):void 0,longitude:R.longitude?String(R.longitude):void 0,qrCode:R.qrCode||void 0,images:R.images||[],no:R.no,markerColor:R.markerColor||void 0,onUpdateRow:le=>i.mutate({id:R.id,updates:le}),editMode:r,allRows:e,iconType:r?"filetext":"info"}),r?s.jsxs(ln,{value:R.deliveryAlt||"normal",onValueChange:le=>{const He=le!=="inactive";i.mutate({id:R.id,updates:{deliveryAlt:le,active:He}})},disabled:i.isPending&&((Ue=i.variables)==null?void 0:Ue.id)===R.id,children:[s.jsx(Ns,{className:`h-8 w-16 text-xs border-transparent bg-transparent ${(()=>{if(n||r){const le=he(R);return le==="inactive"?"text-red-500 dark:text-red-400":le==="off-schedule"?"opacity-60 text-yellow-500 dark:text-yellow-400":"text-green-500 dark:text-green-400"}else return R.deliveryAlt==="inactive"?"text-red-500 dark:text-red-400":R.deliveryAlt==="alt1"||R.deliveryAlt==="alt2"?"text-yellow-500 dark:text-yellow-400":"text-green-500 dark:text-green-400"})()}`,"data-testid":`select-delivery-alt-${R.id}`,children:s.jsx(cn,{})}),s.jsxs(Cs,{children:[s.jsx(jt,{value:"normal",children:s.jsx("span",{className:"text-green-600 dark:text-green-400",children:""})}),s.jsx(jt,{value:"alt1",children:s.jsx("span",{className:"text-yellow-600 dark:text-yellow-400",children:""})}),s.jsx(jt,{value:"alt2",children:s.jsx("span",{className:"text-yellow-600 dark:text-yellow-400",children:""})}),s.jsx(jt,{value:"inactive",children:s.jsx("span",{className:"text-red-500 dark:text-red-400",children:""})})]})]}):s.jsx(I,{size:"sm",variant:"ghost",className:`border-transparent bg-transparent hover:bg-transparent cursor-not-allowed ${(()=>{if(n||r){const le=he(R);return le==="inactive"?"text-red-500 dark:text-red-400 hover:text-red-600 dark:hover:text-red-300":le==="off-schedule"?"opacity-40 text-yellow-500 dark:text-yellow-400 hover:text-yellow-600 dark:hover:text-yellow-500":"opacity-60 text-green-500 dark:text-green-400 hover:text-green-600 dark:hover:text-green-500"}else return R.deliveryAlt==="inactive"?"text-red-500 dark:text-red-400 hover:text-red-600 dark:hover:text-red-300":R.deliveryAlt==="alt1"||R.deliveryAlt==="alt2"?"opacity-60 text-yellow-500 dark:text-yellow-400 hover:text-yellow-600 dark:hover:text-yellow-500":"opacity-60 text-green-500 dark:text-green-400 hover:text-green-600 dark:hover:text-green-500"})()}`,disabled:!0,"data-testid":`button-toggle-active-${R.id}`,title:R.deliveryAlt==="alt1"?"Delivery Alt 1 (Mon, Wed, Fri, Sun)":R.deliveryAlt==="alt2"?"Delivery Alt 2 (Tue, Thu, Sat)":R.deliveryAlt==="inactive"?"Inactive":"Normal Delivery (Every Day)",children:s.jsx($x,{className:"w-4 h-4"})})]})]})})})]})}},R.id)),S.placeholder)}),s.jsx("tfoot",{children:s.jsxs(_n,{children:[oe.map((S,R)=>s.jsx(qs,{className:"px-3 py-3 text-center table-header-footer-12px font-semibold tracking-wide border-t border-border sticky bottom-0 bg-white dark:bg-slate-900 shadow-sm whitespace-nowrap",style:{textAlign:"center",fontSize:"10px"},colSpan:S.dataKey==="location"?3:1,children:R===0?s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",style:{fontSize:"11px"},children:"Totals"}):S.dataKey==="no"?s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:""}):S.dataKey==="kilometer"?s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:(()=>{const G=rt("kilometer",S.type);return G>0?`${G.toFixed(2)} km`:""})()}):S.dataKey==="tngRoute"&&S.type==="currency"?s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:$e(rt("tngRoute",S.type))}):S.dataKey==="tollPrice"&&S.type==="currency"?s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:$e(rt("tollPrice",S.type))}):s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:""})},S.id)),s.jsx(qs,{className:"px-3 py-3 text-center table-header-footer-12px font-semibold tracking-wide border-t border-border sticky bottom-0 bg-white dark:bg-slate-900 shadow-sm text-foreground whitespace-nowrap",style:{textAlign:"center",fontSize:"10px"},children:s.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:""})})]})})]}),!o&&s.jsxs("div",{className:"flex flex-col items-center gap-2 px-4 py-2 border-t border-blue-200 dark:border-blue-500/20 transition-smooth-fast",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[B>3&&s.jsx(I,{variant:"outline",size:"xs",onClick:()=>ce(1),className:"pagination-button","data-testid":"button-first-page",children:s.jsx(dx,{className:"h-3 w-3"})}),s.jsx("div",{className:"flex items-center gap-1",children:(()=>{if(te<=6){const re=[];for(let se=1;se<=te;se++)re.push(se);return re.map(se=>{const ie=se===B;return s.jsx(I,{variant:"outline",size:"xs",onClick:()=>ce(se),className:`pagination-button page-number ${ie?"active":""}`,"data-testid":`button-page-${se}`,children:se},se)})}let R=Math.max(1,B-3),G=Math.min(te,R+6-1);G-R<5&&(R=Math.max(1,G-6+1));const K=[];for(let re=R;re<=G;re++)K.push(re);return K.map(re=>{const se=re===B;return s.jsx(I,{variant:"outline",size:"xs",onClick:()=>ce(re),className:`pagination-button page-number ${se?"active":""}`,"data-testid":`button-page-${re}`,children:re},re)})})()}),te-B>=3&&s.jsx(I,{variant:"outline",size:"xs",onClick:()=>ce(te),className:"pagination-button","data-testid":"button-last-page",children:s.jsx(ux,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"text-[10px] font-medium text-muted-foreground whitespace-nowrap",children:[B," of ",te]})]})]})}),s.jsx(ze,{open:ee,onOpenChange:H,children:s.jsxs(Ae,{className:"sm:max-w-[425px] transition-smooth-fast",children:[s.jsxs(Oe,{children:[s.jsx(Le,{children:"Confirm Deletion"}),s.jsx(Ke,{children:"Are you sure you want to delete this row? This action cannot be undone."})]}),s.jsxs(Qe,{children:[s.jsx(I,{variant:"outline",onClick:J,"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(I,{variant:"destructive",onClick:ht,"data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})}const ja=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Z("glass-card text-card-foreground",e),...t}));ja.displayName="Card";const Fh=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Z("flex flex-col space-y-1.5 p-6",e),...t}));Fh.displayName="CardHeader";const _h=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Z("text-2xl font-semibold leading-none tracking-tight",e),...t}));_h.displayName="CardTitle";const mN=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));mN.displayName="CardDescription";const Na=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Z("p-6 pt-0",e),...t}));Na.displayName="CardContent";const hN=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Z("flex items-center p-6 pt-0",e),...t}));hN.displayName="CardFooter";const ta=p.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Z("flex min-h-[120px] w-full rounded-xl border border-input bg-glass-bg backdrop-blur-2xl px-4 py-3 text-base ring-offset-background placeholder:text-muted-foreground/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:ring-offset-2 focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-all duration-300 ease-out resize-none shadow-lg",e),ref:r,...t}));ta.displayName="Textarea";var Wi="Radio",[pN,zh]=Jt(Wi),[fN,gN]=pN(Wi),$h=p.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:o,disabled:i,value:l="on",onCheck:c,form:d,...h}=e,[u,m]=p.useState(null),f=ot(t,g=>m(g)),x=p.useRef(!1),b=u?d||!!u.closest("form"):!0;return s.jsxs(fN,{scope:r,checked:a,disabled:i,children:[s.jsx(Ge.button,{type:"button",role:"radio","aria-checked":a,"data-state":Gh(a),"data-disabled":i?"":void 0,disabled:i,value:l,...h,ref:f,onClick:Ne(e.onClick,g=>{a||c==null||c(),b&&(x.current=g.isPropagationStopped(),x.current||g.stopPropagation())})}),b&&s.jsx(xN,{control:u,bubbles:!x.current,name:n,value:l,checked:a,required:o,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});$h.displayName=Wi;var Bh="RadioIndicator",Uh=p.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,o=gN(Bh,r);return s.jsx(Ht,{present:n||o.checked,children:s.jsx(Ge.span,{"data-state":Gh(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})})});Uh.displayName=Bh;var xN=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,o=p.useRef(null),i=Jo(r),l=Zo(t);return p.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==r&&u){const m=new Event("click",{bubbles:n});u.call(c,r),c.dispatchEvent(m)}},[i,r,n]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Gh(e){return e?"checked":"unchecked"}var bN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ki="RadioGroup",[vN,SC]=Jt(Ki,[oa,zh]),Vh=oa(),qh=zh(),[yN,wN]=vN(Ki),Hh=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:d,loop:h=!0,onValueChange:u,...m}=e,f=Vh(r),x=ei(d),[b,g]=Rs({prop:o,defaultProp:a,onChange:u});return s.jsx(yN,{scope:r,name:n,required:i,disabled:l,value:b,onValueChange:g,children:s.jsx(ud,{asChild:!0,...f,orientation:c,dir:x,loop:h,children:s.jsx(Ge.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...m,ref:t})})})});Hh.displayName=Ki;var Wh="RadioGroupItem",Kh=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,o=wN(Wh,r),i=o.disabled||n,l=Vh(r),c=qh(r),d=p.useRef(null),h=ot(t,d),u=o.value===a.value,m=p.useRef(!1);return p.useEffect(()=>{const f=b=>{bN.includes(b.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",x)}},[]),s.jsx(md,{asChild:!0,...l,focusable:!i,active:u,children:s.jsx($h,{disabled:i,required:o.required,checked:u,...c,...a,name:o.name,ref:h,onCheck:()=>o.onValueChange(a.value),onKeyDown:Ne(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:Ne(a.onFocus,()=>{var f;m.current&&((f=d.current)==null||f.click())})})})});Kh.displayName=Wh;var kN="RadioGroupIndicator",Qh=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=qh(r);return s.jsx(Uh,{...a,...n,ref:t})});Qh.displayName=kN;var Yh=Hh,Xh=Kh,jN=Qh;const ss=p.forwardRef(({className:e,...t},r)=>s.jsx(Yh,{className:Z("grid gap-2",e),...t,ref:r}));ss.displayName=Yh.displayName;const Lt=p.forwardRef(({className:e,...t},r)=>s.jsx(Xh,{ref:r,className:Z("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(jN,{className:"flex items-center justify-center",children:s.jsx(ju,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Lt.displayName=Xh.displayName;var Qi="Tabs",[NN,EC]=Jt(Qi,[oa]),Jh=oa(),[CN,Yi]=NN(Qi),Zh=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,h=ei(l),[u,m]=Rs({prop:n,onChange:a,defaultProp:o});return s.jsx(CN,{scope:r,baseId:sd(),value:u,onValueChange:m,orientation:i,dir:h,activationMode:c,children:s.jsx(Ge.div,{dir:h,"data-orientation":i,...d,ref:t})})});Zh.displayName=Qi;var ep="TabsList",tp=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,o=Yi(ep,r),i=Jh(r);return s.jsx(ud,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:s.jsx(Ge.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});tp.displayName=ep;var rp="TabsTrigger",sp=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...o}=e,i=Yi(rp,r),l=Jh(r),c=op(i.baseId,n),d=ip(i.baseId,n),h=n===i.value;return s.jsx(md,{asChild:!0,...l,focusable:!a,active:h,children:s.jsx(Ge.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:Ne(e.onMouseDown,u=>{!a&&u.button===0&&u.ctrlKey===!1?i.onValueChange(n):u.preventDefault()}),onKeyDown:Ne(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&i.onValueChange(n)}),onFocus:Ne(e.onFocus,()=>{const u=i.activationMode!=="manual";!h&&!a&&u&&i.onValueChange(n)})})})});sp.displayName=rp;var np="TabsContent",ap=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:o,...i}=e,l=Yi(np,r),c=op(l.baseId,n),d=ip(l.baseId,n),h=n===l.value,u=p.useRef(h);return p.useEffect(()=>{const m=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(Ht,{present:a||h,children:({present:m})=>s.jsx(Ge.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:m&&o})})});ap.displayName=np;function op(e,t){return`${e}-trigger-${t}`}function ip(e,t){return`${e}-content-${t}`}var SN=Zh,lp=tp,cp=sp,dp=ap;const EN=SN,up=p.forwardRef(({className:e,...t},r)=>s.jsx(lp,{ref:r,className:Z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));up.displayName=lp.displayName;const Uo=p.forwardRef(({className:e,...t},r)=>s.jsx(cp,{ref:r,className:Z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Uo.displayName=cp.displayName;const Go=p.forwardRef(({className:e,...t},r)=>s.jsx(dp,{ref:r,className:Z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Go.displayName=dp.displayName;function mp({open:e,onOpenChange:t,onSave:r,onSaveMultiple:n}){const[a,o]=p.useState("single"),[i,l]=p.useState("image"),[c,d]=p.useState("url"),[h,u]=p.useState(""),[m,f]=p.useState(""),[x,b]=p.useState(""),[g,v]=p.useState([]),[y,w]=p.useState(""),[k,j]=p.useState(!1),E=p.useRef(null),{toast:C}=Nt(),D=O=>O.includes("youtube.com")||O.includes("youtu.be")?"youtube":O.includes("vimeo.com")?"vimeo":O.includes(".mp4")||O.includes(".webm")||O.includes(".ogg")?"direct":"unknown",T=O=>new Promise((ee,H)=>{const L=new FileReader;L.onload=()=>ee(L.result),L.onerror=H,L.readAsDataURL(O)}),$=async O=>{const ee=O.target.files;if(!(!ee||ee.length===0)){j(!0);try{if(a==="single"){const H=ee[0],L=await T(H),W=L.includes("data:")?L.replace(/^data:([^;]+)/,`data:${H.type}`):L;u(W),H.type.startsWith("video/")?l("video"):l("image"),C({title:"File Loaded",description:`${H.name} (${(H.size/1024/1024).toFixed(2)} MB)`})}else{const H=[];for(const L of Array.from(ee)){const W=await T(L),P=L.type.startsWith("video/")?"video":"image",ge=W.includes("data:")?W.replace(/^data:([^;]+)/,`data:${L.type}`):W;H.push({url:ge,caption:L.name,type:P,mimeType:L.type})}v([...g,...H]),C({title:"Files Loaded",description:`${ee.length} file(s) added to album`})}}catch{C({title:"Error",description:"Failed to load file(s)",variant:"destructive"})}finally{j(!1),E.current&&(E.current.value="")}}},M=()=>{if(a==="single"){if(!h.trim())return;const O=H=>{if(H.startsWith("data:")){const L=H.match(/^data:([^;]+)/);return L?L[1]:void 0}},ee={url:h.trim(),caption:m.trim(),type:i,...i==="video"&&x.trim()&&{thumbnail:x.trim()},...O(h)&&{mimeType:O(h)}};r(ee)}else{if(g.length===0)return;n==null||n(g)}F()},U=()=>{if(!h.trim())return;const O={url:h.trim(),caption:m.trim(),type:i,...i==="video"&&x.trim()&&{thumbnail:x.trim()}};v([...g,O]),u(""),f(""),b("")},me=O=>{v(g.filter((ee,H)=>H!==O))},B=()=>{const ee=y.split(`
`).filter(H=>H.trim()).map(H=>({url:H.trim(),caption:"",type:i}));v([...g,...ee]),w("")},F=()=>{u(""),f(""),b(""),l("image"),v([]),w(""),o("single"),d("url"),j(!1),t(!1)},_=()=>{F()};return s.jsx(ze,{open:e,onOpenChange:t,children:s.jsxs(Ae,{className:"max-w-3m max-h-[90vh] flex flex-col bg-white/95 dark:bg-black/95 backdrop-blur-xl border border-gray-200 dark:border-white/10 shadow-2xl rounded",children:[s.jsxs(Oe,{className:"flex-shrink-0 text-center",children:[s.jsxs(Le,{className:"flex items-center justify-center gap-2 text-center text-sm font-semibold",children:[a==="single"?s.jsx(Fl,{className:"w-5 h-5"}):s.jsx(za,{className:"w-5 h-5"}),a==="single"?"Add Media":"Add Album"]}),s.jsx(Ke,{className:"text-center text-muted-foreground text-sm mt-2",children:a==="single"?"Upload an image or video to the gallery":"Create an album with multiple media items"})]}),s.jsx("div",{className:"mt-6 space-y-6 overflow-y-auto flex-1 pr-2 px-2",children:s.jsxs("div",{className:"bg-gray-50 dark:bg-black/50 backdrop-blur-sm border border-gray-200 dark:border-white/15 rounded p-4",children:[s.jsx(ve,{className:"text-sm font-medium text-foreground/90 mb-3 block",children:" Upload Mode"}),s.jsxs(EN,{value:a,onValueChange:O=>o(O),className:"w-full",children:[s.jsxs(up,{className:"grid w-full grid-cols-2 bg-gray-100 dark:bg-white/5",children:[s.jsxs(Uo,{value:"single",className:"flex items-center gap-2",children:[s.jsx(wx,{className:"w-4 h-4"}),"Single"]}),s.jsxs(Uo,{value:"album",className:"flex items-center gap-2",children:[s.jsx(za,{className:"w-4 h-4"}),"Album"]})]}),s.jsx(Go,{value:"single",className:"mt-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ve,{className:"text-sm font-medium text-foreground/90",children:" Upload Method"}),s.jsxs(ss,{value:c,onValueChange:O=>{d(O),u("")},className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"url",id:"method-url"}),s.jsx(ve,{htmlFor:"method-url",className:"flex items-center gap-2 cursor-pointer",children:" URL"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"file",id:"method-file"}),s.jsxs(ve,{htmlFor:"method-file",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(_a,{className:"w-4 h-4 text-green-400"}),"Upload from Gallery"]})]})]})]}),c==="url"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(ve,{className:"text-sm font-medium text-foreground/90",children:" Media Type"}),s.jsxs(ss,{value:i,onValueChange:O=>l(O),className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"image",id:"image"}),s.jsxs(ve,{htmlFor:"image",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Zr,{className:"w-4 h-4 text-blue-400"}),"Image"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"video",id:"video"}),s.jsxs(ve,{htmlFor:"video",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(_l,{className:"w-4 h-4 text-purple-400"}),"Video"]})]})]})]}),c==="file"?s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{className:"text-sm font-medium text-foreground/90",children:" Select File"}),s.jsx("input",{ref:E,type:"file",accept:"image/*,video/*",onChange:$,className:"hidden"}),s.jsxs(I,{type:"button",onClick:()=>{var O;return(O=E.current)==null?void 0:O.click()},disabled:k,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[s.jsx(_a,{className:"w-4 h-4 mr-2"}),k?"Processing...":"Choose from Gallery"]}),h&&s.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-500/30 rounded",children:s.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:' File loaded successfully! Add caption below and click "Add" to save.'})})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ve,{htmlFor:"url",className:"text-sm font-medium text-foreground/90",children:[" ",i==="video"?"Video URL":"Image URL"]}),s.jsx(Pe,{id:"url",type:"url",placeholder:i==="video"?"YouTube, Vimeo, or direct video URL...":"https://example.com/image.jpg",value:h,onChange:O=>u(O.target.value),className:"bg-white dark:bg-black/60 border-gray-300 dark:border-white/20 backdrop-blur-sm text-sm"}),i==="video"&&h&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" Detected: ",D(h)," video"]})]}),i==="video"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"thumbnail",className:"text-sm font-medium text-foreground/90",children:" Thumbnail URL (optional)"}),s.jsx(Pe,{id:"thumbnail",type:"url",placeholder:"https://example.com/thumbnail.jpg",value:x,onChange:O=>b(O.target.value),className:"bg-white dark:bg-black/60 border-gray-300 dark:border-white/20 backdrop-blur-sm text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"caption",className:"text-sm font-medium text-foreground/90",children:" Caption (optional)"}),s.jsx(ta,{id:"caption",placeholder:"Enter a caption or description...",value:m,onChange:O=>f(O.target.value),rows:2,className:"bg-white dark:bg-black/60 border-gray-300 dark:border-white/20 backdrop-blur-sm text-sm"})]})]})}),s.jsx(Go,{value:"album",className:"mt-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-black/20 backdrop-blur-sm border border-green-200 dark:border-white/10 rounded p-3",children:[s.jsx(ve,{className:"text-sm font-medium text-foreground/90 mb-2 block",children:" Upload from Gallery"}),s.jsx("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:$,className:"hidden",id:"album-file-input"}),s.jsxs(I,{type:"button",onClick:()=>{var O;return(O=document.getElementById("album-file-input"))==null?void 0:O.click()},disabled:k,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[s.jsx(_a,{className:"w-4 h-4 mr-2"}),k?"Processing...":"Select Multiple Files"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ve,{className:"text-sm font-medium text-foreground/90",children:" Media Type for URL Input"}),s.jsxs(ss,{value:i,onValueChange:O=>l(O),className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"image",id:"album-image"}),s.jsxs(ve,{htmlFor:"album-image",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Zr,{className:"w-4 h-4 text-blue-400"}),"Images"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"video",id:"album-video"}),s.jsxs(ve,{htmlFor:"album-video",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(_l,{className:"w-4 h-4 text-purple-400"}),"Videos"]})]})]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-black/20 backdrop-blur-sm border border-blue-200 dark:border-white/10 rounded p-3",children:[s.jsx(ve,{className:"text-sm font-medium text-foreground/90 mb-2 block",children:"Add URL Item to Album"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{type:"url",placeholder:i==="video"?"Video URL...":"Image URL...",value:h,onChange:O=>u(O.target.value),className:"bg-white dark:bg-black/60 border-gray-300 dark:border-white/20 backdrop-blur-sm text-sm"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Pe,{placeholder:"Caption (optional)",value:m,onChange:O=>f(O.target.value),className:"flex-1 bg-white dark:bg-black/40 border-gray-300 dark:border-white/15 backdrop-blur-sm"}),s.jsx(I,{type:"button",onClick:U,disabled:!h.trim(),className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white",children:s.jsx(Er,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{className:"bg-purple-50 dark:bg-black/20 backdrop-blur-sm border border-purple-200 dark:border-white/10 rounded p-3",children:[s.jsx(ve,{className:"text-sm font-medium text-foreground/90 mb-2 block",children:"Bulk Add URLs"}),s.jsx(ta,{placeholder:"Paste multiple URLs (one per line)...",value:y,onChange:O=>w(O.target.value),rows:3,className:"bg-white dark:bg-black/60 border-gray-300 dark:border-white/20 backdrop-blur-sm text-sm"}),s.jsxs(I,{type:"button",onClick:B,disabled:!y.trim(),className:"mt-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",size:"sm",children:[s.jsx(za,{className:"w-4 h-4 mr-2"}),"Add All"]})]}),g.length>0&&s.jsxs("div",{className:"bg-purple-50 dark:bg-black/20 backdrop-blur-sm border border-purple-200 dark:border-white/10 rounded p-3",children:[s.jsxs(ve,{className:"text-sm font-medium text-foreground/90 mb-3 block",children:[" Album Preview (",g.length," items)"]}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:g.map((O,ee)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-white/5 rounded border border-purple-200 dark:border-white/10",children:[O.type==="video"?s.jsx(mx,{className:"w-4 h-4 text-purple-400 flex-shrink-0"}):s.jsx(Zr,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),s.jsx("span",{className:"text-xs text-foreground/70 truncate flex-1",children:O.caption||O.url}),s.jsx(I,{type:"button",variant:"ghost",size:"sm",onClick:()=>me(ee),className:"h-6 w-6 p-0 hover:bg-red-500/20",children:s.jsx(ut,{className:"w-3 h-3"})})]},ee))})]})]})})]})]})}),s.jsxs(Qe,{className:"space-x-3 flex-shrink-0 mt-6 border-t border-gray-200 dark:border-white/15 pt-4 bg-gray-50 dark:bg-black/50 backdrop-blur-sm rounded-b-xl -mx-6 -mb-6 px-6 py-4",children:[s.jsxs(I,{variant:"outline",onClick:_,className:"border-red-600 text-red-600 hover:bg-red-50 dark:border-red-500 dark:text-red-500 dark:hover:bg-red-950/30 backdrop-blur-sm",children:[s.jsx(ut,{className:"w-4 h-4 mr-2"}),"Cancel"]}),s.jsxs(I,{onClick:M,disabled:a==="single"?!h.trim():g.length===0,className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white border-0 shadow-lg shadow-blue-500/30",children:[s.jsx(Fl,{className:"w-4 h-4 mr-2"}),a==="single"?`Add ${i==="video"?"Video":"Image"}`:`Add Album (${g.length} items)`]})]})]})})}function RN({rowId:e,location:t,onClose:r,onAddImage:n}){const[a,o]=p.useState(!1),{toast:i}=Nt(),l=async d=>{try{await n.mutateAsync({rowId:e,imageUrl:d.url,caption:d.caption}),i({title:"Media Added",description:"Media has been added successfully."}),o(!1),r()}catch{i({title:"Error",description:"Failed to add media.",variant:"destructive"})}},c=async d=>{try{for(const h of d)await n.mutateAsync({rowId:e,imageUrl:h.url,caption:h.caption});i({title:"Album Added",description:`${d.length} media items have been added successfully.`}),o(!1),r()}catch{i({title:"Error",description:"Failed to add some media items.",variant:"destructive"})}};return s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"bg-card/90 backdrop-blur-xl border-2 border-border shadow-2xl rounded mb-6","data-testid":"add-image-section",children:s.jsxs(Na,{className:"p-6",children:[s.jsxs("h3",{className:"font-semibold mb-6 flex items-center text-foreground text-center justify-center text-sm",children:[s.jsx(Zr,{className:"w-4 h-4 mr-2 text-primary"})," Add Media to ",t||"Row"]}),s.jsxs("div",{className:"flex flex-col gap-6 items-center text-center",children:[s.jsxs("div",{className:"bg-muted/50 backdrop-blur-sm border border-border rounded p-6",children:[s.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:" Add images or videos to this location"}),s.jsxs(I,{onClick:()=>o(!0),className:"bg-green-500 hover:bg-green-600 text-white","data-testid":"button-open-media-upload",children:[s.jsx(Er,{className:"w-4 h-4 mr-2"}),"Add Media"]})]}),s.jsx("div",{className:"flex gap-3",children:s.jsx(I,{variant:"outline",onClick:r,"data-testid":"button-cancel",children:"Cancel"})})]})]})}),s.jsx(mp,{open:a,onOpenChange:o,onSave:l,onSaveMultiple:c})]})}function DN({rowId:e,images:t,location:r,onClose:n,onAddImage:a,onUpdateImage:o,onDeleteImage:i}){const[l,c]=p.useState("add"),[d,h]=p.useState(0),[u,m]=p.useState(""),[f,x]=p.useState(""),[b,g]=p.useState(!1),[v,y]=p.useState("single"),[w,k]=p.useState(!1),{toast:j}=Nt(),E=_=>/\.(jpg|jpeg|png|gif|webp)(\?.*)?$/i.test(_)||_.includes("unsplash.com")||_.includes("images.unsplash.com"),C=async _=>{try{await a.mutateAsync({rowId:e,imageUrl:_.url,caption:_.caption}),j({title:"Media Added",description:"Media has been added successfully."}),k(!1)}catch{j({title:"Error",description:"Failed to add media.",variant:"destructive"})}},D=async _=>{try{for(const O of _)await a.mutateAsync({rowId:e,imageUrl:O.url,caption:O.caption});j({title:"Album Added",description:`${_.length} media items have been added successfully.`}),k(!1)}catch{j({title:"Error",description:"Failed to add some media items.",variant:"destructive"})}},T=_=>{var O,ee,H;if(_==="add"){k(!0);return}c(_),_==="edit"&&t.length>0?(x(((O=t[d])==null?void 0:O.caption)||""),m("")):_==="replace"&&t.length>0?(m(((ee=t[d])==null?void 0:ee.url)||""),x(((H=t[d])==null?void 0:H.caption)||"")):(m(""),x(""))},$=_=>{var ee,H,L;const O=parseInt(_);h(O),l==="edit"?(x(((ee=t[O])==null?void 0:ee.caption)||""),m("")):l==="replace"&&(m(((H=t[O])==null?void 0:H.url)||""),x(((L=t[O])==null?void 0:L.caption)||""))},M=async()=>{if(l==="add"){if(!u.trim()){j({title:"Error",description:"Please enter an image URL.",variant:"destructive"});return}if(!E(u)){j({title:"Error",description:"Please enter a valid image URL.",variant:"destructive"});return}try{await a.mutateAsync({rowId:e,imageUrl:u,caption:f.trim()}),j({title:"Image Added",description:"Image has been added successfully."}),m(""),x("")}catch{j({title:"Error",description:"Failed to add image.",variant:"destructive"})}}else if(l==="edit")try{await o.mutateAsync({rowId:e,imageIndex:d,caption:f.trim()}),j({title:"Caption Updated",description:"Image caption has been updated successfully."})}catch{j({title:"Error",description:"Failed to update caption.",variant:"destructive"})}else if(l==="replace"){if(!u.trim()){j({title:"Error",description:"Please enter an image URL.",variant:"destructive"});return}if(!E(u)){j({title:"Error",description:"Please enter a valid image URL.",variant:"destructive"});return}try{await o.mutateAsync({rowId:e,imageIndex:d,imageUrl:u,caption:f.trim()}),j({title:"Image Replaced",description:"Image has been replaced successfully."})}catch{j({title:"Error",description:"Failed to replace image.",variant:"destructive"})}}},U=_=>{y(_),g(!0)},me=async()=>{try{v==="all"?(await i.mutateAsync({rowId:e}),j({title:"All Images Deleted",description:"All images have been deleted successfully."}),n()):(await i.mutateAsync({rowId:e,imageIndex:d}),j({title:"Image Deleted",description:"Image has been deleted successfully."}),t.length<=1&&n()),g(!1)}catch{j({title:"Error",description:"Failed to delete image(s).",variant:"destructive"})}},B=a.isPending||o.isPending||i.isPending,F=(()=>{var _,O;if(l==="add")return u.trim().length>0;if(l==="edit"){const ee=((_=t[d])==null?void 0:_.caption)||"";return f!==ee}else if(l==="replace"){const ee=((O=t[d])==null?void 0:O.url)||"";return u!==ee}return!1})();return s.jsxs(s.Fragment,{children:[s.jsx(ze,{open:!0,onOpenChange:_=>!_&&n(),children:s.jsxs(Ae,{className:"w-[90vw] max-w-[600px] max-h-[90vh] overflow-y-auto animate-in zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:zoom-out-90 duration-300 transition-all bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 backdrop-blur-3xl border-0 shadow-inner"}),s.jsx(Oe,{className:"relative z-10",children:s.jsxs(Le,{className:"text-xs font-semibold flex items-center justify-center gap-2",children:[s.jsx(Zr,{className:"w-4 h-4 text-blue-400"})," Manage Media for ",r||"Row"]})}),s.jsxs("div",{className:"relative z-10 flex flex-col gap-4 py-4",children:[s.jsxs("div",{className:"bg-white/40 dark:bg-slate-800/40 backdrop-blur-sm border border-blue-400/20 dark:border-blue-500/20 rounded-lg p-3",children:[s.jsx("label",{className:"text-xs font-medium text-foreground/90 mb-2 block",children:" Action:"}),s.jsxs(ln,{value:l,onValueChange:T,children:[s.jsx(Ns,{className:"bg-white/60 dark:bg-slate-700/60 backdrop-blur-sm border-blue-400/30 dark:border-blue-500/30 text-xs",children:s.jsx(cn,{})}),s.jsxs(Cs,{children:[s.jsx(jt,{value:"add",children:" Add New Media"}),t.length>0&&s.jsx(jt,{value:"edit",children:" Edit Caption"}),t.length>0&&s.jsx(jt,{value:"replace",children:" Replace Media"})]})]})]}),(l==="edit"||l==="replace")&&t.length>1&&s.jsxs("div",{className:"bg-white/40 dark:bg-slate-800/40 backdrop-blur-sm border border-blue-400/20 dark:border-blue-500/20 rounded-lg p-3",children:[s.jsx("label",{className:"text-xs font-medium text-foreground/90 mb-2 block",children:" Select Media:"}),s.jsxs(ln,{value:d.toString(),onValueChange:$,children:[s.jsx(Ns,{className:"bg-white/60 dark:bg-slate-700/60 backdrop-blur-sm border-blue-400/30 dark:border-blue-500/30 text-xs",children:s.jsx(cn,{})}),s.jsx(Cs,{children:t.map((_,O)=>s.jsxs(jt,{value:O.toString(),children:[_.type==="video"?"":""," Item ",O+1," ",_.caption?`- ${_.caption}`:""]},O))})]})]}),(l==="edit"||l==="replace")&&t[d]&&s.jsxs("div",{className:"bg-white/40 dark:bg-slate-800/40 backdrop-blur-sm border border-blue-400/20 dark:border-blue-500/20 rounded-lg p-3",children:[s.jsxs("label",{className:"text-xs font-medium text-foreground/90 mb-2 block",children:[" Current ",t[d].type==="video"?"Video":"Image",":"]}),t[d].type==="video"?s.jsxs("div",{className:"relative",children:[s.jsx("video",{src:t[d].url,className:"w-32 h-24 object-cover border border-white/20 rounded-lg",controls:!1,poster:t[d].thumbnail}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 rounded-lg",children:s.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-white border-y-[4px] border-y-transparent ml-1"})})})]}):s.jsx("img",{src:t[d].url,alt:t[d].caption||"Current image",className:"w-32 h-24 object-cover border border-white/20 rounded-lg"})]}),(l==="add"||l==="replace")&&s.jsxs("div",{className:"bg-white/40 dark:bg-slate-800/40 backdrop-blur-sm border border-blue-400/20 dark:border-blue-500/20 rounded-lg p-3",children:[s.jsxs("label",{className:"text-xs font-medium text-foreground/90 mb-2 block",children:[" ",l==="add"?"Media URL:":"New Media URL:"]}),s.jsx(Pe,{type:"url",placeholder:"Image, video, YouTube, or Vimeo URL...",value:u,onChange:_=>m(_.target.value),className:"bg-white/60 dark:bg-slate-700/60 backdrop-blur-sm border-blue-400/30 dark:border-blue-500/30 w-full text-xs","data-testid":"input-image-url"}),u&&!E(u)&&s.jsx("p",{className:"text-amber-400 text-xs mt-2",children:" This looks like a video URL. For best compatibility, use direct image formats: jpg, png, gif, webp"})]}),s.jsxs("div",{className:"bg-white/40 dark:bg-slate-800/40 backdrop-blur-sm border border-blue-400/20 dark:border-blue-500/20 rounded-lg p-3",children:[s.jsx("label",{className:"text-xs font-medium text-foreground/90 mb-2 block",children:" Caption:"}),s.jsx(Pe,{type:"text",placeholder:"Add caption (optional)...",value:f,onChange:_=>x(_.target.value),className:"bg-white/60 dark:bg-slate-700/60 backdrop-blur-sm border-blue-400/30 dark:border-blue-500/30 w-full text-xs","data-testid":"input-image-caption"})]}),t.length>0&&s.jsxs("div",{className:"bg-red-900/20 backdrop-blur-sm border border-red-500/30 rounded-lg p-3",children:[s.jsx("label",{className:"text-xs font-medium text-red-400 mb-2 block",children:" Delete Options:"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(I,{variant:"destructive",onClick:()=>U("single"),disabled:B,className:"flex-1 bg-transparent hover:bg-red-600/20 backdrop-blur-sm border-transparent text-red-400 hover:text-red-300 text-xs","data-testid":"button-delete-single",children:[s.jsx(So,{className:"w-3 h-3 mr-1"}),"Delete This Item"]}),s.jsxs(I,{variant:"destructive",onClick:()=>U("all"),disabled:B,className:"flex-1 bg-transparent hover:bg-red-600/20 backdrop-blur-sm border-transparent text-red-400 hover:text-red-300 text-xs","data-testid":"button-delete-all",children:[s.jsx(So,{className:"w-3 h-3 mr-1"}),"Delete All Items"]})]})]})]}),s.jsxs(Qe,{className:"relative z-10 flex gap-2",children:[s.jsxs(I,{variant:"outline",onClick:n,className:"bg-transparent border-transparent text-red-500 hover:bg-red-500/10 backdrop-blur-sm text-xs","data-testid":"button-cancel",disabled:B,children:[s.jsx(ut,{className:"w-3 h-3 mr-1"}),"Cancel"]}),s.jsx(I,{onClick:M,disabled:B,className:`flex-1 bg-transparent backdrop-blur-sm border-transparent text-xs transition-all ${F?"text-green-400 hover:text-green-300 hover:bg-green-600/20":"text-gray-400 dark:text-gray-500 hover:bg-gray-500/10"}`,"data-testid":"button-submit",children:B?s.jsx(Mh,{type:"triple"}):s.jsxs(s.Fragment,{children:[l==="add"&&s.jsx(Er,{className:"w-3 h-3 mr-1"}),l==="edit"&&s.jsx(hi,{className:"w-3 h-3 mr-1"}),l==="replace"&&s.jsx(Eu,{className:"w-3 h-3 mr-1"}),l==="add"?"Add Media":l==="edit"?"Update Caption":"Replace Media"]})})]})]})}),s.jsx(ze,{open:b,onOpenChange:g,children:s.jsxs(Ae,{className:"sm:max-w-[425px] bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 backdrop-blur-3xl border-0 shadow-inner"}),s.jsxs(Oe,{className:"relative z-10",children:[s.jsx(Le,{className:"text-xs font-semibold",children:"Confirm Deletion"}),s.jsx(Ke,{className:"text-xs",children:v==="all"?"Are you sure you want to delete ALL images? This action cannot be undone.":"Are you sure you want to delete this image? This action cannot be undone."})]}),s.jsxs(Qe,{className:"relative z-10",children:[s.jsx(I,{variant:"outline",onClick:()=>g(!1),"data-testid":"button-cancel-delete",disabled:B,className:"bg-transparent border-transparent hover:bg-gray-500/10 backdrop-blur-sm text-xs",children:"Cancel"}),s.jsx(I,{variant:"destructive",onClick:me,"data-testid":"button-confirm-delete",disabled:B,className:"bg-transparent hover:bg-red-600/20 backdrop-blur-sm border-transparent text-red-400 hover:text-red-300 text-xs",children:"Delete"})]})]})}),s.jsx(mp,{open:w,onOpenChange:k,onSave:C,onSaveMultiple:D})]})}var Xi="Switch",[PN,RC]=Jt(Xi),[IN,TN]=PN(Xi),hp=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:h,...u}=e,[m,f]=p.useState(null),x=ot(t,w=>f(w)),b=p.useRef(!1),g=m?h||!!m.closest("form"):!0,[v=!1,y]=Rs({prop:a,defaultProp:o,onChange:d});return s.jsxs(IN,{scope:r,checked:v,disabled:l,children:[s.jsx(Ge.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":gp(v),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:x,onClick:Ne(e.onClick,w=>{y(k=>!k),g&&(b.current=w.isPropagationStopped(),b.current||w.stopPropagation())})}),g&&s.jsx(AN,{control:m,bubbles:!b.current,name:n,value:c,checked:v,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});hp.displayName=Xi;var pp="SwitchThumb",fp=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=TN(pp,r);return s.jsx(Ge.span,{"data-state":gp(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});fp.displayName=pp;var AN=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,o=p.useRef(null),i=Jo(r),l=Zo(t);return p.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==r&&u){const m=new Event("click",{bubbles:n});u.call(c,r),c.dispatchEvent(m)}},[i,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function gp(e){return e?"checked":"unchecked"}var xp=hp,ON=fp;const Ji=p.forwardRef(({className:e,...t},r)=>s.jsx(xp,{className:Z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(ON,{className:Z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ji.displayName=xp.displayName;function LN({open:e,onOpenChange:t,columns:r,visibleColumns:n,onApplyChanges:a,editMode:o=!1}){const[i,l]=p.useState([]),[c,d]=p.useState([]),h=["ID","No","Route","Code","Location","Delivery","Destination"];p.useEffect(()=>{if(r.length>0){const v=o?["longitude","latitude","tollPrice"]:["longitude","latitude","info","tollPrice"],y=r.filter(w=>!v.includes(w.dataKey)).sort((w,k)=>w.sortOrder-k.sortOrder).map(w=>({id:w.id,name:w.name,dataKey:w.dataKey,visible:n.includes(w.id),isCore:h.includes(w.name)}));l(y),d(y)}},[r,n,o]);const u=v=>{l(y=>y.map(w=>w.id===v?{...w,visible:!w.visible}:w))},m=v=>{if(!v.destination)return;const y=Array.from(i),[w]=y.splice(v.source.index,1);y.splice(v.destination.index,0,w),l(y)},f=()=>{const v=i.filter(w=>w.visible).map(w=>w.id),y=i.map(w=>w.id);a(v,y),t(!1)},x=()=>{const v=o?["longitude","latitude","tollPrice"]:["longitude","latitude","info","tollPrice"],y=r.filter(w=>!v.includes(w.dataKey)).sort((w,k)=>w.sortOrder-k.sortOrder).map(w=>({id:w.id,name:w.name,dataKey:w.dataKey,visible:!0,isCore:h.includes(w.name)}));l(y)},b=i.filter(v=>v.visible).length,g=()=>{if(i.length!==c.length)return!0;if(c.length===0)return!1;for(const w of i){const k=c.find(j=>j.id===w.id);if(!k||k.visible!==w.visible)return!0}const v=c.map(w=>w.id),y=i.map(w=>w.id);if(v.length!==y.length)return!0;for(let w=0;w<v.length;w++)if(v[w]!==y[w])return!0;return!1};return s.jsx(ze,{open:e,onOpenChange:t,children:s.jsxs(Ae,{className:"max-w-md bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl transition-smooth",children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 backdrop-blur-3xl border-0 shadow-inner"}),s.jsxs(Oe,{children:[s.jsxs(Le,{className:"text-lg font-semibold flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(fx,{className:"w-6 h-6"}),"Customize Columns",s.jsxs("span",{className:"text-sm text-muted-foreground font-normal",children:["(",b," of ",i.length," visible)"]})]}),s.jsx(Ke,{className:"text-base",children:"Toggle column visibility and drag to reorder them in your table."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Xm,{onDragEnd:m,children:s.jsx(_o,{droppableId:"column-customization",children:v=>s.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:"space-y-2 max-h-80 overflow-y-auto",children:[i.map((y,w)=>s.jsx(Mo,{draggableId:y.id,index:w,children:(k,j)=>s.jsxs("div",{ref:k.innerRef,...k.draggableProps,className:`flex items-center justify-between p-3 rounded border bg-muted/30 hover:bg-muted/50 transition-colors ${j.isDragging?"shadow-lg border-blue-500 dark:border-blue-400":"border-border"} ${y.visible?"":"opacity-60"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{...k.dragHandleProps,className:"cursor-grab active:cursor-grabbing text-muted-foreground hover:text-foreground",children:s.jsx(Su,{className:"w-4 h-4"})}),s.jsx(ve,{htmlFor:`column-${y.id}`,className:"text-sm font-medium cursor-pointer",children:y.name})]}),s.jsx(Ji,{id:`column-${y.id}`,checked:y.visible,onCheckedChange:()=>u(y.id),disabled:y.isCore&&y.visible&&b<=1,"data-testid":`switch-column-${y.dataKey}`})]})},y.id)),v.placeholder]})})}),s.jsxs("div",{className:"text-sm bg-blue-50/50 dark:bg-blue-950/30 p-3 rounded border border-blue-200 dark:border-blue-800",children:[s.jsx("strong",{className:"text-blue-900 dark:text-blue-100",children:"Tip:"})," At least one column must remain visible. Core columns are recommended to stay visible for the best experience."]})]}),s.jsx(Qe,{className:"flex justify-center",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(I,{variant:"outline",onClick:x,size:"sm",className:"w-8 h-8 p-0","data-testid":"button-reset-columns",title:"Reset columns",children:s.jsx(Eu,{className:"w-4 h-4"})}),s.jsx(I,{variant:"outline",onClick:()=>t(!1),size:"sm",className:"w-8 h-8 p-0","data-testid":"button-cancel-customize",title:"Cancel",children:s.jsx(ut,{className:"w-4 h-4"})}),s.jsx(I,{onClick:f,size:"sm",className:`w-8 h-8 p-0 transition-all duration-200 ${g()?"bg-transparent border border-border/50 text-green-500 hover:text-green-400 hover:bg-green-500/10":"bg-transparent border border-border/50 text-muted-foreground hover:text-foreground hover:bg-background/50"}`,"data-testid":"button-apply-customize",title:"Apply changes",children:s.jsx(cx,{className:"w-4 h-4"})})]})})]})})}function bp({open:e,onOpenChange:t,onSuccess:r,title:n,description:a}){const[o,i]=p.useState(""),[l,c]=p.useState(!1),{toast:d}=Nt(),h="Acun97",u=f=>{f.preventDefault(),o===h?(r(),t(!1),i(""),d({title:"Access Granted",description:"You now have access to restricted features."})):(d({title:"Access Denied",description:"Incorrect password. Please try again.",variant:"destructive"}),i(""))},m=()=>{i(""),t(!1)};return s.jsx(ze,{open:e,onOpenChange:t,children:s.jsxs(Ae,{className:"w-[80vw] max-w-[80vw] animate-in zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:zoom-out-90 duration-300 transition-all bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 backdrop-blur-3xl border-0 shadow-inner"}),s.jsxs(Oe,{className:"relative z-10",children:[s.jsxs(Le,{className:"flex items-center gap-2",children:[s.jsx(Dx,{className:"w-5 h-5 text-primary"}),n]}),s.jsx(Ke,{className:"text-sm text-muted-foreground",children:a})]}),s.jsx("div",{className:"space-y-4 relative z-10",children:s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Pe,{type:l?"text":"password",placeholder:"Enter password...",value:o,onChange:f=>i(f.target.value),className:"pr-10 bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent","data-testid":"password-input",autoFocus:!0}),s.jsx(I,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>c(!l),"data-testid":"toggle-password-visibility",children:l?s.jsx(yx,{className:"h-4 w-4"}):s.jsx(Cu,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(I,{type:"button",variant:"outline",onClick:m,className:"bg-transparent backdrop-blur-sm border-transparent text-red-500 hover:bg-red-500/10","data-testid":"cancel-password",children:"Cancel"}),s.jsx(I,{type:"submit",disabled:!o.trim(),className:"transition-all duration-200 backdrop-blur-sm border-transparent bg-transparent text-green-500 hover:bg-green-500/10 disabled:text-muted-foreground disabled:hover:bg-transparent","data-testid":"submit-password",children:"Unlock"})]})]})})]})})}function MN({onCreateColumn:e,disabled:t}){const[r,n]=p.useState(!1),[a,o]=p.useState(""),[i,l]=p.useState(""),[c,d]=p.useState("text"),[h,u]=p.useState(""),[m,f]=p.useState(!1),{toast:x}=Nt(),b=[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"currency",label:"Currency (MYR)"},{value:"select",label:"Select Options"},{value:"images",label:"Images"}],g=async w=>{if(w.preventDefault(),!a.trim()){x({title:"Error",description:"Column name is required.",variant:"destructive"});return}if(!i.trim()){x({title:"Error",description:"Data key is required.",variant:"destructive"});return}f(!0);try{const k={name:a.trim(),dataKey:i.trim(),type:c};c==="select"&&h.trim()&&(k.options=h.split(`
`).map(j=>j.trim()).filter(j=>j.length>0)),await e(k),o(""),l(""),d("text"),u(""),n(!1),x({title:"Success",description:"Column created successfully!"})}catch(k){console.error("Error creating column:",k),x({title:"Error",description:"Failed to create column. Please try again.",variant:"destructive"})}finally{f(!1)}},v=w=>w.toLowerCase().replace(/[^a-z0-9]/g,"_").replace(/_{2,}/g,"_").replace(/^_|_$/g,""),y=w=>{o(w),w&&!i&&l(v(w))};return s.jsxs(ze,{open:r,onOpenChange:n,children:[s.jsx(Bi,{asChild:!0,children:s.jsx(I,{variant:"outline",size:"sm",className:"btn-glass w-8 h-8 p-0 pagination-button md:w-20 md:h-9 md:px-3",disabled:t,"data-testid":"button-add-column",title:"Add new field",children:s.jsx(Ol,{className:"w-4 h-4"})})}),s.jsxs(Ae,{className:"max-w-md",children:[s.jsx(Oe,{children:s.jsxs(Le,{className:"flex items-center gap-2",children:[s.jsx(Ol,{className:"w-5 h-5"}),"Add New Field"]})}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"column-name",children:"Field Name"}),s.jsx(Pe,{id:"column-name",placeholder:"Enter column name...",value:a,onChange:w=>y(w.target.value),"data-testid":"input-column-name",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"data-key",children:"Data Key"}),s.jsx(Pe,{id:"data-key",placeholder:"data_key",value:i,onChange:w=>l(w.target.value),"data-testid":"input-data-key",required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique identifier for this column (auto-generated from name)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"column-type",children:"Column Type"}),s.jsxs(ln,{value:c,onValueChange:d,children:[s.jsx(Ns,{"data-testid":"select-column-type",children:s.jsx(cn,{placeholder:"Select column type"})}),s.jsx(Cs,{children:b.map(w=>s.jsx(jt,{value:w.value,children:w.label},w.value))})]})]}),c==="select"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"options",children:"Select Options"}),s.jsx(ta,{id:"options",placeholder:`Enter options (one per line)
Option 1
Option 2
Option 3`,value:h,onChange:w=>u(w.target.value),"data-testid":"textarea-options",rows:4}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter each option on a new line"})]}),c==="currency"&&s.jsx("div",{className:"p-3 bg-muted rounded-md",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:" Currency columns will display values in Malaysian Ringgit (MYR) format"})}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:m,"data-testid":"button-cancel-column",children:"Cancel"}),s.jsx(I,{type:"submit",disabled:m,"data-testid":"button-create-column",children:m?"Creating...":"Create Column"})]})]})]})]})}function FN({editMode:e,onEditModeRequest:t,onShowCustomization:r,onAddRow:n,onSaveData:a,onGenerateTng:o,onAddColumn:i,onOptimizeRoute:l,onCalculateTolls:c,onSaveLayout:d,onSavedLinks:h,onShowTutorial:u,onBulkColorModal:m,isAuthenticated:f}){const[x,b]=p.useState(new Date),[,g]=si(),{theme:v,toggleTheme:y}=gi(),[w,k]=p.useState(!1),[j,E]=p.useState(null),[C,D]=p.useState(!1);p.useEffect(()=>{const F=setInterval(()=>{b(new Date)},1e3);return()=>clearInterval(F)},[]),p.useEffect(()=>{const F=_=>{_.key==="Escape"&&C&&(console.log("ESC pressed - closing menu"),D(!1),k(!1),E(null))};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[C]);const T=F=>{E(F),setTimeout(()=>{k(!0)},50)},$=()=>{k(!1),setTimeout(()=>{E(null)},250)},M=F=>{try{F(),setTimeout(()=>{D(!1),k(!1),E(null)},200)}catch(_){console.error("Navigation error:",_)}},U=F=>{try{F()}catch(_){console.error("Submenu navigation error:",_)}k(!1),setTimeout(()=>{E(null)},250)},me=()=>s.jsxs("div",{className:"p-3 space-y-2",children:[s.jsx("div",{onClick:()=>T("vm-route"),className:"cursor-pointer group hover:bg-transparent dark:hover:bg-transparent transition-all duration-300 ease-out hover:scale-[1.02] transform rounded","data-testid":"menu-edit-page",children:s.jsxs("div",{className:"flex items-center w-full p-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded bg-indigo-500/10 dark:bg-indigo-500/20 group-hover:bg-indigo-500/20 dark:group-hover:bg-indigo-500/30 transition-all duration-300",children:s.jsx(Fx,{className:"w-5 h-5 text-indigo-500 dark:text-indigo-400 group-hover:rotate-12 transition-all duration-300"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-indigo-600 dark:group-hover:text-indigo-300 transition-colors duration-300",children:"Vm Route"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:"Manage routes & tables"})]}),s.jsx(Vx,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 text-purple-500 transition-all duration-300 ml-2"})]})}),s.jsx("div",{onClick:()=>M(y),className:"cursor-pointer group hover:bg-transparent dark:hover:bg-transparent transition-all duration-300 ease-out hover:scale-[1.02] transform rounded","data-testid":"menu-toggle-theme",children:s.jsx("div",{className:"flex items-center w-full p-3",children:v==="dark"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded bg-yellow-500/10 dark:bg-yellow-500/20 group-hover:bg-yellow-500/20 dark:group-hover:bg-yellow-500/30 transition-all duration-300",children:s.jsx(qx,{className:"w-5 h-5 text-yellow-500 group-hover:rotate-180 transition-all duration-500"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-yellow-600 dark:group-hover:text-yellow-300 transition-colors duration-300",children:"Light Mode"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:"Switch to light theme"})]}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ml-2"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded bg-blue-500/10 dark:bg-blue-500/20 group-hover:bg-blue-500/20 dark:group-hover:bg-blue-500/30 transition-all duration-300",children:s.jsx(Ax,{className:"w-5 h-5 text-blue-500 group-hover:rotate-180 transition-all duration-500"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-300 transition-colors duration-300",children:"Dark Mode"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:"Switch to dark theme"})]}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ml-2"})]})})}),s.jsx("div",{onClick:()=>M(()=>g("/help")),className:"cursor-pointer group hover:bg-transparent dark:hover:bg-transparent transition-all duration-300 ease-out hover:scale-[1.02] transform rounded","data-testid":"menu-help-guide",children:s.jsxs("div",{className:"flex items-center w-full p-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded bg-green-500/10 dark:bg-green-500/20 group-hover:bg-green-500/20 dark:group-hover:bg-green-500/30 transition-all duration-300",children:s.jsx(vu,{className:"w-5 h-5 text-green-600 dark:text-green-400 group-hover:rotate-12 transition-all duration-300"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-green-600 dark:group-hover:text-green-300 transition-colors duration-300",children:"User Guide"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:"Help & documentation"})]}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ml-2"})]})}),s.jsx("div",{className:"my-4 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent dark:via-white/10"}),e?s.jsxs(s.Fragment,{children:[s.jsx("div",{onClick:()=>M(()=>n&&n()),className:"cursor-pointer group hover:bg-transparent dark:hover:bg-transparent transition-all duration-300 ease-out hover:scale-[1.02] transform rounded","data-testid":"menu-add-row",children:s.jsxs("div",{className:"flex items-center w-full p-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded bg-blue-500/10 dark:bg-blue-500/20 group-hover:bg-blue-500/20 dark:group-hover:bg-blue-500/30 transition-all duration-300",children:s.jsx(Ux,{className:"w-5 h-5 text-blue-500 dark:text-blue-400 group-hover:rotate-12 transition-all duration-300"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-300 transition-colors duration-300",children:"Add Row"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:"Insert new table row"})]}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ml-2"})]})}),i&&s.jsx("div",{onClick:()=>M(()=>{const F=document.querySelector('[data-testid="button-add-column"]');F&&F.click()}),className:"cursor-pointer group hover:bg-transparent dark:hover:bg-transparent transition-all duration-300 ease-out hover:scale-[1.02] transform rounded","data-testid":"menu-add-column",children:s.jsxs("div",{className:"flex items-center w-full p-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded bg-green-500/10 dark:bg-green-500/20 group-hover:bg-green-500/20 dark:group-hover:bg-green-500/30 transition-all duration-300",children:s.jsx(Er,{className:"w-5 h-5 text-green-500 dark:text-green-400 group-hover:rotate-90 transition-all duration-300"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-green-600 dark:group-hover:text-green-300 transition-colors duration-300",children:"Add Column"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:"Create new column"})]}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ml-2"})]})}),s.jsx("div",{className:"my-4 h-px bg-gradient-to-r from-transparent via-red-200/30 to-transparent dark:via-red-700/30"}),s.jsx("div",{onClick:()=>M(()=>t&&t()),className:"cursor-pointer text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400 group hover:bg-transparent dark:hover:bg-transparent transition-all duration-300 ease-out hover:scale-[1.02] transform rounded","data-testid":"menu-exit-edit",children:s.jsxs("div",{className:"flex items-center w-full p-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded bg-red-500/10 dark:bg-red-500/20 group-hover:bg-red-500/20 dark:group-hover:bg-red-500/30 transition-all duration-300",children:s.jsx(gx,{className:"w-5 h-5 text-red-500 dark:text-red-400 group-hover:rotate-12 transition-all duration-300"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-red-600 dark:text-red-400 group-hover:text-red-600 dark:group-hover:text-red-300 transition-colors duration-300",children:"Exit Edit Mode"}),s.jsx("p",{className:"text-xs text-red-500/70 dark:text-red-400/70 mt-0.5",children:"Return to view mode"})]}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ml-2"})]})})]}):s.jsx("div",{onClick:()=>M(()=>t&&t()),className:"cursor-pointer group hover:bg-transparent dark:hover:bg-transparent transition-all duration-300 ease-out hover:scale-[1.02] transform rounded","data-testid":"menu-enter-edit",children:s.jsxs("div",{className:"flex items-center w-full p-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded bg-red-500/10 dark:bg-red-500/20 group-hover:bg-red-500/20 dark:group-hover:bg-red-500/30 transition-all duration-300",children:s.jsx(Gx,{className:"w-5 h-5 text-red-900 dark:text-red-400 group-hover:rotate-90 transition-all duration-300"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-red-600 dark:group-hover:text-red-300 transition-colors duration-300",children:"Edit Mode"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:"Enable table editing"})]}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ml-2"})]})})]}),B=()=>s.jsxs("div",{className:"h-full",children:[s.jsx("div",{className:"px-3 py-3 border-b border-white/10 dark:border-white/5 bg-gradient-to-r from-white/5 to-transparent dark:from-white/3 dark:to-transparent",children:s.jsxs(I,{variant:"ghost",size:"sm",className:"w-full justify-start text-gray-600 dark:text-gray-400 hover:bg-transparent dark:hover:bg-transparent transition-all duration-300 group rounded",onClick:$,children:[s.jsx(Bn,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform duration-300"}),s.jsx("span",{className:"text-sm font-medium",children:"Back to Menu"})]})}),s.jsxs("div",{className:"p-3 space-y-2 max-h-[60vh] overflow-y-auto",children:[e&&s.jsxs(s.Fragment,{children:[s.jsx("div",{onClick:F=>{F.preventDefault(),F.stopPropagation(),console.log("Bulk Color Modal clicked"),U(()=>{console.log("Opening bulk color modal"),m&&m()})},className:"cursor-pointer group hover:bg-transparent dark:hover:bg-transparent transition-all duration-300 ease-out hover:scale-[1.02] transform rounded","data-testid":"submenu-bulk-color",children:s.jsxs("div",{className:"flex items-center w-full p-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded bg-purple-500/10 dark:bg-purple-500/20 group-hover:bg-purple-500/20 dark:group-hover:bg-purple-500/30 transition-all duration-300",children:s.jsx(Lx,{className:"w-5 h-5 text-purple-500 dark:text-purple-400 group-hover:rotate-12 transition-all duration-300"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-purple-600 dark:group-hover:text-purple-300 transition-colors duration-300",children:"Bulk Color Marker"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:"Edit marker colors by route"})]}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ml-2"})]})}),s.jsx("div",{onClick:F=>{F.preventDefault(),F.stopPropagation(),console.log("Share Link clicked"),U(()=>{console.log("Navigating to share"),g("/share/tzqe9a")})},className:"cursor-pointer group hover:bg-transparent dark:hover:bg-transparent transition-all duration-300 ease-out hover:scale-[1.02] transform rounded","data-testid":"submenu-share-example",children:s.jsxs("div",{className:"flex items-center w-full p-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded bg-blue-500/10 dark:bg-blue-500/20 group-hover:bg-blue-500/20 dark:group-hover:bg-blue-500/30 transition-all duration-300",children:s.jsx(Rx,{className:"w-5 h-5 text-blue-500 dark:text-blue-400 group-hover:rotate-12 transition-all duration-300"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-300 transition-colors duration-300",children:"Share Link Page"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:"Example page"})]}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ml-2"})]})}),s.jsx("div",{onClick:F=>{F.preventDefault(),F.stopPropagation(),console.log("Custom Page clicked"),U(()=>{console.log("Navigating to custom"),g("/custom/8m2v27")})},className:"cursor-pointer group hover:bg-transparent dark:hover:bg-transparent transition-all duration-300 ease-out hover:scale-[1.02] transform rounded","data-testid":"submenu-custom-example",children:s.jsxs("div",{className:"flex items-center w-full p-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded bg-green-500/10 dark:bg-green-500/20 group-hover:bg-green-500/20 dark:group-hover:bg-green-500/30 transition-all duration-300",children:s.jsx(Ru,{className:"w-5 h-5 text-green-500 dark:text-green-400 group-hover:rotate-12 transition-all duration-300"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-green-600 dark:group-hover:text-green-300 transition-colors duration-300",children:"Custom Page"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:"Example page"})]}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ml-2"})]})}),s.jsx("div",{className:"my-4 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent dark:via-white/10"})]}),s.jsx("div",{onClick:F=>{F.stopPropagation(),U(()=>g("/custom-tables"))},className:"cursor-pointer group hover:bg-transparent dark:hover:bg-transparent transition-all duration-300 ease-out hover:scale-[1.02] transform rounded","data-testid":"submenu-custom-list",children:s.jsxs("div",{className:"flex items-center w-full p-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded bg-purple-500/10 dark:bg-purple-500/20 group-hover:bg-purple-500/20 dark:group-hover:bg-purple-500/30 transition-all duration-300",children:s.jsx(Mn,{className:"w-5 h-5 text-purple-500 dark:text-purple-400 group-hover:rotate-12 transition-all duration-300"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-purple-600 dark:group-hover:text-purple-300 transition-colors duration-300",children:"All Custom Tables"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:"Manage your tables"})]}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ml-2"})]})}),s.jsx("div",{onClick:F=>{F.stopPropagation(),console.log("Saved Links clicked"),U(()=>{console.log("Executing onSavedLinks"),h&&h()})},className:"cursor-pointer group hover:bg-transparent dark:hover:bg-transparent transition-all duration-300 ease-out hover:scale-[1.02] transform rounded","data-testid":"submenu-saved-links",children:s.jsxs("div",{className:"flex items-center w-full p-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded bg-amber-500/10 dark:bg-amber-500/20 group-hover:bg-amber-500/20 dark:group-hover:bg-amber-500/30 transition-all duration-300",children:s.jsx(yu,{className:"w-5 h-5 text-amber-500 dark:text-amber-400 group-hover:rotate-12 transition-all duration-300"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-amber-600 dark:group-hover:text-amber-300 transition-colors duration-300",children:"All Saved Links"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5",children:"Your bookmarks"})]}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ml-2"})]})})]})]});return s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b-2 border-blue-500/50 dark:border-blue-400/50 bg-gradient-to-r from-blue-500/10 via-blue-600/10 to-blue-700/10 dark:from-blue-500/20 dark:via-blue-600/20 dark:to-blue-700/20 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-lg shadow-blue-500/20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex h-14 items-center justify-between text-[12px]",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[s.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-sm overflow-hidden",children:s.jsx("img",{src:"/assets/Logofm.png",alt:"Logo",className:"h-full w-full object-cover"})}),s.jsxs("div",{className:"flex flex-col gap-0 leading-tight",children:[s.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300 leading-none",style:{fontSize:"12px"},children:e?"Edit Mode":"Route Management"}),s.jsx("span",{className:"text-slate-400 dark:text-slate-500 leading-none my-0.5",style:{fontSize:"9px"},children:"All in one data informations"})]})]})}),s.jsxs("div",{className:"relative",children:[s.jsxs(I,{variant:"outline",size:"sm",className:"btn-glass w-8 h-8 md:w-auto md:h-9 p-0 md:px-3 pagination-button group transition-all duration-300 ease-out hover:shadow-lg hover:shadow-blue-500/20","data-testid":"button-main-menu",title:"Menu",onClick:()=>D(!C),children:[s.jsx(Sx,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 transition-all duration-300"}),s.jsx("span",{className:"hidden md:inline ml-2 text-xs transition-all duration-300",children:"Menu"})]}),C&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 max-h-[80vh] bg-white/95 dark:bg-black/95 backdrop-blur-3xl border border-white/20 dark:border-white/10 shadow-[0_32px_64px_0_rgba(0,0,0,0.35)] rounded-3xl animate-in fade-in-0 zoom-in-95 duration-400 ease-out overflow-hidden z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 via-white/5 to-transparent dark:from-white/5 dark:via-white/2 dark:to-transparent pointer-events-none rounded-3xl"}),s.jsxs("div",{className:"relative z-10 overflow-hidden",children:[s.jsx("div",{className:`transition-all duration-500 ease-in-out ${w?"transform -translate-x-full opacity-0":"transform translate-x-0 opacity-100"}`,children:me()}),s.jsx("div",{className:`absolute top-0 left-0 w-full h-full transition-all duration-500 ease-in-out ${w?"transform translate-x-0 opacity-100 pointer-events-auto":"transform translate-x-full opacity-0 pointer-events-none"}`,children:j==="vm-route"&&B()})]})]}),C&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{console.log("Clicked outside - closing menu"),D(!1),k(!1),E(null)}})]}),e&&i&&s.jsx("div",{className:"hidden",children:s.jsx(MN,{onCreateColumn:i,disabled:!f})})]})})})}function _N({open:e,onOpenChange:t,rows:r,selectedRowIds:n}){const[a,o]=p.useState("nearest_neighbor"),[i,l]=p.useState(!1),[c,d]=p.useState(null),{toast:h}=Nt(),u=Qr(),m=De({mutationFn:async()=>{const k={...n&&n.length>0?{rowIds:n}:{},algorithm:a,prioritizeDelivery:i,vehicleSpecs:{type:"lorry refrigerator 1 ton",fuelType:"diesel",tollClass:1}};return await(await Be("POST","/api/optimize-route",k)).json()},onSuccess:k=>{if(!k||!Array.isArray(k.optimizedOrder)||k.optimizedOrder.length===0){h({title:"Invalid Response",description:"The optimization response was invalid. Please try again.",variant:"destructive"});return}d(k)},onError:k=>{h({title:"Optimization Failed",description:k.message||"Failed to optimize route. Please try again.",variant:"destructive"})}}),f=De({mutationFn:async()=>{if(!c)return;const k=new Set(c.optimizedOrder),j=r.filter(D=>!k.has(D.id)).sort((D,T)=>D.sortOrder-T.sortOrder).map(D=>D.id),E=[...c.optimizedOrder,...j];return await(await Be("POST","/api/table-rows/reorder",{rowIds:E})).json()},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/table-rows"]}),h({title:"Route Applied",description:"The optimized route has been applied successfully!"}),g()},onError:k=>{h({title:"Failed to Apply Route",description:k.message||"Failed to apply the optimized route. Please try again.",variant:"destructive"})}}),x=()=>{d(null),m.mutate()},b=()=>{f.mutate()},g=()=>{d(null),t(!1)},v=k=>{switch(k){case"nearest_neighbor":return"Fast and efficient. Best for most routes. Finds nearby stops first.";case"genetic":return"AI-powered evolution. Best for complex routes with many stops.";case"simulated_annealing":return"Balanced approach. Good for medium-sized routes with obstacles.";default:return""}},w=(n&&n.length>0?r.filter(k=>n.includes(k.id)&&k.sortOrder!==-1):r.filter(k=>k.sortOrder!==-1)).filter(k=>k.latitude&&k.longitude&&parseFloat(k.latitude)!==0&&parseFloat(k.longitude)!==0);return s.jsx(ze,{open:e,onOpenChange:t,children:s.jsxs(Ae,{className:"max-w-2m max-h-[90vh] overflow-hidden flex flex-col bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/20 dark:border-blue-400/20 transition-smooth","data-testid":"modal-route-optimization",children:[s.jsxs(Oe,{className:"flex-shrink-0",children:[s.jsxs(Le,{className:"text-1m font-semibold flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(Un,{className:"w-6 h-6"}),"AI Route Optimization"]}),s.jsx(Ke,{className:"text-base",children:"Optimize your delivery route to save time, fuel, and distance using advanced AI algorithms."})]}),s.jsx("div",{className:"overflow-y-auto flex-1 -mx-6 px-6",children:c?s.jsxs("div",{className:"space-y-6 mt-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-950/30 dark:to-blue-950/30 p-6 rounded-lg border-2 border-green-500/30 dark:border-green-400/30",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(No,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),s.jsx("h3",{className:"text-xl font-bold text-green-900 dark:text-green-100",children:"Optimization Complete!"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white/60 dark:bg-black/40 p-4 rounded-lg","data-testid":"stat-distance-saved",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Hx,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Distance"})]}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["-",c.distanceSaved.toFixed(1)," km"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.optimizationFactors.distanceReduction.toFixed(1),"% reduction"]})]}),s.jsxs("div",{className:"bg-white/60 dark:bg-black/40 p-4 rounded-lg","data-testid":"stat-time-saved",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(px,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Time"})]}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[c.timeSaved.toFixed(0)," min"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"saved per trip"})]}),s.jsxs("div",{className:"bg-white/60 dark:bg-black/40 p-4 rounded-lg","data-testid":"stat-fuel-saved",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(bx,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Fuel"})]}),s.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[c.fuelSaved.toFixed(2)," L"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"less consumption"})]}),s.jsxs("div",{className:"bg-white/60 dark:bg-black/40 p-4 rounded-lg","data-testid":"stat-optimized-distance",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Un,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"New Total"})]}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[c.optimizedDistance.toFixed(1)," km"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["from ",c.originalDistance.toFixed(1)," km"]})]})]})]}),s.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg border",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(Ba,{className:"w-4 h-4"}),"Algorithm Used"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.algorithm==="nearest_neighbor"&&"Nearest Neighbor with 2-Opt optimization",c.algorithm==="genetic"&&"Genetic Algorithm with population-based evolution",c.algorithm==="simulated_annealing"&&"Simulated Annealing with probabilistic search"]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(I,{onClick:b,disabled:f.isPending,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",size:"lg","data-testid":"button-apply-optimization",children:f.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Co,{className:"w-4 h-4 mr-2 animate-spin"}),"Applying..."]}):s.jsxs(s.Fragment,{children:[s.jsx(No,{className:"w-4 h-4 mr-2"}),"Apply Optimized Route"]})}),s.jsx(I,{variant:"outline",onClick:g,disabled:f.isPending,"data-testid":"button-close",children:"Close"})]})]}):s.jsxs("div",{className:"space-y-6 mt-4",children:[s.jsx("div",{className:"bg-blue-50/50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ba,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-1",children:[w.length," stops ready to optimize"]}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n&&n.length>0?`Optimizing ${w.length} selected locations with valid coordinates`:`Optimizing all ${w.length} locations with valid coordinates`})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ve,{className:"text-base font-semibold mb-3 block",children:"Choose Algorithm"}),s.jsxs(ss,{value:a,onValueChange:k=>o(k),className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-accent transition-colors","data-testid":"radio-algorithm-nearest-neighbor",children:[s.jsx(Lt,{value:"nearest_neighbor",id:"nearest_neighbor"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(ve,{htmlFor:"nearest_neighbor",className:"font-medium cursor-pointer",children:"Nearest Neighbor (Recommended)"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v("nearest_neighbor")})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-accent transition-colors","data-testid":"radio-algorithm-genetic",children:[s.jsx(Lt,{value:"genetic",id:"genetic"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(ve,{htmlFor:"genetic",className:"font-medium cursor-pointer",children:"Genetic Algorithm (Advanced)"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v("genetic")})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-accent transition-colors","data-testid":"radio-algorithm-simulated-annealing",children:[s.jsx(Lt,{value:"simulated_annealing",id:"simulated_annealing"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(ve,{htmlFor:"simulated_annealing",className:"font-medium cursor-pointer",children:"Simulated Annealing"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v("simulated_annealing")})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ve,{htmlFor:"prioritize-delivery",className:"font-medium cursor-pointer",children:"Prioritize Delivery Grouping"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Group locations with the same delivery type together"})]}),s.jsx(Ji,{id:"prioritize-delivery",checked:i,onCheckedChange:l,"data-testid":"switch-prioritize-delivery"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(I,{onClick:x,disabled:m.isPending||w.length<2,variant:"outline",className:"flex-1",size:"lg","data-testid":"button-optimize",children:m.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Co,{className:"w-4 h-4 mr-2 animate-spin"}),"Optimizing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ba,{className:"w-4 h-4 mr-2"}),"Optimize Route"]})}),s.jsx(I,{variant:"outline",onClick:g,disabled:m.isPending,className:"border-red-600 text-red-600 hover:bg-red-50 dark:border-red-500 dark:text-red-500 dark:hover:bg-red-950/30","data-testid":"button-cancel",children:"Cancel"})]})]})})]})})}function zN({open:e,onOpenChange:t,tableState:r}){const[n,a]=p.useState(""),[o,i]=p.useState(""),[l,c]=p.useState(!1),[d,h]=p.useState(!1),[u,m]=p.useState(!1),[f,x]=p.useState(!1),[b,g]=p.useState(""),{toast:v}=Nt(),y=Qr(),w=async()=>{h(!0);try{const C=Math.random().toString(36).substring(2,8);if(!(await Be("POST","/api/share-table",{shareId:C,tableState:r,remark:""})).ok)throw new Error("Failed to create share link");const T=`${window.location.origin}/share/${C}`;a(T),i(C),v({title:"Share link created",description:"Your table view has been saved and can now be shared."})}catch(C){console.error("Error generating share link:",C),v({title:"Error",description:"Failed to create share link. Please try again.",variant:"destructive"})}finally{h(!1)}},k=async()=>{x(!0);try{if(!(await Be("PUT",`/api/share-table/${o}/remark`,{remark:b.trim()})).ok)throw new Error("Failed to update share link remark");if(!(await Be("POST","/api/saved-share-links",{shareId:o,url:n,remark:b.trim()})).ok)throw new Error("Failed to save share link");m(!0),y.invalidateQueries({queryKey:["/api/saved-share-links"]}),v({title:"Link saved!",description:"Share link has been added to your saved links."})}catch(C){console.error("Error saving share link:",C),v({title:"Error",description:"Failed to save share link. Please try again.",variant:"destructive"})}finally{x(!1)}},j=async()=>{try{await navigator.clipboard.writeText(n),c(!0),v({title:"Copied!",description:"Share link copied to clipboard."}),setTimeout(()=>c(!1),2e3)}catch(C){console.error("Error copying to clipboard:",C),v({title:"Error",description:"Failed to copy to clipboard.",variant:"destructive"})}},E=C=>{C||(a(""),i(""),c(!1),m(!1),g("")),t(C)};return s.jsx(ze,{open:e,onOpenChange:E,children:s.jsxs(Ae,{className:"w-[90vw] max-w-md sm:max-w-lg animate-in zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:zoom-out-90 duration-300 transition-all bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",style:{maxHeight:"min(80vh, calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 40px))",touchAction:"pan-y"},children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 border-0 shadow-inner",style:{backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)"}}),s.jsxs(Oe,{className:"relative z-10",style:{paddingTop:"max(1.5rem, env(safe-area-inset-top))"},children:[s.jsx(Le,{className:"text-sm font-semibold",children:"Share Table View"}),s.jsx(Ke,{className:"text-sm",children:"Create a shareable link for the current table state including filters, sorting, and visible columns."})]}),s.jsx("div",{className:"space-y-4 py-4 relative z-10",style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:n?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pe,{value:n,readOnly:!0,className:"flex-1 bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent text-sm","data-testid":"input-share-url"}),s.jsx(I,{onClick:j,size:"sm",variant:"outline",className:"shrink-0 bg-transparent border-transparent hover:bg-blue-500/10 backdrop-blur-sm","data-testid":"button-copy-share-link",title:"Copy to clipboard",children:l?s.jsx(Sr,{className:"h-4 w-4 text-green-500"}):s.jsx(Nu,{className:"h-4 w-4"})}),s.jsx(I,{onClick:k,size:"sm",variant:u?"default":"outline",className:"shrink-0 bg-transparent border-transparent hover:bg-blue-500/10 backdrop-blur-sm",disabled:f||u,"data-testid":"button-save-share-link",title:u?"Link saved":"Save link",children:u?s.jsx(Sr,{className:"h-4 w-4 text-green-500"}):s.jsx(yu,{className:"h-4 w-4"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium mb-1 block text-gray-700 dark:text-gray-300",children:"Remark (optional)"}),s.jsx(Pe,{value:b,onChange:C=>g(C.target.value),placeholder:"e.g., Weekend delivery route, KL 3 only...",className:"bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent text-sm","data-testid":"input-share-remark"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Anyone with this link can view your table with the current filters and settings."})]}):s.jsx(I,{onClick:w,disabled:d,className:"w-full bg-transparent text-blue-500 hover:bg-blue-500/10 border-transparent backdrop-blur-sm text-sm","data-testid":"button-generate-share-link",children:d?"Generating...":"Generate Share Link"})}),s.jsx(Qe,{className:"relative z-10 sm:justify-center",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:s.jsx(I,{variant:"outline",onClick:()=>E(!1),className:"bg-transparent border-transparent text-red-500 hover:bg-red-500/10 backdrop-blur-sm text-sm w-full sm:w-auto","data-testid":"button-cancel-share",children:"Cancel"})})]})})}var vp="AlertDialog",[$N,DC]=Jt(vp,[hd]),ir=hd(),yp=e=>{const{__scopeAlertDialog:t,...r}=e,n=ir(t);return s.jsx(ed,{...n,...r,modal:!0})};yp.displayName=vp;var BN="AlertDialogTrigger",UN=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ir(r);return s.jsx(td,{...a,...n,ref:t})});UN.displayName=BN;var GN="AlertDialogPortal",wp=e=>{const{__scopeAlertDialog:t,...r}=e,n=ir(t);return s.jsx(rd,{...n,...r})};wp.displayName=GN;var VN="AlertDialogOverlay",kp=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ir(r);return s.jsx(Wo,{...a,...n,ref:t})});kp.displayName=VN;var ns="AlertDialogContent",[qN,HN]=$N(ns),WN=Zc("AlertDialogContent"),jp=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,o=ir(r),i=p.useRef(null),l=ot(t,i),c=p.useRef(null);return s.jsx(g0,{contentName:ns,titleName:Np,docsSlug:"alert-dialog",children:s.jsx(qN,{scope:r,cancelRef:c,children:s.jsxs(Ko,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:Ne(a.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(WN,{children:n}),s.jsx(QN,{contentRef:i})]})})})});jp.displayName=ns;var Np="AlertDialogTitle",Cp=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ir(r);return s.jsx(Qo,{...a,...n,ref:t})});Cp.displayName=Np;var Sp="AlertDialogDescription",Ep=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ir(r);return s.jsx(Yo,{...a,...n,ref:t})});Ep.displayName=Sp;var KN="AlertDialogAction",Rp=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ir(r);return s.jsx(Xo,{...a,...n,ref:t})});Rp.displayName=KN;var Dp="AlertDialogCancel",Pp=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=HN(Dp,r),o=ir(r),i=ot(t,a);return s.jsx(Xo,{...o,...n,ref:i})});Pp.displayName=Dp;var QN=({contentRef:e})=>{const t=`\`${ns}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ns}\` by passing a \`${Sp}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ns}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},YN=yp,XN=wp,Ip=kp,Tp=jp,Ap=Rp,Op=Pp,Lp=Cp,Mp=Ep;const JN=YN,ZN=XN,Fp=p.forwardRef(({className:e,...t},r)=>s.jsx(Ip,{className:Z("fixed inset-0 z-50 bg-black/60 dark:bg-black/85 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Fp.displayName=Ip.displayName;const _p=p.forwardRef(({className:e,...t},r)=>s.jsxs(ZN,{children:[s.jsx(Fp,{}),s.jsx(Tp,{ref:r,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded",e),...t})]}));_p.displayName=Tp.displayName;const zp=({className:e,...t})=>s.jsx("div",{className:Z("flex flex-col space-y-2 text-center sm:text-left",e),...t});zp.displayName="AlertDialogHeader";const $p=({className:e,...t})=>s.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$p.displayName="AlertDialogFooter";const Bp=p.forwardRef(({className:e,...t},r)=>s.jsx(Lp,{ref:r,className:Z("text-lg font-semibold",e),...t}));Bp.displayName=Lp.displayName;const Up=p.forwardRef(({className:e,...t},r)=>s.jsx(Mp,{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));Up.displayName=Mp.displayName;const Gp=p.forwardRef(({className:e,...t},r)=>s.jsx(Ap,{ref:r,className:Z($i(),e),...t}));Gp.displayName=Ap.displayName;const Vp=p.forwardRef(({className:e,...t},r)=>s.jsx(Op,{ref:r,className:Z($i({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Vp.displayName=Op.displayName;const e2=b0,t2=v0,r2=p.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(pd,{ref:a,className:Z("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(Zs,{className:"ml-auto"})]}));r2.displayName=pd.displayName;const s2=p.forwardRef(({className:e,...t},r)=>s.jsx(fd,{ref:r,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));s2.displayName=fd.displayName;const qp=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(x0,{children:s.jsx(gd,{ref:n,sideOffset:t,className:Z("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));qp.displayName=gd.displayName;const Hs=p.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(xd,{ref:n,className:Z("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Hs.displayName=xd.displayName;const n2=p.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(bd,{ref:a,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(vd,{children:s.jsx(Sr,{className:"h-4 w-4"})})}),t]}));n2.displayName=bd.displayName;const a2=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(yd,{ref:n,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(vd,{children:s.jsx(ju,{className:"h-2 w-2 fill-current"})})}),t]}));a2.displayName=yd.displayName;const o2=p.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(wd,{ref:n,className:Z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));o2.displayName=wd.displayName;const i2=p.forwardRef(({className:e,...t},r)=>s.jsx(kd,{ref:r,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));i2.displayName=kd.displayName;function l2({open:e,onOpenChange:t}){const[r,n]=p.useState(!1),[a,o]=p.useState(!1),[i,l]=p.useState(null),[c,d]=p.useState(""),{toast:h}=Nt(),{data:u=[],isLoading:m}=qt({queryKey:["/api/saved-share-links"],enabled:e}),f=De({mutationFn:async j=>{const E=await Be("DELETE",`/api/saved-share-links/${j}`);if(!E.ok)throw new Error("Failed to delete saved link");return E.json()},onSuccess:()=>{kr.invalidateQueries({queryKey:["/api/saved-share-links"]}),n(!1),l(null),h({title:"Link deleted",description:"The saved link has been removed."})},onError:()=>{h({title:"Error",description:"Failed to delete saved link. Please try again.",variant:"destructive"})}}),x=De({mutationFn:async({id:j,remark:E})=>{const C=await Be("PATCH",`/api/saved-share-links/${j}/remark`,{remark:E});if(!C.ok)throw new Error("Failed to update remark");return C.json()},onSuccess:()=>{kr.invalidateQueries({queryKey:["/api/saved-share-links"]}),o(!1),l(null),d(""),h({title:"Remark updated",description:"The link remark has been updated."})},onError:()=>{h({title:"Error",description:"Failed to update remark. Please try again.",variant:"destructive"})}}),b=j=>{l(j),n(!0)},g=j=>{l(j),d(j.remark),o(!0)},v=()=>{i&&f.mutate(i.id)},y=()=>{i&&x.mutate({id:i.id,remark:c})},w=async j=>{try{await navigator.clipboard.writeText(j),h({title:"Copied!",description:"Link copied to clipboard."})}catch{h({title:"Error",description:"Failed to copy to clipboard.",variant:"destructive"})}},k=j=>(typeof j=="string"?new Date(j):j).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs(s.Fragment,{children:[s.jsx(ze,{open:e,onOpenChange:t,children:s.jsxs(Ae,{className:"sm:max-w-[600px] animate-in zoom-in-95 duration-300 data-[state=closed]:animate-out data-[state=closed]:zoom-out-90 bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",children:[s.jsxs("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/70 via-white/50 to-white/60 dark:from-black/50 dark:via-black/30 dark:to-black/40 border-0 shadow-[inset_0_1px_1px_rgba(255,255,255,0.3),inset_0_-1px_1px_rgba(0,0,0,0.1)]",style:{backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)"},children:[s.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/40 dark:via-white/20 to-transparent"}),s.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-tr from-blue-500/5 via-transparent to-purple-500/5 dark:from-blue-400/10 dark:via-transparent dark:to-purple-400/10"})]}),s.jsxs(Oe,{children:[s.jsx(Le,{children:"Saved Share Links"}),s.jsx(Ke,{children:"Manage your saved share links. Add remarks to organize them better."})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto pr-2",children:m?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading saved links..."})}):u.length===0?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No saved links yet"})}):s.jsx("div",{className:"space-y-3",children:u.map(j=>s.jsxs("div",{className:"p-4 rounded-2xl border border-white/20 dark:border-white/10 bg-white/20 dark:bg-black/20 backdrop-blur-xl hover:bg-white/30 dark:hover:bg-black/30 transition-all duration-300 hover:scale-[1.02] animate-in zoom-in-95","data-testid":`saved-link-${j.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:j.remark||"Untitled Link"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Created: ",k(j.createdAt)]})]}),s.jsxs(e2,{children:[s.jsx(t2,{asChild:!0,children:s.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 shrink-0 transition-all duration-300 hover:scale-110 active:scale-95","data-testid":`button-actions-${j.id}`,title:"Actions",children:s.jsx(vx,{className:"h-4 w-4"})})}),s.jsxs(qp,{align:"end",className:"w-44",children:[s.jsxs(Hs,{onClick:()=>w(j.url),className:"cursor-pointer transition-all duration-200 hover:scale-[1.02]","data-testid":`menu-copy-${j.id}`,children:[s.jsx(Nu,{className:"h-4 w-4 mr-2"}),"Copy Link"]}),s.jsxs(Hs,{onClick:()=>window.open(j.url,"_blank"),className:"cursor-pointer transition-all duration-200 hover:scale-[1.02]","data-testid":`menu-open-${j.id}`,children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Open Link"]}),s.jsxs(Hs,{onClick:()=>g(j),className:"cursor-pointer transition-all duration-200 hover:scale-[1.02]","data-testid":`menu-edit-${j.id}`,children:[s.jsx(hi,{className:"h-4 w-4 mr-2"}),"Edit Remark"]}),s.jsxs(Hs,{onClick:()=>b(j),className:"cursor-pointer text-destructive focus:text-destructive transition-all duration-200 hover:scale-[1.02]","data-testid":`menu-delete-${j.id}`,children:[s.jsx(es,{className:"h-4 w-4 mr-2"}),"Delete Link"]})]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Pe,{value:j.url,readOnly:!0,className:"flex-1 h-8 text-xs","data-testid":`input-url-${j.id}`})})]},j.id))})})]})}),s.jsx(JN,{open:r,onOpenChange:n,children:s.jsxs(_p,{className:"bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",children:[s.jsxs("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/70 via-white/50 to-white/60 dark:from-black/50 dark:via-black/30 dark:to-black/40 border-0 shadow-[inset_0_1px_1px_rgba(255,255,255,0.3),inset_0_-1px_1px_rgba(0,0,0,0.1)]",style:{backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)"},children:[s.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/40 dark:via-white/20 to-transparent"}),s.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-tr from-red-500/5 via-transparent to-orange-500/5 dark:from-red-400/10 dark:via-transparent dark:to-orange-400/10"})]}),s.jsxs(zp,{children:[s.jsx(Bp,{children:"Delete Saved Link"}),s.jsx(Up,{children:"Are you sure you want to delete this saved link? This action cannot be undone."})]}),s.jsxs($p,{children:[s.jsx(Vp,{children:"Cancel"}),s.jsx(Gp,{onClick:v,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:f.isPending,children:f.isPending?"Deleting...":"Delete"})]})]})}),s.jsx(ze,{open:a,onOpenChange:o,children:s.jsxs(Ae,{className:"sm:max-w-[425px] bg-white/70 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-200/60 dark:border-white/10 shadow-[0_20px_60px_0_rgba(0,0,0,0.25)] rounded-3xl",children:[s.jsxs("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/70 via-white/50 to-white/60 dark:from-black/50 dark:via-black/30 dark:to-black/40 border-0 shadow-[inset_0_1px_1px_rgba(255,255,255,0.3),inset_0_-1px_1px_rgba(0,0,0,0.1)]",style:{backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)"},children:[s.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/40 dark:via-white/20 to-transparent"}),s.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-tr from-green-500/5 via-transparent to-blue-500/5 dark:from-green-400/10 dark:via-transparent dark:to-blue-400/10"})]}),s.jsxs(Oe,{children:[s.jsx(Le,{children:"Edit Link Remark"}),s.jsx(Ke,{children:"Add a note to help you remember what this link is for."})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(ve,{htmlFor:"remark",children:"Remark"}),s.jsx(Pe,{id:"remark",value:c,onChange:j=>d(j.target.value),placeholder:"e.g., Weekly sales report - Jan 2024",className:"mt-2","data-testid":"input-remark"})]}),s.jsxs(Qe,{children:[s.jsx(I,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(I,{onClick:y,disabled:x.isPending,"data-testid":"button-save-remark",children:x.isPending?"Saving...":"Save"})]})]})})]})}const c2=[{id:"welcome",title:" Welcome to Route Manager",description:"This interactive guide will show you how to manage your delivery routes efficiently. Navigate using Next/Previous buttons, or skip anytime. You can restart this tutorial from the help button in the corner.",position:"center",mode:"both"},{id:"theme",title:" Theme Toggle",description:"Switch between light and dark modes for comfortable viewing. The dark mode features a premium deep black design with optimized contrast.",targetSelector:'[data-testid="button-toggle-theme"]',position:"bottom",mode:"both"},{id:"view-search",title:" Smart Search & Filtering",description:"Search across all locations and use filters to find specific routes, deliveries, or destinations instantly. Combine filters for precise results.",targetSelector:'[data-testid="search-input"]',position:"top",mode:"view"},{id:"view-customize",title:" Customize Table View",description:"Click to show/hide columns and drag to reorder them. Your custom layout is automatically saved when you exit edit mode and persists across sessions.",targetSelector:'[data-testid="button-show"]',position:"top",mode:"view"},{id:"view-share",title:" Share Table State",description:"Generate a shareable URL that includes your current filters, search terms, and column settings. Perfect for team collaboration.",targetSelector:'[data-testid="button-share-table"]',position:"bottom",mode:"view"},{id:"view-links",title:" Saved Links",description:"Access your previously saved share links from the navigation bar. View, manage, and quickly access all your saved table states.",targetSelector:'[data-testid="button-saved-links"]',position:"bottom",mode:"view"},{id:"view-map",title:" View Map",description:"Click on any row's map button to see the location on an interactive map with route visualization and fullscreen support.",targetSelector:".table-container",position:"top",mode:"view"},{id:"view-edit-mode",title:" Switch to Edit Mode",description:"Enter edit mode to add locations, calculate toll prices, modify data, and manage your routes. All changes can be saved.",targetSelector:'[data-testid="button-edit-mode"]',position:"bottom",mode:"view"},{id:"edit-add-row",title:" Add New Location",description:"Add new route stops by clicking here. Fill in location details, coordinates, delivery info, and upload images if needed.",targetSelector:'[data-testid="button-add-row"]',position:"bottom",mode:"edit"},{id:"edit-add-column",title:" Add Custom Column",description:"Create custom columns to track additional data points specific to your operations and workflow needs.",targetSelector:'[data-testid="button-add-column"]',position:"bottom",mode:"edit"},{id:"edit-tolls",title:" Auto-Calculate Tolls",description:"Use Google Maps Routes API to automatically calculate toll prices and distances for lorry vehicles. Supports class 1 toll pricing with traffic-aware routing.",targetSelector:'[data-testid="button-calculate-tolls"]',position:"bottom",mode:"edit"},{id:"edit-optimize",title:" Route Optimization",description:"Use AI algorithms to optimize your delivery route for minimum distance, time, and fuel consumption. Choose from multiple optimization strategies.",targetSelector:'[data-testid="button-optimize-route"]',position:"bottom",mode:"edit"},{id:"edit-save",title:" Save All Changes",description:"Save your modifications to persist all edits. Changes include new rows, updated data, column modifications, and reordering.",targetSelector:'[data-testid="button-save-data"]',position:"bottom",mode:"edit"},{id:"edit-exit",title:" Return to View Mode",description:"Exit edit mode to return to the read-only view. Your column layout preferences are automatically saved when you exit. Remember to save data changes before exiting to avoid data loss.",targetSelector:'[data-testid="button-edit-mode"]',position:"bottom",mode:"edit"},{id:"complete",title:" Tutorial Complete!",description:"You're now ready to manage routes like a pro! Access this guide anytime via the help button. Happy routing!",position:"center",mode:"both"}];function d2({editMode:e=!1,onClose:t}){const[r,n]=p.useState(!0),[a,o]=p.useState(0);p.useState(!0);const i=c2.filter(y=>y.mode==="both"||y.mode===(e?"edit":"view"));p.useEffect(()=>{n(!0),o(0)},[]),p.useEffect(()=>{r&&a>0&&o(0)},[e]);const l=()=>{a<i.length-1?o(a+1):d()},c=()=>{a>0&&o(a-1)},d=()=>{localStorage.setItem("tutorial_completed","true"),n(!1),o(0),t==null||t()},h=()=>{localStorage.setItem("tutorial_completed","true"),n(!1),o(0),t==null||t()},u=i[a];if(p.useEffect(()=>{if(!r||!u.targetSelector)return;const y=document.querySelector(u.targetSelector);if(y)y.scrollIntoView({behavior:"smooth",block:"center"});else{const w=setTimeout(()=>{a<i.length-1&&o(a+1)},1e3);return()=>clearTimeout(w)}},[a,r,u.targetSelector]),!r)return null;if(u.position==="center")return s.jsx(ze,{open:!0,onOpenChange:()=>{},children:s.jsxs(Ae,{className:"max-w-lg bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/30 dark:border-blue-400/30","aria-describedby":"tutorial-description",children:[s.jsxs(Oe,{children:[s.jsx(Le,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:u.title}),s.jsx(Ke,{id:"tutorial-description",className:"text-base pt-3 leading-relaxed",children:u.description})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-sm font-medium text-muted-foreground",children:["Step ",a+1," of ",i.length]}),s.jsx("div",{className:"flex gap-1",children:Array.from({length:i.length}).map((y,w)=>s.jsx("div",{className:`h-1.5 rounded-full transition-all ${w===a?"w-6 bg-gradient-to-r from-blue-600 to-purple-600":"w-1.5 bg-muted"}`},w))})]}),s.jsxs("div",{className:"flex gap-2",children:[a>0&&s.jsxs(I,{variant:"outline",size:"sm",onClick:c,"data-testid":"button-tutorial-previous",className:"gap-1",children:[s.jsx(Bn,{className:"w-4 h-4"}),"Previous"]}),s.jsx(I,{variant:"outline",size:"sm",onClick:h,"data-testid":"button-tutorial-skip",className:"text-muted-foreground hover:text-foreground",children:"Skip"}),s.jsx(I,{size:"sm",onClick:l,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white gap-1","data-testid":"button-tutorial-next",children:a===i.length-1?s.jsxs(s.Fragment,{children:["Finish",s.jsx(No,{className:"w-4 h-4"})]}):s.jsxs(s.Fragment,{children:["Next",s.jsx(Zs,{className:"w-4 h-4"})]})})]})]})]})});const m=u.targetSelector?document.querySelector(u.targetSelector):null,f=m==null?void 0:m.getBoundingClientRect();if(!f)return null;const x={position:"fixed",zIndex:60},b=window.innerHeight-f.bottom,g=f.top,v=320;switch(u.position){case"bottom":b<250&&g>250?x.bottom=`${window.innerHeight-f.top+12}px`:x.top=`${f.bottom+12}px`;let y=f.left+f.width/2-v/2;y+v>window.innerWidth-20&&(y=window.innerWidth-v-20),y<20&&(y=20),x.left=`${y}px`,x.transform="none";break;case"top":x.bottom=`${window.innerHeight-f.top+12}px`;let k=f.left+f.width/2-v/2;k+v>window.innerWidth-20&&(k=window.innerWidth-v-20),k<20&&(k=20),x.left=`${k}px`,x.transform="none";break;case"left":x.top=`${f.top+f.height/2}px`,x.right=`${window.innerWidth-f.left+12}px`,x.transform="translateY(-50%)";break;case"right":x.top=`${f.top+f.height/2}px`,x.left=`${f.right+12}px`,x.transform="translateY(-50%)";break}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed z-[9999] pointer-events-none rounded ring-4 ring-blue-500/60 dark:ring-blue-400/60 animate-pulse",style:{top:f.top-6,left:f.left-6,width:f.width+12,height:f.height+12,boxShadow:"0 0 20px rgba(59, 130, 246, 0.5)"}}),s.jsxs("div",{style:x,className:"fixed z-[10000] bg-gradient-to-br from-background/95 via-background/98 to-background dark:from-black/95 dark:via-black/98 dark:to-black border-2 border-blue-500/30 dark:border-blue-400/30 rounded p-4 shadow-2xl w-[320px] backdrop-blur-xl animate-in fade-in zoom-in-95 duration-300",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent pr-2",children:u.title}),s.jsx(I,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:h,"data-testid":"button-tutorial-close",children:s.jsx(ut,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed mb-4",children:u.description}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-xs font-medium text-muted-foreground",children:[a+1,"/",i.length]}),s.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(i.length,8)}).map((y,w)=>s.jsx("div",{className:`h-1 rounded-full transition-all ${w===a?"w-4 bg-gradient-to-r from-blue-600 to-purple-600":"w-1 bg-muted"}`},w))})]}),s.jsxs("div",{className:"flex gap-2",children:[a>0&&s.jsx(I,{variant:"outline",size:"sm",onClick:c,"data-testid":"button-tutorial-previous",className:"h-8 px-3",children:s.jsx(Bn,{className:"w-4 h-4"})}),s.jsxs(I,{size:"sm",onClick:l,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white h-8 px-3 gap-1","data-testid":"button-tutorial-next",children:[a===i.length-1?"Finish":"Next",a!==i.length-1&&s.jsx(Zs,{className:"w-4 h-4"})]})]})]})]})]})}function kn({editMode:e=!1}){const t=new Date().getFullYear(),[r,n]=p.useState(!1),[a,o]=p.useState(!1),[i,l]=p.useState(!1),[c,d]=p.useState(!1),[h,u]=p.useState("App v1.0.0"),[m,f]=p.useState(""),{toast:x}=Nt(),{data:b}=qt({queryKey:["/api/global-settings","footerCompanyName"],queryFn:async()=>{const j=await fetch("/api/global-settings/footerCompanyName");if(!j.ok&&j.status!==404)throw new Error("Failed to fetch company name");return j.json()}}),{data:g}=qt({queryKey:["/api/global-settings","footerCompanyUrl"],queryFn:async()=>{const j=await fetch("/api/global-settings/footerCompanyUrl");if(!j.ok&&j.status!==404)throw new Error("Failed to fetch company URL");return j.json()}}),v=De({mutationFn:async j=>await(await Be("POST","/api/global-settings",{key:"footerCompanyName",value:j})).json()}),y=De({mutationFn:async j=>await(await Be("POST","/api/global-settings",{key:"footerCompanyUrl",value:j})).json()});p.useEffect(()=>{b!=null&&b.value&&u(b.value)},[b]),p.useEffect(()=>{g!=null&&g.value&&f(g.value)},[g]),p.useEffect(()=>{const j=setTimeout(()=>n(!0),100),E=setTimeout(()=>o(!0),300);return()=>{clearTimeout(j),clearTimeout(E)}},[]);const w=async()=>{try{await v.mutateAsync(h),await y.mutateAsync(m),kr.invalidateQueries({queryKey:["/api/global-settings","footerCompanyName"]}),kr.invalidateQueries({queryKey:["/api/global-settings","footerCompanyUrl"]}),l(!1),x({title:"Success",description:"Footer updated successfully!"})}catch(j){x({title:"Error",description:j instanceof Error?j.message:"Failed to update footer",variant:"destructive"})}},k=()=>{m&&(window.open(m,"_blank","noopener,noreferrer"),d(!1))};return s.jsxs(s.Fragment,{children:[s.jsx("footer",{className:`fixed bottom-0 left-0 right-0 z-40 w-full border-t-2 border-blue-500/50 dark:border-blue-400/50 bg-gradient-to-r from-blue-500/10 via-blue-600/10 to-blue-700/10 dark:from-blue-500/20 dark:via-blue-600/20 dark:to-blue-700/20 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-lg shadow-blue-500/20 transition-all duration-500 ease-out ${r?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:`flex items-center justify-center gap-2 transition-all duration-700 ease-out text-[11px] py-3 ${a?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[s.jsxs("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:[" ",t," Route Management System"]}),s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500/60 dark:bg-blue-400/60 rounded-full"}),s.jsx("div",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"Educational Purpose Only"})]})})}),s.jsx(ze,{open:c,onOpenChange:d,children:s.jsxs(Ae,{className:"sm:max-w-md",children:[s.jsx(Oe,{children:s.jsxs(Le,{className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Visit Website"]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"You are about to visit:"}),s.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Rn,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 break-all",children:[s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Website URL:"}),s.jsx("div",{className:"font-semibold text-blue-600 dark:text-blue-400 text-sm",children:m})]})]})}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"This will open in a new browser tab."})]}),s.jsxs(Qe,{className:"sm:justify-between",children:[s.jsx(I,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-navigate",children:"Cancel"}),s.jsxs(I,{onClick:k,className:"bg-blue-600 hover:bg-blue-700","data-testid":"button-confirm-navigate",children:[s.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Visit Website"]})]})]})}),s.jsx(ze,{open:i,onOpenChange:l,children:s.jsxs(Ae,{children:[s.jsx(Oe,{children:s.jsx(Le,{children:"Edit Footer"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"company-name",children:"Company Name"}),s.jsx(Pe,{id:"company-name",value:h,onChange:j=>u(j.target.value),placeholder:"Enter company name","data-testid":"input-company-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"company-url",className:m?"text-blue-600 dark:text-blue-400":"",children:"Company Website URL (optional)"}),s.jsx(Pe,{id:"company-url",value:m,onChange:j=>f(j.target.value),placeholder:"https://example.com",className:m?"border-blue-500 dark:border-blue-400 focus:ring-blue-500":"","data-testid":"input-company-url"})]}),s.jsxs("div",{className:"mt-6 p-4 bg-slate-100 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[s.jsx("h4",{className:"text-sm font-semibold mb-3 text-slate-700 dark:text-slate-300",children:"Preview Changes"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Sr,{className:"w-4 h-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kx,{className:"w-3.5 h-3.5 text-slate-500"}),s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Company Name:"})]}),s.jsx("div",{className:"ml-5 font-semibold text-slate-800 dark:text-slate-200",children:h||s.jsx("span",{className:"text-slate-400 italic",children:"Not set"})})]})]}),s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Sr,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${m?"text-blue-600 dark:text-blue-400":"text-slate-400"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rn,{className:`w-3.5 h-3.5 ${m?"text-blue-600 dark:text-blue-400":"text-slate-500"}`}),s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Website URL:"})]}),s.jsx("div",{className:"ml-5",children:m?s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-blue-600 dark:text-blue-400 break-all",children:m}),s.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:" Company name will be clickable"})]}):s.jsx("span",{className:"text-slate-400 italic",children:"Not set - name will not be a link"})})]})]})]})]})]}),s.jsxs(Qe,{children:[s.jsx(I,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-footer",children:"Cancel"}),s.jsx(I,{onClick:w,disabled:v.isPending||y.isPending,"data-testid":"button-save-footer",children:v.isPending||y.isPending?"Saving...":"Save"})]})]})})]})}function u2({isOpen:e,onClose:t,rows:r}){const[n,a]=p.useState(""),[o,i]=p.useState("#3b82f6"),{toast:l}=Nt(),c=Qr(),d=Array.from(new Set(r.map(m=>m.route).filter(Boolean))).sort(),h=De({mutationFn:async m=>{const f=await Be("PUT","/api/table-rows/bulk-update-color",m);if(!f.ok)throw new Error("Failed to update marker colors");return f.json()},onSuccess:()=>{c.invalidateQueries({queryKey:["/api/table-rows"]}),a(""),i("#3b82f6"),t(),l({title:"Marker colors updated!",description:"All locations in the selected route have been updated."})},onError:()=>{l({title:"Error",description:"Failed to update marker colors. Please try again.",variant:"destructive"})}}),u=()=>{if(!n){l({title:"Select a route",description:"Please select a route to update marker colors.",variant:"destructive"});return}h.mutate({route:n,color:o})};return p.useEffect(()=>{e||(a(""),i("#3b82f6"))},[e]),s.jsx(ze,{open:e,onOpenChange:t,children:s.jsxs(Ae,{className:"sm:max-w-md glass-modal",children:[s.jsx(Oe,{children:s.jsx(Le,{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-400 dark:to-pink-400 bg-clip-text text-transparent flex items-center gap-2",children:" Bulk Edit Marker Color"})}),s.jsxs("div",{className:"space-y-6 p-1",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:"Select Route"}),s.jsxs("select",{value:n,onChange:m=>a(m.target.value),className:"w-full px-3 py-3 text-sm bg-white/80 dark:bg-black/40 border-0 rounded-xl font-medium shadow-sm transition-all backdrop-blur-sm focus:bg-white/90 dark:focus:bg-black/50 focus:ring-2 focus:ring-purple-500/30",children:[s.jsx("option",{value:"",children:"-- Select Route --"}),d.map(m=>s.jsx("option",{value:m,children:m},m))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[s.jsx("span",{children:"New Color"}),n&&(()=>{const m=r.find(x=>x.route===n),f=(m==null?void 0:m.markerColor)||"#3b82f6";return s.jsxs("span",{className:"flex items-center gap-1 text-xs font-normal text-gray-600 dark:text-gray-400",children:["(Current:",s.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-gray-400 dark:border-gray-500",style:{backgroundColor:f},title:f}),")"]})})()]}),s.jsx("input",{type:"color",value:o,onChange:m=>i(m.target.value),className:"h-12 w-full rounded-xl border-2 border-purple-300/50 dark:border-purple-700/50 cursor-pointer shadow-sm hover:scale-105 transition-all backdrop-blur-sm"})]}),s.jsx("div",{className:"px-4 py-3 bg-purple-100/50 dark:bg-purple-900/20 rounded-xl backdrop-blur-sm",children:s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:n?` Will update marker colors for ALL locations in route "${n}"`:" Select a route above to bulk update marker colors for all locations in that route"})}),s.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3",children:[s.jsx(I,{type:"button",variant:"outline",onClick:t,className:"flex-1 glass-button",disabled:h.isPending,children:"Cancel"}),s.jsx(I,{onClick:u,disabled:!n||h.isPending,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg hover:shadow-xl transition-all disabled:opacity-50",children:h.isPending?"Updating...":" Update Color"})]})]})]})})}function m2(e){return Object.prototype.toString.call(e)==="[object Object]"}function Pc(e){return m2(e)||Array.isArray(e)}function h2(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Zi(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),o=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==o?!1:r.every(i=>{const l=e[i],c=t[i];return typeof l=="function"?`${l}`==`${c}`:!Pc(l)||!Pc(c)?l===c:Zi(l,c)})}function Ic(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function p2(e,t){if(e.length!==t.length)return!1;const r=Ic(e),n=Ic(t);return r.every((a,o)=>{const i=n[o];return Zi(a,i)})}function el(e){return typeof e=="number"}function Vo(e){return typeof e=="string"}function Ca(e){return typeof e=="boolean"}function Tc(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ye(e){return Math.abs(e)}function tl(e){return Math.sign(e)}function Xs(e,t){return Ye(e-t)}function f2(e,t){if(e===0||t===0||Ye(e)<=Ye(t))return 0;const r=Xs(Ye(e),Ye(t));return Ye(r/e)}function g2(e){return Math.round(e*100)/100}function dn(e){return un(e).map(Number)}function Vt(e){return e[jn(e)]}function jn(e){return Math.max(0,e.length-1)}function rl(e,t){return t===jn(e)}function Ac(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function un(e){return Object.keys(e)}function Hp(e,t){return[e,t].reduce((r,n)=>(un(n).forEach(a=>{const o=r[a],i=n[a],l=Tc(o)&&Tc(i);r[a]=l?Hp(o,i):i}),r),{})}function qo(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function x2(e,t){const r={start:n,center:a,end:o};function n(){return 0}function a(c){return o(c)/2}function o(c){return t-c}function i(c,d){return Vo(e)?r[e](c):e(t,c,d)}return{measure:i}}function mn(){let e=[];function t(a,o,i,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(o,i,l),c=()=>a.removeEventListener(o,i,l);else{const d=a;d.addListener(i),c=()=>d.removeListener(i)}return e.push(c),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function b2(e,t,r,n){const a=mn(),o=1e3/60;let i=null,l=0,c=0;function d(){a.add(e,"visibilitychange",()=>{e.hidden&&x()})}function h(){f(),a.clear()}function u(g){if(!c)return;i||(i=g,r(),r());const v=g-i;for(i=g,l+=v;l>=o;)r(),l-=o;const y=l/o;n(y),c&&(c=t.requestAnimationFrame(u))}function m(){c||(c=t.requestAnimationFrame(u))}function f(){t.cancelAnimationFrame(c),i=null,l=0,c=0}function x(){i=null,l=0}return{init:d,destroy:h,start:m,stop:f,update:r,render:n}}function v2(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",o=n?"x":"y",i=!n&&r?-1:1,l=h(),c=u();function d(x){const{height:b,width:g}=x;return n?b:g}function h(){return n?"top":r?"right":"left"}function u(){return n?"bottom":r?"left":"right"}function m(x){return x*i}return{scroll:a,cross:o,startEdge:l,endEdge:c,measureSize:d,direction:m}}function Kr(e=0,t=0){const r=Ye(e-t);function n(d){return d<e}function a(d){return d>t}function o(d){return n(d)||a(d)}function i(d){return o(d)?n(d)?e:t:d}function l(d){return r?d-r*Math.ceil((d-t)/r):d}return{length:r,max:t,min:e,constrain:i,reachedAny:o,reachedMax:a,reachedMin:n,removeOffset:l}}function Wp(e,t,r){const{constrain:n}=Kr(0,e),a=e+1;let o=i(t);function i(m){return r?Ye((a+m)%a):n(m)}function l(){return o}function c(m){return o=i(m),u}function d(m){return h().set(l()+m)}function h(){return Wp(e,l(),r)}const u={get:l,set:c,add:d,clone:h};return u}function y2(e,t,r,n,a,o,i,l,c,d,h,u,m,f,x,b,g,v,y){const{cross:w,direction:k}=e,j=["INPUT","SELECT","TEXTAREA"],E={passive:!1},C=mn(),D=mn(),T=Kr(50,225).constrain(f.measure(20)),$={mouse:300,touch:400},M={mouse:500,touch:600},U=x?43:25;let me=!1,B=0,F=0,_=!1,O=!1,ee=!1,H=!1;function L(V){if(!y)return;function ce($e){(Ca(y)||y(V,$e))&&Se($e)}const Te=t;C.add(Te,"dragstart",$e=>$e.preventDefault(),E).add(Te,"touchmove",()=>{},E).add(Te,"touchend",()=>{}).add(Te,"touchstart",ce).add(Te,"mousedown",ce).add(Te,"touchcancel",te).add(Te,"contextmenu",te).add(Te,"click",X,!0)}function W(){C.clear(),D.clear()}function P(){const V=H?r:t;D.add(V,"touchmove",q,E).add(V,"touchend",te).add(V,"mousemove",q,E).add(V,"mouseup",te)}function ge(V){const ce=V.nodeName||"";return j.includes(ce)}function oe(){return(x?M:$)[H?"mouse":"touch"]}function he(V,ce){const Te=u.add(tl(V)*-1),$e=h.byDistance(V,!x).distance;return x||Ye(V)<T?$e:g&&ce?$e*.5:h.byIndex(Te.get(),0).distance}function Se(V){const ce=qo(V,n);H=ce,ee=x&&ce&&!V.buttons&&me,me=Xs(a.get(),i.get())>=2,!(ce&&V.button!==0)&&(ge(V.target)||(_=!0,o.pointerDown(V),d.useFriction(0).useDuration(0),a.set(i),P(),B=o.readPoint(V),F=o.readPoint(V,w),m.emit("pointerDown")))}function q(V){if(!qo(V,n)&&V.touches.length>=2)return te(V);const Te=o.readPoint(V),$e=o.readPoint(V,w),qe=Xs(Te,B),rt=Xs($e,F);if(!O&&!H&&(!V.cancelable||(O=qe>rt,!O)))return te(V);const it=o.pointerMove(V);qe>b&&(ee=!0),d.useFriction(.3).useDuration(.75),l.start(),a.add(k(it)),V.preventDefault()}function te(V){const Te=h.byDistance(0,!1).index!==u.get(),$e=o.pointerUp(V)*oe(),qe=he(k($e),Te),rt=f2($e,qe),it=U-10*rt,lt=v+rt/50;O=!1,_=!1,D.clear(),d.useDuration(it).useFriction(lt),c.distance(qe,!x),H=!1,m.emit("pointerUp")}function X(V){ee&&(V.stopPropagation(),V.preventDefault(),ee=!1)}function ae(){return _}return{init:L,destroy:W,pointerDown:ae}}function w2(e,t){let n,a;function o(u){return u.timeStamp}function i(u,m){const x=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(qo(u,t)?u:u.touches[0])[x]}function l(u){return n=u,a=u,i(u)}function c(u){const m=i(u)-i(a),f=o(u)-o(n)>170;return a=u,f&&(n=u),m}function d(u){if(!n||!a)return 0;const m=i(a)-i(n),f=o(u)-o(n),x=o(u)-o(a)>170,b=m/f;return f&&!x&&Ye(b)>.1?b:0}return{pointerDown:l,pointerMove:c,pointerUp:d,readPoint:i}}function k2(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:o,offsetHeight:i}=r;return{top:n,right:a+o,bottom:n+i,left:a,width:o,height:i}}return{measure:e}}function j2(e){function t(n){return e*(n/100)}return{measure:t}}function N2(e,t,r,n,a,o,i){const l=[e].concat(n);let c,d,h=[],u=!1;function m(g){return a.measureSize(i.measure(g))}function f(g){if(!o)return;d=m(e),h=n.map(m);function v(y){for(const w of y){if(u)return;const k=w.target===e,j=n.indexOf(w.target),E=k?d:h[j],C=m(k?e:n[j]);if(Ye(C-E)>=.5){g.reInit(),t.emit("resize");break}}}c=new ResizeObserver(y=>{(Ca(o)||o(g,y))&&v(y)}),r.requestAnimationFrame(()=>{l.forEach(y=>c.observe(y))})}function x(){u=!0,c&&c.disconnect()}return{init:f,destroy:x}}function C2(e,t,r,n,a,o){let i=0,l=0,c=a,d=o,h=e.get(),u=0;function m(){const E=n.get()-e.get(),C=!c;let D=0;return C?(i=0,r.set(n),e.set(n),D=E):(r.set(e),i+=E/c,i*=d,h+=i,e.add(i),D=h-u),l=tl(D),u=h,j}function f(){const E=n.get()-t.get();return Ye(E)<.001}function x(){return c}function b(){return l}function g(){return i}function v(){return w(a)}function y(){return k(o)}function w(E){return c=E,j}function k(E){return d=E,j}const j={direction:b,duration:x,velocity:g,seek:m,settled:f,useBaseFriction:y,useBaseDuration:v,useFriction:k,useDuration:w};return j}function S2(e,t,r,n,a){const o=a.measure(10),i=a.measure(50),l=Kr(.1,.99);let c=!1;function d(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function h(f){if(!d())return;const x=e.reachedMin(t.get())?"min":"max",b=Ye(e[x]-t.get()),g=r.get()-t.get(),v=l.constrain(b/i);r.subtract(g*v),!f&&Ye(g)<o&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function u(f){c=!f}return{shouldConstrain:d,constrain:h,toggleActive:u}}function E2(e,t,r,n,a){const o=Kr(-t+e,0),i=u(),l=h(),c=m();function d(x,b){return Xs(x,b)<=1}function h(){const x=i[0],b=Vt(i),g=i.lastIndexOf(x),v=i.indexOf(b)+1;return Kr(g,v)}function u(){return r.map((x,b)=>{const{min:g,max:v}=o,y=o.constrain(x),w=!b,k=rl(r,b);return w?v:k||d(g,y)?g:d(v,y)?v:y}).map(x=>parseFloat(x.toFixed(3)))}function m(){if(t<=e+a)return[o.max];if(n==="keepSnaps")return i;const{min:x,max:b}=l;return i.slice(x,b)}return{snapsContained:c,scrollContainLimit:l}}function R2(e,t,r){const n=t[0],a=r?n-e:Vt(t);return{limit:Kr(a,n)}}function D2(e,t,r,n){const o=t.min+.1,i=t.max+.1,{reachedMin:l,reachedMax:c}=Kr(o,i);function d(m){return m===1?c(r.get()):m===-1?l(r.get()):!1}function h(m){if(!d(m))return;const f=e*(m*-1);n.forEach(x=>x.add(f))}return{loop:h}}function P2(e){const{max:t,length:r}=e;function n(o){const i=o-t;return r?i/-r:0}return{get:n}}function I2(e,t,r,n,a){const{startEdge:o,endEdge:i}=e,{groupSlides:l}=a,c=u().map(t.measure),d=m(),h=f();function u(){return l(n).map(b=>Vt(b)[i]-b[0][o]).map(Ye)}function m(){return n.map(b=>r[o]-b[o]).map(b=>-Ye(b))}function f(){return l(d).map(b=>b[0]).map((b,g)=>b+c[g])}return{snaps:d,snapsAligned:h}}function T2(e,t,r,n,a,o){const{groupSlides:i}=a,{min:l,max:c}=n,d=h();function h(){const m=i(o),f=!e||t==="keepSnaps";return r.length===1?[o]:f?m:m.slice(l,c).map((x,b,g)=>{const v=!b,y=rl(g,b);if(v){const w=Vt(g[0])+1;return Ac(w)}if(y){const w=jn(o)-Vt(g)[0]+1;return Ac(w,Vt(g)[0])}return x})}return{slideRegistry:d}}function A2(e,t,r,n,a){const{reachedAny:o,removeOffset:i,constrain:l}=n;function c(x){return x.concat().sort((b,g)=>Ye(b)-Ye(g))[0]}function d(x){const b=e?i(x):l(x),g=t.map((y,w)=>({diff:h(y-b,0),index:w})).sort((y,w)=>Ye(y.diff)-Ye(w.diff)),{index:v}=g[0];return{index:v,distance:b}}function h(x,b){const g=[x,x+r,x-r];if(!e)return x;if(!b)return c(g);const v=g.filter(y=>tl(y)===b);return v.length?c(v):Vt(g)-r}function u(x,b){const g=t[x]-a.get(),v=h(g,b);return{index:x,distance:v}}function m(x,b){const g=a.get()+x,{index:v,distance:y}=d(g),w=!e&&o(g);if(!b||w)return{index:v,distance:x};const k=t[v]-y,j=x+h(k,0);return{index:v,distance:j}}return{byDistance:m,byIndex:u,shortcut:h}}function O2(e,t,r,n,a,o,i){function l(u){const m=u.distance,f=u.index!==t.get();o.add(m),m&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),f&&(r.set(t.get()),t.set(u.index),i.emit("select"))}function c(u,m){const f=a.byDistance(u,m);l(f)}function d(u,m){const f=t.clone().set(u),x=a.byIndex(f.get(),m);l(x)}return{distance:c,index:d}}function L2(e,t,r,n,a,o,i,l){const c={passive:!0,capture:!0};let d=0;function h(f){if(!l)return;function x(b){if(new Date().getTime()-d>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const y=r.findIndex(w=>w.includes(b));el(y)&&(a.useDuration(0),n.index(y,0),i.emit("slideFocus"))}o.add(document,"keydown",u,!1),t.forEach((b,g)=>{o.add(b,"focus",v=>{(Ca(l)||l(f,v))&&x(g)},c)})}function u(f){f.code==="Tab"&&(d=new Date().getTime())}return{init:h}}function Ws(e){let t=e;function r(){return t}function n(c){t=i(c)}function a(c){t+=i(c)}function o(c){t-=i(c)}function i(c){return el(c)?c:c.get()}return{get:r,set:n,add:a,subtract:o}}function Kp(e,t){const r=e.scroll==="x"?i:l,n=t.style;let a=null,o=!1;function i(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(o)return;const f=g2(e.direction(m));f!==a&&(n.transform=r(f),a=f)}function d(m){o=!m}function h(){o||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:h,to:c,toggleActive:d}}function M2(e,t,r,n,a,o,i,l,c){const h=dn(a),u=dn(a).reverse(),m=v().concat(y());function f(C,D){return C.reduce((T,$)=>T-a[$],D)}function x(C,D){return C.reduce((T,$)=>f(T,D)>0?T.concat([$]):T,[])}function b(C){return o.map((D,T)=>({start:D-n[T]+.5+C,end:D+t-.5+C}))}function g(C,D,T){const $=b(D);return C.map(M=>{const U=T?0:-r,me=T?r:0,B=T?"end":"start",F=$[M][B];return{index:M,loopPoint:F,slideLocation:Ws(-1),translate:Kp(e,c[M]),target:()=>l.get()>F?U:me}})}function v(){const C=i[0],D=x(u,C);return g(D,r,!1)}function y(){const C=t-i[0]-1,D=x(h,C);return g(D,-r,!0)}function w(){return m.every(({index:C})=>{const D=h.filter(T=>T!==C);return f(D,t)<=.1})}function k(){m.forEach(C=>{const{target:D,translate:T,slideLocation:$}=C,M=D();M!==$.get()&&(T.to(M),$.set(M))})}function j(){m.forEach(C=>C.translate.clear())}return{canLoop:w,clear:j,loop:k,loopPoints:m}}function F2(e,t,r){let n,a=!1;function o(c){if(!r)return;function d(h){for(const u of h)if(u.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(h=>{a||(Ca(r)||r(c,h))&&d(h)}),n.observe(e,{childList:!0})}function i(){n&&n.disconnect(),a=!0}return{init:o,destroy:i}}function _2(e,t,r,n){const a={};let o=null,i=null,l,c=!1;function d(){l=new IntersectionObserver(x=>{c||(x.forEach(b=>{const g=t.indexOf(b.target);a[g]=b}),o=null,i=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(x=>l.observe(x))}function h(){l&&l.disconnect(),c=!0}function u(x){return un(a).reduce((b,g)=>{const v=parseInt(g),{isIntersecting:y}=a[v];return(x&&y||!x&&!y)&&b.push(v),b},[])}function m(x=!0){if(x&&o)return o;if(!x&&i)return i;const b=u(x);return x&&(o=b),x||(i=b),b}return{init:d,destroy:h,get:m}}function z2(e,t,r,n,a,o){const{measureSize:i,startEdge:l,endEdge:c}=e,d=r[0]&&a,h=x(),u=b(),m=r.map(i),f=g();function x(){if(!d)return 0;const y=r[0];return Ye(t[l]-y[l])}function b(){if(!d)return 0;const y=o.getComputedStyle(Vt(n));return parseFloat(y.getPropertyValue(`margin-${c}`))}function g(){return r.map((y,w,k)=>{const j=!w,E=rl(k,w);return j?m[w]+h:E?m[w]+u:k[w+1][l]-y[l]}).map(Ye)}return{slideSizes:m,slideSizesWithGaps:f,startGap:h,endGap:u}}function $2(e,t,r,n,a,o,i,l,c){const{startEdge:d,endEdge:h,direction:u}=e,m=el(r);function f(v,y){return dn(v).filter(w=>w%y===0).map(w=>v.slice(w,w+y))}function x(v){return v.length?dn(v).reduce((y,w,k)=>{const j=Vt(y)||0,E=j===0,C=w===jn(v),D=a[d]-o[j][d],T=a[d]-o[w][h],$=!n&&E?u(i):0,M=!n&&C?u(l):0,U=Ye(T-M-(D+$));return k&&U>t+c&&y.push(w),C&&y.push(v.length),y},[]).map((y,w,k)=>{const j=Math.max(k[w-1]||0);return v.slice(j,y)}):[]}function b(v){return m?f(v,r):x(v)}return{groupSlides:b}}function B2(e,t,r,n,a,o,i){const{align:l,axis:c,direction:d,startIndex:h,loop:u,duration:m,dragFree:f,dragThreshold:x,inViewThreshold:b,slidesToScroll:g,skipSnaps:v,containScroll:y,watchResize:w,watchSlides:k,watchDrag:j,watchFocus:E}=o,C=2,D=k2(),T=D.measure(t),$=r.map(D.measure),M=v2(c,d),U=M.measureSize(T),me=j2(U),B=x2(l,U),F=!u&&!!y,_=u||!!y,{slideSizes:O,slideSizesWithGaps:ee,startGap:H,endGap:L}=z2(M,T,$,r,_,a),W=$2(M,U,g,u,T,$,H,L,C),{snaps:P,snapsAligned:ge}=I2(M,B,T,$,W),oe=-Vt(P)+Vt(ee),{snapsContained:he,scrollContainLimit:Se}=E2(U,oe,ge,y,C),q=F?he:ge,{limit:te}=R2(oe,q,u),X=Wp(jn(q),h,u),ae=X.clone(),de=dn(r),V=({dragHandler:S,scrollBody:R,scrollBounds:G,options:{loop:K}})=>{K||G.constrain(S.pointerDown()),R.seek()},ce=({scrollBody:S,translate:R,location:G,offsetLocation:K,previousLocation:re,scrollLooper:se,slideLooper:ie,dragHandler:Ue,animation:le,eventHandler:He,scrollBounds:Ls,options:{loop:Pr}},Ir)=>{const Pt=S.settled(),Ie=!Ls.shouldConstrain(),tt=Pr?Pt:Pt&&Ie,Xe=tt&&!Ue.pointerDown();Xe&&le.stop();const zt=G.get()*Ir+re.get()*(1-Ir);K.set(zt),Pr&&(se.loop(S.direction()),ie.loop()),R.to(K.get()),Xe&&He.emit("settle"),tt||He.emit("scroll")},Te=b2(n,a,()=>V(Ce),S=>ce(Ce,S)),$e=.68,qe=q[X.get()],rt=Ws(qe),it=Ws(qe),lt=Ws(qe),Dt=Ws(qe),bt=C2(rt,lt,it,Dt,m,$e),mt=A2(u,q,oe,te,Dt),vt=O2(Te,X,ae,bt,mt,Dt,i),yt=P2(te),er=mn(),ht=_2(t,r,i,b),{slideRegistry:J}=T2(F,y,q,Se,W,de),pe=L2(e,r,J,vt,bt,er,i,E),Ce={ownerDocument:n,ownerWindow:a,eventHandler:i,containerRect:T,slideRects:$,animation:Te,axis:M,dragHandler:y2(M,e,n,a,Dt,w2(M,a),rt,Te,vt,bt,mt,X,i,me,f,x,v,$e,j),eventStore:er,percentOfView:me,index:X,indexPrevious:ae,limit:te,location:rt,offsetLocation:lt,previousLocation:it,options:o,resizeHandler:N2(t,i,a,r,M,w,D),scrollBody:bt,scrollBounds:S2(te,lt,Dt,bt,me),scrollLooper:D2(oe,te,lt,[rt,lt,it,Dt]),scrollProgress:yt,scrollSnapList:q.map(yt.get),scrollSnaps:q,scrollTarget:mt,scrollTo:vt,slideLooper:M2(M,U,oe,O,ee,P,q,lt,r),slideFocus:pe,slidesHandler:F2(t,i,k),slidesInView:ht,slideIndexes:de,slideRegistry:J,slidesToScroll:W,target:Dt,translate:Kp(M,t)};return Ce}function U2(){let e={},t;function r(d){t=d}function n(d){return e[d]||[]}function a(d){return n(d).forEach(h=>h(t,d)),c}function o(d,h){return e[d]=n(d).concat([h]),c}function i(d,h){return e[d]=n(d).filter(u=>u!==h),c}function l(){e={}}const c={init:r,emit:a,off:i,on:o,clear:l};return c}const G2={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function V2(e){function t(o,i){return Hp(o,i||{})}function r(o){const i=o.breakpoints||{},l=un(i).filter(c=>e.matchMedia(c).matches).map(c=>i[c]).reduce((c,d)=>t(c,d),{});return t(o,l)}function n(o){return o.map(i=>un(i.breakpoints||{})).reduce((i,l)=>i.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function q2(e){let t=[];function r(o,i){return t=i.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(o,e)),i.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(o=>o.destroy())}return{init:r,destroy:n}}function ra(e,t,r){const n=e.ownerDocument,a=n.defaultView,o=V2(a),i=q2(o),l=mn(),c=U2(),{mergeOptions:d,optionsAtMedia:h,optionsMediaQueries:u}=o,{on:m,off:f,emit:x}=c,b=M;let g=!1,v,y=d(G2,ra.globalOptions),w=d(y),k=[],j,E,C;function D(){const{container:de,slides:V}=w;E=(Vo(de)?e.querySelector(de):de)||e.children[0];const Te=Vo(V)?E.querySelectorAll(V):V;C=[].slice.call(Te||E.children)}function T(de){const V=B2(e,E,C,n,a,de,c);if(de.loop&&!V.slideLooper.canLoop()){const ce=Object.assign({},de,{loop:!1});return T(ce)}return V}function $(de,V){g||(y=d(y,de),w=h(y),k=V||k,D(),v=T(w),u([y,...k.map(({options:ce})=>ce)]).forEach(ce=>l.add(ce,"change",M)),w.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(ae),v.eventHandler.init(ae),v.resizeHandler.init(ae),v.slidesHandler.init(ae),v.options.loop&&v.slideLooper.loop(),E.offsetParent&&C.length&&v.dragHandler.init(ae),j=i.init(ae,k)))}function M(de,V){const ce=W();U(),$(d({startIndex:ce},de),V),c.emit("reInit")}function U(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),i.destroy(),l.clear()}function me(){g||(g=!0,l.clear(),U(),c.emit("destroy"),c.clear())}function B(de,V,ce){!w.active||g||(v.scrollBody.useBaseFriction().useDuration(V===!0?0:w.duration),v.scrollTo.index(de,ce||0))}function F(de){const V=v.index.add(1).get();B(V,de,-1)}function _(de){const V=v.index.add(-1).get();B(V,de,1)}function O(){return v.index.add(1).get()!==W()}function ee(){return v.index.add(-1).get()!==W()}function H(){return v.scrollSnapList}function L(){return v.scrollProgress.get(v.offsetLocation.get())}function W(){return v.index.get()}function P(){return v.indexPrevious.get()}function ge(){return v.slidesInView.get()}function oe(){return v.slidesInView.get(!1)}function he(){return j}function Se(){return v}function q(){return e}function te(){return E}function X(){return C}const ae={canScrollNext:O,canScrollPrev:ee,containerNode:te,internalEngine:Se,destroy:me,off:f,on:m,emit:x,plugins:he,previousScrollSnap:P,reInit:b,rootNode:q,scrollNext:F,scrollPrev:_,scrollProgress:L,scrollSnapList:H,scrollTo:B,selectedScrollSnap:W,slideNodes:X,slidesInView:ge,slidesNotInView:oe};return $(t,r),setTimeout(()=>c.emit("init"),0),ae}ra.globalOptions=void 0;function sl(e={},t=[]){const r=p.useRef(e),n=p.useRef(t),[a,o]=p.useState(),[i,l]=p.useState(),c=p.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return p.useEffect(()=>{Zi(r.current,e)||(r.current=e,c())},[e,c]),p.useEffect(()=>{p2(n.current,t)||(n.current=t,c())},[t,c]),p.useEffect(()=>{if(h2()&&i){ra.globalOptions=sl.globalOptions;const d=ra(i,r.current,n.current);return o(d),()=>d.destroy()}else o(void 0)},[i,o]),[l,a]}sl.globalOptions=void 0;const Qp=p.createContext(null);function Sa(){const e=p.useContext(Qp);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const Yp=p.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:o,...i},l)=>{const[c,d]=sl({...t,axis:e==="horizontal"?"x":"y"},n),[h,u]=p.useState(!1),[m,f]=p.useState(!1),x=p.useCallback(y=>{y&&(u(y.canScrollPrev()),f(y.canScrollNext()))},[]),b=p.useCallback(()=>{d==null||d.scrollPrev()},[d]),g=p.useCallback(()=>{d==null||d.scrollNext()},[d]),v=p.useCallback(y=>{y.key==="ArrowLeft"?(y.preventDefault(),b()):y.key==="ArrowRight"&&(y.preventDefault(),g())},[b,g]);return p.useEffect(()=>{!d||!r||r(d)},[d,r]),p.useEffect(()=>{if(d)return x(d),d.on("reInit",x),d.on("select",x),()=>{d==null||d.off("select",x)}},[d,x]),s.jsx(Qp.Provider,{value:{carouselRef:c,api:d,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:b,scrollNext:g,canScrollPrev:h,canScrollNext:m},children:s.jsx("div",{ref:l,onKeyDownCapture:v,className:Z("relative",a),role:"region","aria-roledescription":"carousel",...i,children:o})})});Yp.displayName="Carousel";const Xp=p.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=Sa();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:Z("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});Xp.displayName="CarouselContent";const Jp=p.forwardRef(({className:e,...t},r)=>{const{orientation:n}=Sa();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:Z("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});Jp.displayName="CarouselItem";const Zp=p.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:o,scrollPrev:i,canScrollPrev:l}=Sa();return s.jsxs(I,{ref:a,variant:t,size:r,className:Z("absolute  h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:i,...n,children:[s.jsx(bu,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Zp.displayName="CarouselPrevious";const ef=p.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:o,scrollNext:i,canScrollNext:l}=Sa();return s.jsxs(I,{ref:a,variant:t,size:r,className:Z("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:i,...n,children:[s.jsx(lx,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});ef.displayName="CarouselNext";const Oc=["TnG KL Central","TnG Petaling Jaya","TnG Shah Alam","TnG Subang Jaya","TnG Damansara","TnG Mont Kiara","TnG KLCC","TnG Bukit Bintang","TnG Cheras","TnG Ampang","TnG Kepong","TnG Wangsa Maju","TnG Setapak","TnG Sentul","TnG Brickfields"];function H2(){const e=Math.floor(Math.random()*Oc.length);return Oc[e]}function W2(){return(Math.random()*45+5).toFixed(2)}function Lc(){return{tngSite:H2(),tngRoute:W2()}}function Ss(e,t,r,n){const o=(r-e)*(Math.PI/180),i=(n-t)*(Math.PI/180),l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e*(Math.PI/180))*Math.cos(r*(Math.PI/180))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function K2(){const[e,t]=p.useState(!1),[r,n]=p.useState(null),[a,o]=p.useState(""),[i,l]=p.useState([]),[c,d]=p.useState([]),[h,u]=p.useState(!1),[m,f]=p.useState([]),[x,b]=p.useState([]),[g,v]=p.useState(!1),[y,w]=p.useState(!1),[k,j]=p.useState(null),[E,C]=p.useState(!1),[D,T]=p.useState("end"),[$,M]=p.useState(1),[U,me]=p.useState(!1),[B,F]=p.useState(!1),[_,O]=p.useState(!1),[ee,H]=p.useState(`- Interactive table with Drag & Drop , Calculations , and Image Gallery

- This Routes for Driver Vending Mechine , FamilyMart only`),[L,W]=p.useState("Content"),[P,ge]=p.useState(!0),[oe,he]=p.useState(!1),[Se,q]=p.useState(!1),[te,X]=p.useState(!1),[ae,de]=p.useState(!1),[V,ce]=p.useState(0),[Te,$e]=p.useState(!1),[qe,rt]=p.useState(null),[it,lt]=p.useState(""),[Dt,bt]=p.useState(""),[mt,vt]=p.useState([]),[yt,er]=p.useState(!0),[ht,J]=p.useState(),[pe,Ce]=p.useState(0),[S,R]=p.useState(null),[G,K]=p.useState(!1),[re,se]=p.useState(null),[ie,Ue]=p.useState(!1),[le,He]=p.useState(new Date),[Ls,Pr]=p.useState(!1),Ir=p.useRef(null),Pt=p.useRef(null),{toast:Ie}=Nt(),{rows:tt,columns:Xe,isLoading:zt,createRow:ll,updateRow:Da,deleteRow:xf,reorderRows:bf,reorderColumns:vf,addImageToRow:cl,updateImageInRow:yf,deleteImageFromRow:wf,createColumn:kf,deleteColumn:jf}=xi(),{data:Tr=[],isLoading:dl}=qt({queryKey:["/api/pages"]});p.useEffect(()=>{(async()=>{!dl&&Tr.length===0&&await Ms.mutateAsync({title:L,description:ee,sortOrder:0})})()},[Tr.length,dl]);const Ms=De({mutationFn:async A=>await(await Be("POST","/api/pages",A)).json(),onSuccess:()=>{kr.invalidateQueries({queryKey:["/api/pages"]}),Ie({title:"Success",description:"Page created successfully!"})},onError:A=>{Ie({title:"Error",description:A instanceof Error?A.message:"Failed to create page",variant:"destructive"})}}),Nn=De({mutationFn:async({id:A,updates:z})=>await(await Be("PATCH",`/api/pages/${A}`,z)).json(),onSuccess:()=>{kr.invalidateQueries({queryKey:["/api/pages"]}),Ie({title:"Success",description:"Page updated successfully!"})},onError:A=>{Ie({title:"Error",description:A instanceof Error?A.message:"Failed to update page",variant:"destructive"})}}),Fs=De({mutationFn:async A=>{await Be("DELETE",`/api/pages/${A}`)},onSuccess:()=>{kr.invalidateQueries({queryKey:["/api/pages"]}),Ie({title:"Success",description:"Page deleted successfully!"})},onError:A=>{Ie({title:"Error",description:A instanceof Error?A.message:"Failed to delete page",variant:"destructive"})}});p.useEffect(()=>{(async()=>{if(Xe.length===0)return;try{const xe=Ga(),We=await fetch(`/api/layout?userId=${encodeURIComponent(xe)}`);if(We.ok){const Je=await We.json(),et=Object.keys(Je.columnVisibility).filter(Wt=>Je.columnVisibility[Wt]&&Xe.some(Yr=>Yr.id===Wt)),_s=Je.columnOrder.filter(Wt=>Xe.some(Yr=>Yr.id===Wt)),tr=Xe.find(Wt=>Wt.dataKey==="kilometer");tr&&!et.includes(tr.id)&&et.push(tr.id),et.length>0&&f(et),_s.length>0&&b(_s);return}else We.status===404&&localStorage.removeItem("tableColumnPreferences")}catch{}const z=["No","Code","Location","Delivery"],be=Xe.filter(xe=>z.includes(xe.name)).map(xe=>xe.id),_e=Xe.filter(xe=>xe.dataKey==="latitude"||xe.dataKey==="longitude").map(xe=>xe.id);f(be.length>0?be:Xe.map(xe=>xe.id).filter(xe=>!_e.includes(xe))),b(Xe.map(xe=>xe.id))})()},[Xe]);const ul=(A,z)=>{const be={visibleColumns:A,columnOrder:z};localStorage.setItem("tableColumnPreferences",JSON.stringify(be))},Nf=A=>A.trim()?A.split(`
`).map(z=>z.trim()).filter(z=>z.length>0).map(z=>{if(z.includes(":")){const[be,..._e]=z.split(":");return{term:be.trim(),definition:_e.join(":").trim()}}return{term:"",definition:z}}):[],Cf=A=>A.filter(z=>z.term.trim()||z.definition.trim()).map(z=>z.term.trim()?`${z.term.trim()} : ${z.definition.trim()}`:z.definition.trim()).join(`
`),Sf=()=>{rt(null),lt(""),bt(""),vt([]),$e(!0)},Ef=A=>{rt(A),lt(A.title||""),bt(A.description||""),vt(Nf(A.description||"")),$e(!0)},Rf=async()=>{if(!it.trim()){Ie({title:"Error",description:"Page title is required",variant:"destructive"});return}const A=Cf(mt);try{qe?await Nn.mutateAsync({id:qe.id,updates:{title:it.trim(),description:A}}):await Ms.mutateAsync({title:it.trim(),description:A,sortOrder:Tr.length}),$e(!1),rt(null),lt(""),bt("")}catch(z){console.error("Error saving page:",z)}},Df=A=>{if(Tr.length<=1){Ie({title:"Error",description:"Cannot delete the last page",variant:"destructive"});return}se(A),K(!0)},Pf=async()=>{if(!re)return;const A=Tr.findIndex(z=>z.id===re.id);try{await Fs.mutateAsync(re.id),A!==-1&&V>=A&&V>0&&ce(z=>Math.max(0,z-1)),K(!1),se(null)}catch(z){console.error("Error deleting page:",z)}},If=()=>{K(!1),se(null)},It=p.useMemo(()=>[...Tr].sort((A,z)=>A.sortOrder-z.sortOrder),[Tr]);p.useEffect(()=>{It.length>0&&V>=It.length&&ce(Math.max(0,It.length-1))},[It.length,V]),It[V];const Tf=p.useMemo(()=>{if(x.length===0||m.length===0)return Xe;let A=x.map(z=>Xe.find(be=>be.id===z)).filter(z=>z!==void 0).filter(z=>m.includes(z.id));return e||(A=A.filter(z=>z.dataKey!=="latitude"&&z.dataKey!=="longitude"&&z.dataKey!=="tollPrice")),A},[Xe,x,m,e]),Af=Array.from(new Set(tt.map(A=>A.route).filter(Boolean))).filter(A=>A!=="Warehouse").sort(),Of=Array.from(new Set(tt.map(A=>A.delivery).filter(Boolean))).filter(A=>A!=="Available").sort(),lr=(()=>{const A=i.length>0,z=tt.find(_e=>_e.location==="QL Kitchen"),be=tt.filter(_e=>{const xe=a===""||Object.values(_e).some(et=>String(et).toLowerCase().includes(a.toLowerCase())),We=i.length===0||i.includes(_e.route),Je=c.length===0||!c.includes(_e.delivery);return xe&&We&&Je});if(A&&z){const _e=be.filter(We=>We.location!=="QL Kitchen");return a===""||Object.values(z).some(We=>String(We).toLowerCase().includes(a.toLowerCase()))?[z,..._e]:_e}return be})(),Lf=p.useMemo(()=>{const A=tt.find(xe=>xe.location==="QL Kitchen");if(!A)return lr.map(xe=>({...xe,kilometer:"",segmentDistance:0}));if(!A.latitude||!A.longitude)return lr.map(xe=>({...xe,kilometer:"",segmentDistance:0}));const z=parseFloat(A.latitude),be=parseFloat(A.longitude);if(!Number.isFinite(z)||!Number.isFinite(be))return lr.map(xe=>({...xe,kilometer:"",segmentDistance:0}));if(a!==""||i.length>0||c.length>0){let xe=0,We=z,Je=be;return lr.map((et,_s)=>{if(et.location==="QL Kitchen")return xe=0,We=z,Je=be,{...et,kilometer:0,segmentDistance:0};if(!et.latitude||!et.longitude)return{...et,kilometer:"",segmentDistance:0};const tr=parseFloat(et.latitude),Wt=parseFloat(et.longitude);if(!Number.isFinite(tr)||!Number.isFinite(Wt))return{...et,kilometer:"",segmentDistance:0};const Yr=Ss(We,Je,tr,Wt);return xe+=Yr,We=tr,Je=Wt,{...et,kilometer:xe,segmentDistance:Yr}})}else return lr.map(xe=>{if(xe.location==="QL Kitchen")return{...xe,kilometer:0,segmentDistance:0};if(!xe.latitude||!xe.longitude)return{...xe,kilometer:"",segmentDistance:0};const We=parseFloat(xe.latitude),Je=parseFloat(xe.longitude);if(!Number.isFinite(We)||!Number.isFinite(Je))return{...xe,kilometer:"",segmentDistance:0};const et=Ss(z,be,We,Je);return{...xe,kilometer:et,segmentDistance:et}})},[tt,lr,a,i,c]),Mf=async()=>{o(""),l([]),d([]);const A=tt.map(z=>z.location!=="QL Kitchen"&&z.no!==z.sortOrder?Da.mutateAsync({id:z.id,updates:{no:z.sortOrder}}):Promise.resolve());await Promise.all(A)},Ff=()=>{q(!0)},_f=()=>{q(!1),Ie({title:"Data Saved",description:"Table data has been saved successfully."})},zf=()=>{if(!e){Ie({title:"Access Denied",description:"Please enable Edit mode to add new rows.",variant:"destructive"});return}C(!0)},$f=async()=>{try{const{tngSite:A,tngRoute:z}=Lc(),be={no:0,route:"New Route",location:"New Location",delivery:"Pending",tngSite:A,tngRoute:z,images:[]};D==="end"?(await ll.mutateAsync(be),Ie({title:"Row Added",description:"New row has been added to the end of the table."})):(await ll.mutateAsync(be),Ie({title:"Row Added",description:`New row has been added at position ${$}.`})),C(!1)}catch{Ie({title:"Error",description:"Failed to add new row.",variant:"destructive"})}},Bf=async(A,z)=>{f(A),b(z),ul(A,z);try{const be=z.filter(We=>Xe.some(Je=>Je.id===We)),_e=Xe.reduce((We,Je)=>(We[Je.id]=A.includes(Je.id),We),{}),xe=Ga();await fetch("/api/layout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:xe,columnOrder:be,columnVisibility:_e})})}catch(be){console.error("Failed to save layout to database:",be)}Ie({title:"Columns Updated",description:"Your column preferences have been saved."})},Uf=async()=>{e?me(!0):g?(O(!0),await new Promise(A=>setTimeout(A,1e3)),O(!1),t(!0),Ie({title:"Edit Mode Enabled",description:"You can now edit and modify table data."})):(j("edit"),w(!0))},Gf=async()=>{me(!1),u(!1),C(!1),n(null),j(null),O(!0);try{const z={userId:Ga(),columnVisibility:Object.fromEntries(Xe.map(be=>[be.id,m.includes(be.id)])),columnOrder:x};await Be("POST","/api/layout",z)}catch(A){console.error("Failed to auto-save layout:",A)}await new Promise(A=>setTimeout(A,1e3)),t(!1),v(!1),O(!1),Ie({title:"Edit Mode Disabled",description:"Layout auto-saved. Edit mode has been turned off and password cleared."})},Vf=()=>{me(!1)};p.useEffect(()=>{!e&&g&&v(!1)},[e,g]),p.useEffect(()=>{localStorage.getItem("hasSlideCarousel")==="true"&&er(!1)},[]),p.useEffect(()=>{const A=setInterval(()=>{He(new Date)},1e3);return()=>clearInterval(A)},[]);const qf=A=>{const z={weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return A.toLocaleString("en-US",z)};p.useEffect(()=>{ht&&(ht.scrollTo(0,!1),Ce(0))},[ht]),p.useEffect(()=>{if(!ht)return;const A=()=>{const z=ht.selectedScrollSnap(),be=pe;Pt.current&&clearTimeout(Pt.current),R(be),Ce(z),Pa(),Pt.current=setTimeout(()=>{R(null),Pt.current=null},400)};return Ce(ht.selectedScrollSnap()),ht.on("select",A),()=>{ht.off("select",A),Pt.current&&clearTimeout(Pt.current)}},[ht,pe]);const Pa=()=>{er(!1),localStorage.setItem("hasSlideCarousel","true")},Hf=async()=>{v(!0),k==="edit"&&(O(!0),await new Promise(A=>setTimeout(A,1e3)),O(!1),t(!0),Ie({title:"Edit Mode Enabled",description:"You can now edit and modify table data."})),j(null)},Wf=async()=>{if(!e){Ie({title:"Access Denied",description:"Please enable Edit mode to generate TnG values.",variant:"destructive"});return}try{const A=lr.filter(z=>!z.tngSite||z.tngSite===""||z.tngSite==="Site"||!z.tngRoute||z.tngRoute===""||z.tngRoute==="Route");if(A.length===0){Ie({title:"No Rows to Update",description:"All rows already have TnG values assigned."});return}for(const z of A){const{tngSite:be,tngRoute:_e}=Lc();await Da.mutateAsync({id:z.id,updates:{tngSite:be,tngRoute:_e}})}Ie({title:"TnG Values Generated",description:`Generated TnG values for ${A.length} row${A.length!==1?"s":""}.`})}catch{Ie({title:"Error",description:"Failed to generate TnG values.",variant:"destructive"})}},Kf=async()=>{if(!e){Ie({title:"Access Denied",description:"Please enable Edit mode to calculate tolls.",variant:"destructive"});return}try{if(Ie({title:"Calculating Tolls",description:"Computing toll prices using Google Maps"}),!(await fetch("/api/calculate-tolls",{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error;Ie({title:"Tolls Calculated",description:"Toll prices have been updated."}),window.location.reload()}catch{Ie({title:"Error",description:"Failed to calculate tolls.",variant:"destructive"})}},[Qf,ml]=ke.useState(!1),[Yf,hl]=ke.useState(!1);return ke.useEffect(()=>{if(sessionStorage.getItem("routevm_loaded")){hl(!1);const z=setTimeout(()=>{ml(!0)},1e3);return()=>clearTimeout(z)}else{hl(!0);const z=setTimeout(()=>{ml(!0),sessionStorage.setItem("routevm_loaded","true")},5e3);return()=>clearTimeout(z)}},[]),ke.useEffect(()=>{const A=()=>{sessionStorage.removeItem("routevm_loaded")},z=()=>{document.hidden&&sessionStorage.removeItem("routevm_loaded")};return window.addEventListener("beforeunload",A),document.addEventListener("visibilitychange",z),()=>{window.removeEventListener("beforeunload",A),document.removeEventListener("visibilitychange",z)}},[]),zt||!Qf?s.jsx("div",{className:"min-h-screen relative",children:Yf?s.jsx(qi,{message:"Loading table data...",type:"wave"}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Loading..."})]})})}):s.jsxs(s.Fragment,{children:[_&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-slate-50/95 to-slate-100/95 dark:from-slate-900/95 dark:to-slate-800/95 backdrop-blur-sm",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Loading..."})]})}),s.jsx("div",{className:"animate-in fade-in duration-500",children:s.jsx(FN,{editMode:e,onEditModeRequest:Uf,onShowCustomization:()=>u(!0),onAddRow:zf,onSaveData:Ff,onGenerateTng:Wf,onOptimizeRoute:()=>he(!0),onCalculateTolls:Kf,onSaveLayout:()=>{},onSavedLinks:()=>de(!0),onShowTutorial:()=>Ue(!0),onBulkColorModal:()=>Pr(!0),onAddColumn:async A=>{try{const z=await kf.mutateAsync(A),be=[...m,z.id],_e=[...x,z.id];f(be),b(_e),ul(be,_e),Ie({title:"Success",description:`Column "${A.name}" created successfully!`})}catch(z){throw console.error("Failed to create column:",z),z}},isAuthenticated:!0})}),s.jsx("main",{className:"pt-[72px] animate-in slide-in-from-bottom-4 fade-in duration-700 delay-150",children:s.jsxs("div",{className:"container mx-auto px-4 py-8","data-testid":"table-page",children:[s.jsx("div",{className:"mb-8 relative animate-in fade-in slide-in-from-top-2 duration-600 delay-300",children:It.length>0?s.jsxs(Yp,{className:"w-full pb-16",opts:{loop:It.length>1},setApi:J,children:[s.jsxs("div",{className:"overflow-hidden rounded-xl border border-blue-200 dark:border-blue-500/30 bg-gradient-to-r from-blue-50/80 to-white/80 dark:from-blue-950/40 dark:to-gray-900/40 backdrop-blur-sm shadow-lg transition-all duration-500",children:[s.jsx(Xp,{children:It.map((A,z)=>{const be=z===pe,_e=z===S;return s.jsxs(Jp,{className:be&&S!==null?"carousel-zoom-in":_e&&S!==null?"carousel-zoom-out":"",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-3 cursor-pointer hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors duration-300 text-sm",onClick:()=>ge(!P),children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[It.length>1&&yt&&s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("style",{children:`
                                @keyframes slideLeft {
                                  0%, 100% { opacity: 0.3; transform: translateX(0px); }
                                  50% { opacity: 1; transform: translateX(-4px); }
                                }
                                .arrow-left-1 { animation: slideLeft 1.5s ease-in-out infinite; animation-delay: 0s; }
                                .arrow-left-2 { animation: slideLeft 1.5s ease-in-out infinite; animation-delay: 0.2s; }
                                .arrow-left-3 { animation: slideLeft 1.5s ease-in-out infinite; animation-delay: 0.4s; }
                              `}),s.jsx("svg",{className:"w-4 h-4 text-blue-500 dark:text-blue-400 arrow-left-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),s.jsx("svg",{className:"w-4 h-4 text-blue-500 dark:text-blue-400 arrow-left-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),s.jsx("svg",{className:"w-4 h-4 text-blue-500 dark:text-blue-400 arrow-left-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),s.jsx("h1",{className:"font-bold text-gray-500 dark:text-blue-300",style:{fontSize:"12px"},"data-testid":`page-title-${A.id}`,children:A.title||"Untitled"}),It.length>1&&yt&&s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("style",{children:`
                                @keyframes slideRight {
                                  0%, 100% { opacity: 0.3; transform: translateX(0px); }
                                  50% { opacity: 1; transform: translateX(4px); }
                                }
                                .arrow-right-1 { animation: slideRight 1.5s ease-in-out infinite; animation-delay: 0s; }
                                .arrow-right-2 { animation: slideRight 1.5s ease-in-out infinite; animation-delay: 0.2s; }
                                .arrow-right-3 { animation: slideRight 1.5s ease-in-out infinite; animation-delay: 0.4s; }
                              `}),s.jsx("svg",{className:"w-4 h-4 text-blue-500 dark:text-blue-400 arrow-right-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),s.jsx("svg",{className:"w-4 h-4 text-blue-500 dark:text-blue-400 arrow-right-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),s.jsx("svg",{className:"w-4 h-4 text-blue-500 dark:text-blue-400 arrow-right-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),e&&s.jsxs("div",{className:"flex items-center gap-2",onClick:xe=>xe.stopPropagation(),children:[s.jsx(I,{size:"sm",variant:"ghost",onClick:()=>Ef(A),className:"h-6 w-6 p-0","data-testid":`button-edit-page-${A.id}`,children:s.jsx(_x,{className:"h-3 w-3 text-blue-500 dark:text-blue-400"})}),It.length>1&&s.jsx(I,{size:"sm",variant:"ghost",onClick:()=>Df(A),disabled:Fs.isPending,className:"h-6 w-6 p-0","data-testid":`button-delete-page-${A.id}`,children:s.jsx(es,{className:"h-3 w-3 text-red-500 dark:text-red-400"})})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"p-2 rounded-full hover:bg-blue-200/50 dark:hover:bg-blue-800/50 transition-all duration-300 group","data-testid":"button-toggle-header",children:P?s.jsx(wu,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform duration-300"}):s.jsx(ma,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform duration-300"})})})]}),s.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${P?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:s.jsxs("div",{className:"px-4 pb-3 border-t border-blue-200/50 dark:border-blue-500/20 pt-3 bg-gradient-to-b from-blue-50/30 to-transparent dark:from-blue-950/20 dark:to-transparent",children:[s.jsx("dl",{className:"space-y-1",style:{fontSize:"10px",lineHeight:"1.4"},"data-testid":`page-description-${A.id}`,children:(A.description||"").split(`
`).map((xe,We)=>{const Je=xe.trim();if(!Je)return null;if(Je.includes(":")){const[et,..._s]=Je.split(":"),tr=_s.join(":").trim();return s.jsxs("div",{className:"flex items-start gap-3",style:{lineHeight:"1.4"},children:[s.jsx("dt",{className:"w-18 flex-shrink-0 font-semibold text-blue-600 dark:text-blue-400",style:{margin:0,padding:0},children:et.trim()}),s.jsx("dd",{className:"flex-1 text-gray-700 dark:text-gray-300",style:{margin:0,padding:0},children:tr})]},We)}return s.jsx("p",{className:"text-gray-700 dark:text-gray-300",style:{margin:"2px 0",lineHeight:"1.4"},children:Je},We)})}),s.jsx("div",{className:"mt-3 pt-2 border-t border-blue-200/30 dark:border-blue-500/10 flex justify-end",children:s.jsx("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-normal",children:qf(le)})})]})})]},A.id)})}),e&&s.jsx("div",{className:"px-6 pb-4 border-t border-blue-200/50 dark:border-blue-500/20",children:s.jsxs(I,{onClick:Sf,className:"w-full mt-4 bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700","data-testid":"button-add-page",children:[s.jsx(Er,{className:"h-4 w-4 mr-2"}),"Add Page"]})})]}),It.length>1&&e&&s.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[s.jsx(Zp,{className:"relative left-0 top-0 translate-x-0 translate-y-0","data-testid":"button-prev-page",onClick:Pa}),s.jsx(ef,{className:"relative right-0 top-0 translate-x-0 translate-y-0","data-testid":"button-next-page",onClick:Pa})]})]}):s.jsx("div",{className:"overflow-hidden rounded-xl border border-blue-200 dark:border-blue-500/30 bg-gradient-to-r from-blue-50/80 to-white/80 dark:from-blue-950/40 dark:to-gray-900/40 backdrop-blur-sm shadow-lg transition-all duration-500 px-6 py-4 text-center text-gray-500",children:s.jsx("p",{children:"No pages available"})})}),s.jsx(ze,{open:Te,onOpenChange:$e,children:s.jsxs(Ae,{"data-testid":"dialog-page-form",children:[s.jsxs(Oe,{children:[s.jsx(Le,{style:{fontSize:"10px"},children:qe?"Edit Page":"Add Page"}),s.jsx(Ke,{style:{fontSize:"10px"},children:qe?"Update the page details below.":"Create a new page with a title and description."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"page-title",style:{fontSize:"10px"},children:"Title"}),s.jsx(Pe,{id:"page-title",value:it,onChange:A=>lt(A.target.value),placeholder:"Enter page title...",style:{fontSize:"10px"},"data-testid":"input-page-title"})]}),s.jsxs("div",{children:[s.jsx(ve,{style:{fontSize:"10px"},children:"Description"}),s.jsxs("div",{className:"space-y-3 border border-gray-200 dark:border-gray-700 rounded-md p-3",children:[mt.length>0?s.jsx("div",{className:"space-y-2",children:mt.map((A,z)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Pe,{value:A.term,onChange:be=>{const _e=[...mt];_e[z].term=be.target.value,vt(_e)},className:"w-24",style:{fontSize:"10px"},placeholder:"Term","data-testid":`input-page-item-term-${z}`}),s.jsx(Pe,{value:A.definition,onChange:be=>{const _e=[...mt];_e[z].definition=be.target.value,vt(_e)},className:"flex-1",style:{fontSize:"10px"},placeholder:"Definition","data-testid":`input-page-item-definition-${z}`}),s.jsx(I,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-red-600 hover:text-red-700",onClick:()=>{const be=mt.filter((_e,xe)=>xe!==z);vt(be)},"data-testid":`button-remove-page-item-${z}`,children:s.jsx(es,{className:"w-3 h-3"})})]},z))}):s.jsx("p",{className:"text-muted-foreground",style:{fontSize:"10px"},children:'No items yet. Click "Add Item" to start.'}),s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>{vt([...mt,{term:"",definition:""}])},className:"bg-transparent border-transparent hover:bg-transparent hover:border-transparent text-blue-600 hover:text-blue-700",style:{fontSize:"10px"},"data-testid":"button-add-page-item",children:[s.jsx(Er,{className:"w-3 h-3 mr-1"}),"Add Item"]})]})]})]}),s.jsxs(Qe,{children:[s.jsx(I,{variant:"outline",onClick:()=>$e(!1),disabled:Ms.isPending||Nn.isPending,style:{fontSize:"10px"},"data-testid":"button-cancel-page",children:"Cancel"}),s.jsx(I,{onClick:Rf,disabled:Ms.isPending||Nn.isPending||!it.trim(),style:{fontSize:"10px"},"data-testid":"button-save-page",children:Ms.isPending||Nn.isPending?"Saving...":"Save"})]})]})}),s.jsx(ze,{open:G,onOpenChange:K,children:s.jsxs(Ae,{className:"sm:max-w-md animate-in zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 duration-300 bg-gradient-to-br from-red-50 to-white dark:from-red-950/40 dark:to-gray-900 border-red-200 dark:border-red-500/30 shadow-2xl",children:[s.jsxs(Oe,{className:"space-y-3",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center animate-in zoom-in-50 duration-500 delay-100",children:s.jsx(es,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),s.jsx(Le,{className:"text-center text-red-900 dark:text-red-100",style:{fontSize:"14px"},children:"Delete Page"}),s.jsxs(Ke,{className:"text-center text-gray-600 dark:text-gray-400",style:{fontSize:"11px"},children:['Are you sure you want to delete the page "',re==null?void 0:re.title,'"? This action cannot be undone.']})]}),s.jsxs(Qe,{className:"flex-row justify-center gap-3 sm:justify-center mt-4",children:[s.jsx(I,{variant:"outline",onClick:If,disabled:Fs.isPending,className:"min-w-[100px] border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800",style:{fontSize:"11px"},"data-testid":"button-cancel-delete-page",children:"Cancel"}),s.jsx(I,{onClick:Pf,disabled:Fs.isPending,className:"min-w-[100px] bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 text-white shadow-lg",style:{fontSize:"11px"},"data-testid":"button-confirm-delete-page",children:Fs.isPending?"Deleting...":"Delete Page"})]})]})}),r&&r!=="access-denied"&&!B&&(()=>{const A=tt.find(be=>be.id===r);return A?A.images&&A.images.length>0?s.jsx(DN,{rowId:r,images:A.images,location:A.location,onClose:()=>n(null),onAddImage:cl,onUpdateImage:yf,onDeleteImage:wf}):s.jsx(RN,{rowId:r,location:A.location,onClose:()=>n(null),onAddImage:cl}):null})(),s.jsx("div",{ref:Ir,className:"animate-in fade-in slide-in-from-bottom-3 duration-700 delay-500",children:s.jsx(Hi,{rows:Lf,columns:Tf,editMode:e,onUpdateRow:Da,onDeleteRow:xf,onReorderRows:bf,onReorderColumns:vf,onDeleteColumn:jf,onSelectRowForImage:A=>{A==="access-denied"?Ie({title:"Access Denied",description:"Please enable Edit mode to add images.",variant:"destructive"}):n(A)},onShowCustomization:()=>u(!0),onOptimizeRoute:()=>he(!0),onShareTable:()=>X(!0),onSavedLinks:()=>de(!0),isAuthenticated:g,isLoading:B,isFiltered:a!==""||i.length>0||c.length>0,searchTerm:a,onSearchTermChange:o,filterValue:i,onFilterValueChange:l,deliveryFilterValue:c,onDeliveryFilterValueChange:d,routeOptions:Af,deliveryOptions:Of,onClearAllFilters:Mf,filteredRowsCount:lr.length,totalRowsCount:tt.length})}),s.jsx(LN,{open:h&&!B,onOpenChange:u,columns:Xe,visibleColumns:m,onApplyChanges:Bf,editMode:e}),B&&s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-500/20 via-blue-600/30 to-blue-700/20 dark:from-blue-600/30 dark:via-blue-700/40 dark:to-blue-800/30 backdrop-blur-lg z-50 flex items-center justify-center animate-in fade-in duration-300",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 -m-8",children:s.jsxs("div",{className:"w-32 h-32 mx-auto",children:[s.jsx("div",{className:"absolute inset-0 bg-blue-500/20 dark:bg-blue-400/20 rounded-full animate-ping",style:{animationDuration:"1.5s"}}),s.jsx("div",{className:"absolute inset-0 bg-blue-500/10 dark:bg-blue-400/10 rounded-full animate-pulse"})]})}),s.jsx("div",{className:"relative bg-white/95 dark:bg-slate-900/95 rounded-2xl p-8 shadow-2xl border-2 border-blue-500/30 dark:border-blue-400/30 backdrop-blur-xl",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs("div",{className:"relative w-16 h-16",children:[s.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-blue-200 dark:border-blue-800"}),s.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-500 dark:border-t-blue-400 animate-spin"}),s.jsx("div",{className:"absolute inset-2 rounded-full bg-gradient-to-br from-blue-500/20 to-blue-600/20 dark:from-blue-400/20 dark:to-blue-500/20 animate-pulse"})]}),s.jsxs("div",{className:"text-center space-y-1",children:[s.jsx("div",{className:"text-lg font-semibold bg-gradient-to-r from-blue-600 to-blue-700 dark:from-blue-400 dark:to-blue-500 bg-clip-text text-transparent",children:"Exiting Edit Mode"}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Saving changes and clearing authentication..."})]}),s.jsx("div",{className:"w-48 h-1.5 bg-blue-100 dark:bg-blue-900 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-400 dark:to-blue-500 rounded-full animate-pulse",style:{width:"100%"}})})]})})]})}),s.jsx(bp,{open:y&&!B,onOpenChange:A=>{w(A),A||j(null)},onSuccess:Hf,title:"Authentication Required",description:"Please enter the password to access edit mode."}),s.jsx(ze,{open:U&&!B,onOpenChange:me,children:s.jsxs(Ae,{className:"sm:max-w-md animate-in zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 duration-300 bg-gradient-to-br from-red-50 to-white dark:from-red-950/40 dark:to-gray-900 border-red-200 dark:border-red-500/30 shadow-2xl",children:[s.jsxs(Oe,{className:"space-y-3",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center animate-in zoom-in-50 duration-500 delay-100",children:s.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),s.jsx(Le,{className:"text-center text-red-900 dark:text-red-100",style:{fontSize:"14px"},children:"Exit Edit Mode"}),s.jsx(Ke,{className:"text-center text-gray-600 dark:text-gray-400",style:{fontSize:"11px"},children:"Are you sure you want to exit edit mode? Your authentication will be cleared and you'll need to enter the password again to re-enable edit mode."})]}),s.jsxs(Qe,{className:"flex-row justify-center gap-3 sm:justify-center mt-4",children:[s.jsx(I,{variant:"outline",onClick:Vf,className:"min-w-[100px] border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800",style:{fontSize:"11px"},"data-testid":"button-cancel-exit",children:"Cancel"}),s.jsx(I,{onClick:Gf,className:"min-w-[100px] bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 text-white shadow-lg",style:{fontSize:"11px"},"data-testid":"button-confirm-exit",children:"Exit Edit Mode"})]})]})}),s.jsx(ze,{open:Se,onOpenChange:q,children:s.jsxs(Ae,{className:"sm:max-w-md animate-in zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 duration-300 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/40 dark:to-gray-900 border-blue-200 dark:border-blue-500/30 shadow-2xl",children:[s.jsxs(Oe,{className:"space-y-3",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center animate-in zoom-in-50 duration-500 delay-100",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx(Le,{className:"text-center text-blue-900 dark:text-blue-100",style:{fontSize:"14px"},children:"Confirm Save Changes"}),s.jsx(Ke,{className:"text-center text-gray-600 dark:text-gray-400",style:{fontSize:"11px"},children:"Are you sure you want to save all changes made to the table data?"})]}),s.jsxs(Qe,{className:"flex-row justify-center gap-3 sm:justify-center mt-4",children:[s.jsx(I,{variant:"outline",onClick:()=>q(!1),className:"min-w-[100px] border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800",style:{fontSize:"11px"},"data-testid":"button-cancel-save",children:"Cancel"}),s.jsx(I,{onClick:_f,className:"min-w-[100px] bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white shadow-lg",style:{fontSize:"11px"},"data-testid":"button-confirm-save",children:"Save Changes"})]})]})}),s.jsx(ze,{open:E&&!B,onOpenChange:C,children:s.jsxs(Ae,{className:"sm:max-w-md",children:[s.jsxs(Oe,{children:[s.jsx(Le,{style:{fontSize:"12px"},children:"Select Row Position"}),s.jsx(Ke,{style:{fontSize:"10px"},children:"Choose where to insert the new row in the table."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ss,{value:D,onValueChange:A=>T(A),className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"end",id:"end"}),s.jsxs(ve,{htmlFor:"end",style:{fontSize:"10px"},children:["Add to end of list (Position ",tt.length+1,")"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{value:"specific",id:"specific"}),s.jsx(ve,{htmlFor:"specific",style:{fontSize:"10px"},children:"Insert at specific position"})]})]}),D==="specific"&&s.jsxs("div",{className:"ml-6 space-y-2",children:[s.jsxs(ve,{htmlFor:"position",style:{fontSize:"10px"},children:["Position (1 to ",tt.length+1,"):"]}),s.jsx(Pe,{id:"position",type:"number",value:$,onChange:A=>M(Math.max(1,Math.min(tt.length+1,parseInt(A.target.value)||1))),min:1,max:tt.length+1,className:"w-20",style:{fontSize:"10px"}})]})]}),s.jsxs(Qe,{className:"space-x-2",children:[s.jsx(I,{variant:"outline",onClick:()=>C(!1),style:{fontSize:"10px"},children:"Cancel"}),s.jsx(I,{onClick:$f,style:{fontSize:"10px"},children:"Add Row"})]})]})}),s.jsx(_N,{open:oe,onOpenChange:he,rows:tt}),s.jsx(zN,{open:te,onOpenChange:X,tableState:{filters:{searchTerm:a,routeFilters:i,deliveryFilters:c},sorting:null,columnVisibility:Xe.reduce((A,z)=>(A[z.id]=m.includes(z.id),A),{}),columnOrder:x}}),s.jsx(l2,{open:ae,onOpenChange:de}),ie&&s.jsx(d2,{editMode:e,onClose:()=>Ue(!1)})]})}),s.jsx(u2,{isOpen:Ls,onClose:()=>Pr(!1),rows:tt}),s.jsx(kn,{editMode:e})]})}function Q2(){const[,e]=Od("/share/:shareId"),t=e==null?void 0:e.shareId;gi();const{rows:r,columns:n,isLoading:a}=xi(),{data:o,isLoading:i,error:l}=qt({queryKey:["/api/share-table",t],enabled:!!t}),c=(o==null?void 0:o.remark)||"",[d,h]=p.useState(""),[u,m]=p.useState([]),[f,x]=p.useState([]),[b,g]=p.useState(null),[v,y]=p.useState(!1),[w,k]=p.useState(!1),[j,E]=p.useState(!1),[C,D]=p.useState(!1);p.useEffect(()=>{o!=null&&o.tableState&&(h(o.tableState.filters.searchTerm||""),m(o.tableState.filters.deliveryFilters||[]),x(o.tableState.filters.routeFilters||[]))},[o]);const{filteredRows:T,displayColumns:$,deliveryOptions:M}=p.useMemo(()=>{if(r.length===0||n.length===0)return{filteredRows:r,displayColumns:n,deliveryOptions:[]};const oe=Array.from(new Set(r.map(ae=>ae.delivery).filter(Boolean)));let he=[...r];const Se=new Date().getDay(),q=[1,3,5,0].includes(Se),te=[2,4,6].includes(Se);he=he.sort((ae,de)=>{const V=ae.deliveryAlt||"normal",ce=de.deliveryAlt||"normal";if(V==="inactive"&&ce!=="inactive")return 1;if(V!=="inactive"&&ce==="inactive")return-1;if(q){if((V==="alt1"||V==="normal")&&ce==="alt2")return-1;if(V==="alt2"&&(ce==="alt1"||ce==="normal"))return 1}else if(te){if((V==="alt2"||V==="normal")&&ce==="alt1")return-1;if(V==="alt1"&&(ce==="alt2"||ce==="normal"))return 1}return 0}),f.length>0&&(he=he.filter(ae=>f.includes(ae.route))),d&&(he=he.filter(ae=>Object.values(ae).some(de=>String(de).toLowerCase().includes(d.toLowerCase())))),u.length>0&&(he=he.filter(ae=>!u.includes(ae.delivery)));let X=n;if(o!=null&&o.tableState){const{columnVisibility:ae,columnOrder:de}=o.tableState;X=n.filter(ce=>ae[ce.id]!==!1),X=de.map(ce=>X.find(Te=>Te.id===ce)).filter(ce=>ce!==void 0)}return X=X.filter(ae=>ae.dataKey!=="latitude"&&ae.dataKey!=="longitude"&&ae.dataKey!=="tollPrice"),{filteredRows:he,displayColumns:X,deliveryOptions:oe}},[r,n,o,d,u,f]),U=p.useMemo(()=>{const oe=r.find(te=>te.location==="QL Kitchen");if(!oe||!oe.latitude||!oe.longitude)return T.map(te=>({...te,kilometer:"",segmentDistance:0}));const he=parseFloat(oe.latitude),Se=parseFloat(oe.longitude);if(!Number.isFinite(he)||!Number.isFinite(Se))return T.map(te=>({...te,kilometer:"",segmentDistance:0}));if(d!==""||f.length>0||u.length>0){let te=0,X=he,ae=Se;return T.map(de=>{if(de.location==="QL Kitchen")return te=0,X=he,ae=Se,{...de,kilometer:0,segmentDistance:0};if(!de.latitude||!de.longitude)return{...de,kilometer:"",segmentDistance:0};const V=parseFloat(de.latitude),ce=parseFloat(de.longitude);if(!Number.isFinite(V)||!Number.isFinite(ce))return{...de,kilometer:"",segmentDistance:0};const Te=Ss(X,ae,V,ce);return te+=Te,X=V,ae=ce,{...de,kilometer:te,segmentDistance:Te}})}else return T.map(te=>{if(te.location==="QL Kitchen")return{...te,kilometer:0,segmentDistance:0};if(!te.latitude||!te.longitude)return{...te,kilometer:"",segmentDistance:0};const X=parseFloat(te.latitude),ae=parseFloat(te.longitude);if(!Number.isFinite(X)||!Number.isFinite(ae))return{...te,kilometer:"",segmentDistance:0};const de=Ss(he,Se,X,ae);return{...te,kilometer:de,segmentDistance:de}})},[r,T,d,f,u]),me=De({mutationFn:async oe=>(console.log("Read-only mode: Changes not saved",oe),oe)}),B=De({mutationFn:async oe=>{console.log("Read-only mode: Delete not allowed",oe)}}),F=De({mutationFn:async oe=>oe.map(Se=>r.find(q=>q.id===Se)).filter(Se=>Se!==void 0)}),_=De({mutationFn:async oe=>oe.map(Se=>n.find(q=>q.id===Se)).filter(Se=>Se!==void 0)}),O=De({mutationFn:async oe=>{console.log("Read-only mode: Column delete not allowed",oe)}}),ee=()=>{h(""),m([])},H=async()=>{k(!0),E(!1),D(!0),await new Promise(oe=>setTimeout(oe,1e3)),D(!1),y(!0)},[L,W]=ke.useState(!1),[P,ge]=ke.useState(!1);return ke.useEffect(()=>{if(sessionStorage.getItem("routevm_loaded")){ge(!1);const he=setTimeout(()=>{W(!0)},1e3);return()=>clearTimeout(he)}else{ge(!0);const he=setTimeout(()=>{W(!0),sessionStorage.setItem("routevm_loaded","true")},5e3);return()=>clearTimeout(he)}},[]),ke.useEffect(()=>{const oe=()=>{sessionStorage.removeItem("routevm_loaded")},he=()=>{document.hidden&&sessionStorage.removeItem("routevm_loaded")};return window.addEventListener("beforeunload",oe),document.addEventListener("visibilitychange",he),()=>{window.removeEventListener("beforeunload",oe),document.removeEventListener("visibilitychange",he)}},[]),a||i||!L?s.jsx("div",{className:"min-h-screen relative",children:P?s.jsx(qi,{message:"Loading shared table...",type:"wave"}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Loading..."})]})})}):l||!o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex h-16 w-16 mx-auto items-center justify-center rounded-lg bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400",children:s.jsx(mi,{className:"h-8 w-8"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Shared Table Not Found"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"The shared table you're looking for doesn't exist or has been removed."})]})}):s.jsxs(s.Fragment,{children:[C&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-slate-50/95 to-slate-100/95 dark:from-slate-900/95 dark:to-slate-800/95 backdrop-blur-sm",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Loading..."})]})}),s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b-2 border-blue-500/50 dark:border-blue-400/50 bg-gradient-to-r from-blue-500/10 via-blue-600/10 to-blue-700/10 dark:from-blue-500/20 dark:via-blue-600/20 dark:to-blue-700/20 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-lg shadow-blue-500/20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex h-14 items-center justify-between text-[12px]",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg overflow-hidden",children:s.jsx("img",{src:"/assets/Logofm.png",alt:"Logo",className:"h-full w-full object-cover"})}),s.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300 text-[12px]",children:c||"Shared Table"})]})}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Shared View"})]})})}),s.jsx("main",{className:"pt-[56px]",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.length>0&&s.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg border-2 border-transparent",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-xs font-semibold text-blue-900 dark:text-blue-100",children:[" Showing Routes: ",f.join(", ")]})})}),s.jsx(Hi,{rows:U,columns:$,editMode:v,isSharedView:!0,hideShareButton:!0,disablePagination:!0,onUpdateRow:me,onDeleteRow:B,onReorderRows:F,onReorderColumns:_,onDeleteColumn:O,onSelectRowForImage:g,onShowCustomization:()=>{},onOptimizeRoute:()=>{},isAuthenticated:w,searchTerm:d,onSearchTermChange:h,filterValue:[],onFilterValueChange:()=>{},deliveryFilterValue:u,onDeliveryFilterValueChange:m,routeOptions:[],deliveryOptions:M,onClearAllFilters:ee,filteredRowsCount:U.length,totalRowsCount:r.length})]})}),s.jsx(kn,{editMode:v}),s.jsx(bp,{open:j,onOpenChange:E,onSuccess:H,title:"Enter Password to Edit",description:"Please enter your password to enable edit mode on this shared table."})]})}function Y2(){const[e,t]=p.useState(new Set),[r,n]=p.useState(!1),[a,o]=p.useState(!1),[i,l]=p.useState(null),[c,d]=p.useState(""),[h,u]=p.useState(""),[m,f]=p.useState(""),[x,b]=p.useState(""),[g,v]=p.useState(""),[y,w]=p.useState([]),{toast:k}=Nt(),j=Qr();gi();const[,E]=si(),{data:C=[],isLoading:D}=qt({queryKey:["/api/table-rows"]}),{data:T=[],isLoading:$}=qt({queryKey:["/api/custom-tables"]}),M=C.filter(L=>{const W=g===""||Object.values(L).some(ge=>String(ge).toLowerCase().includes(g.toLowerCase())),P=y.length===0||!y.includes(L.delivery);return W&&P});Array.from(new Set(C.map(L=>L.delivery).filter(Boolean)));const U=De({mutationFn:async L=>{const W=await Be("POST","/api/custom-tables",L);if(!W.ok)throw new Error("Failed to create custom table");return W.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/custom-tables"]}),n(!1),d(""),u(""),t(new Set),k({title:"Custom table created!",description:"Your custom table has been created successfully."})},onError:()=>{k({title:"Error",description:"Failed to create custom table. Please try again.",variant:"destructive"})}}),me=De({mutationFn:async L=>{const W=await Be("PUT",`/api/custom-tables/${L.id}/rows`,{name:L.name,description:L.description,rowIds:L.rowIds});if(!W.ok)throw new Error("Failed to update custom table");return W.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/custom-tables"]}),o(!1),l(null),d(""),u(""),t(new Set),k({title:"Custom table updated!",description:"Your custom table has been updated successfully."})},onError:()=>{k({title:"Error",description:"Failed to update custom table. Please try again.",variant:"destructive"})}}),B=De({mutationFn:async L=>{if(!(await Be("DELETE",`/api/custom-tables/${L}`)).ok)throw new Error("Failed to delete custom table")},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/custom-tables"]}),k({title:"Table deleted",description:"Custom table has been deleted."})},onError:()=>{k({title:"Error",description:"Failed to delete custom table.",variant:"destructive"})}}),F=L=>{const W=new Set(e);W.has(L)?W.delete(L):W.add(L),t(W)},_=()=>{if(!c.trim()){k({title:"Name required",description:"Please enter a table name.",variant:"destructive"});return}if(e.size===0){k({title:"No locations selected",description:"Please select at least one location.",variant:"destructive"});return}U.mutate({name:c,description:h,rowIds:Array.from(e)})},O=async L=>{l(L),d(L.name),u(L.description||"");try{const P=await(await Be("GET",`/api/custom-tables/${L.id}/rows`)).json();t(new Set(P.map(ge=>ge.id))),o(!0)}catch{k({title:"Error",description:"Failed to load table data.",variant:"destructive"})}},ee=()=>{if(i){if(!c.trim()){k({title:"Name required",description:"Please enter a table name.",variant:"destructive"});return}if(e.size===0){k({title:"No locations selected",description:"Please select at least one location.",variant:"destructive"});return}me.mutate({id:i.id,name:c,description:h,rowIds:Array.from(e)})}},H=async L=>{const W=`${window.location.origin}/custom/${L.shareId}`;try{await navigator.clipboard.writeText(W),b(L.id),f(W),k({title:"Link copied!",description:"Share link copied to clipboard."}),setTimeout(()=>b(""),2e3)}catch{k({title:"Error",description:"Failed to copy link.",variant:"destructive"})}};return s.jsxs("div",{className:"animate-in fade-in duration-300",children:[s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b-2 border-blue-500/50 dark:border-blue-400/50 bg-gradient-to-r from-blue-500/10 via-blue-600/10 to-blue-700/10 dark:from-blue-500/20 dark:via-blue-600/20 dark:to-blue-700/20 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-lg shadow-blue-500/20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex h-14 items-center justify-between text-[12px]",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[s.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg overflow-hidden",children:s.jsx("img",{src:"/assets/Logofm.png",alt:"Logo",className:"h-full w-full object-cover"})}),s.jsxs("div",{className:"flex flex-col gap-0 leading-tight",children:[s.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300 leading-none",style:{fontSize:"12px"},children:"Custom Tables"}),s.jsx("span",{className:"text-slate-400 dark:text-slate-500 leading-none my-0.5",style:{fontSize:"9px"},children:"Create table , select list and share"})]})]})}),s.jsxs(I,{onClick:()=>E("/"),variant:"outline",size:"sm",className:"btn-glass w-8 h-8 md:w-auto md:h-9 p-0 md:px-3 pagination-button group transition-all duration-300 ease-out hover:scale-110 hover:shadow-lg hover:shadow-blue-500/20 active:scale-95 active:shadow-none",title:"Back",children:[s.jsx(bu,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 transition-all duration-300"}),s.jsx("span",{className:"hidden md:inline ml-2 text-xs transition-all duration-300",children:"Back"})]})]})})}),s.jsx("main",{className:"min-h-screen bg-gray-50 dark:bg-black pt-[72px] pb-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:`text-sm ${a?"text-green-600 dark:text-green-400 font-semibold":"text-gray-600 dark:text-gray-400"}`,children:[e.size," location(s) selected"]}),s.jsxs(I,{onClick:()=>n(!0),disabled:e.size===0,className:`bg-transparent border border-gray-300 dark:border-gray-700 ${e.size>0?"text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/10":"text-gray-400 dark:text-gray-600"} disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors`,children:[s.jsx(Er,{className:"h-4 w-4 mr-2"}),"Create Custom Table"]})]}),s.jsxs("div",{className:"bg-white/90 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-300 dark:border-white/10 shadow-xl rounded-3xl overflow-hidden mb-8",children:[s.jsxs("div",{className:"p-6 pb-4 border-b border-gray-300 dark:border-white/10",children:[s.jsx("h2",{className:"text-sm font-semibold mb-4 bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Select Locations"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Pe,{placeholder:"Search locations...",value:g,onChange:L=>v(L.target.value),className:"max-w-sm bg-white dark:bg-black/20 border-gray-300 dark:border-white/20 text-sm h-8 shadow-sm"}),s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center px-3 bg-white dark:bg-black/20 rounded-md border border-gray-300 dark:border-white/20 shadow-sm font-medium",children:[e.size," selected"]})]})]}),s.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[600px] scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent",children:s.jsxs("table",{className:"w-full min-w-[600px]",children:[s.jsx("thead",{className:"bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-800/50 dark:to-slate-900/50 sticky top-0 z-10",children:s.jsxs("tr",{className:"border-b-2 border-gray-300 dark:border-white/10",children:[s.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold whitespace-nowrap",children:s.jsx(Vr,{checked:e.size===M.length&&M.length>0,onCheckedChange:L=>{t(L?new Set(M.map(W=>W.id)):new Set)}})}),s.jsx("th",{className:"px-2 py-2 text-center text-xs font-semibold whitespace-nowrap",children:"Route"}),s.jsx("th",{className:"px-2 py-2 text-center text-xs font-semibold whitespace-nowrap",children:"Code"}),s.jsx("th",{className:"px-4 py-2 text-center text-xs font-semibold whitespace-nowrap",children:"Location"}),s.jsx("th",{className:"px-4 py-2 text-center text-xs font-semibold whitespace-nowrap",children:"Delivery"})]})}),s.jsx("tbody",{children:M.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-12 text-center text-gray-600 dark:text-gray-400",children:g?"No locations found matching your search":"No locations available"})}):M.map((L,W)=>{const P=e.has(L.id);return s.jsxs("tr",{className:`custom-table-row border-b border-gray-200 dark:border-gray-900 hover:bg-blue-50 dark:hover:bg-blue-900/10 cursor-pointer ${P?"text-green-600 dark:text-green-400 font-semibold":"text-gray-900 dark:text-gray-100"}`,onClick:()=>F(L.id),children:[s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsx(Vr,{checked:P,onCheckedChange:()=>F(L.id),onClick:ge=>ge.stopPropagation()})}),s.jsx("td",{className:`px-2 py-2 text-xs whitespace-nowrap text-center ${P?"font-semibold":""}`,children:L.route}),s.jsx("td",{className:`px-2 py-2 text-xs whitespace-nowrap text-center ${P?"font-semibold":""}`,children:L.code}),s.jsx("td",{className:`px-4 py-2 text-xs whitespace-nowrap text-center ${P?"font-semibold":""}`,children:L.location}),s.jsx("td",{className:`px-4 py-2 text-xs whitespace-nowrap text-center ${P?"font-semibold":""}`,children:L.delivery})]},L.id)})})]})}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-800/50 dark:to-slate-900/50 border-t border-gray-300 dark:border-white/10",children:s.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:["Showing ",M.length," of ",C.length," location(s)"]})})]}),s.jsxs("div",{className:"bg-white/90 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-300 dark:border-white/10 shadow-xl rounded-3xl p-6",children:[s.jsx("h6",{className:"font-semibold mb-4 text-gray-900 dark:text-white text-center",style:{fontSize:"12px"},children:"My Custom Tables"}),T.length===0?s.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 py-8",children:"No custom tables yet. Create one to get started!"}):s.jsx("div",{className:"space-y-4",children:T.map(L=>s.jsxs("div",{className:"custom-table-card flex items-center justify-between p-4 bg-transparent rounded-xl border border-gray-300 dark:border-gray-800/40 hover:bg-gray-50 dark:hover:bg-white/5",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-[12px]",children:L.name}),L.description&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.description}),s.jsxs("p",{className:"text-gray-500 dark:text-gray-500 mt-1",style:{fontSize:"10px"},children:["Created ",new Date(L.createdAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(I,{onClick:()=>H(L),size:"sm",variant:"outline",className:"bg-transparent border-transparent hover:bg-blue-500/10",title:"Copy share link",children:x===L.id?s.jsx(Sr,{className:"h-4 w-4 text-green-500"}):s.jsx(ha,{className:"h-4 w-4"})}),s.jsx(I,{onClick:()=>window.open(`/custom/${L.shareId}`,"_blank"),size:"sm",variant:"outline",className:"bg-transparent border-transparent hover:bg-blue-500/10",children:"View"}),s.jsx(I,{onClick:()=>O(L),size:"sm",variant:"outline",className:"bg-transparent border-transparent hover:bg-green-500/10 text-green-600",title:"Edit locations",children:s.jsx(hi,{className:"h-4 w-4"})}),s.jsx(I,{onClick:()=>B.mutate(L.id),size:"sm",variant:"outline",className:"bg-transparent border-transparent hover:bg-red-500/10 text-red-500",title:"Delete table",children:s.jsx(es,{className:"h-4 w-4"})})]})]},L.id))})]}),s.jsx(ze,{open:r,onOpenChange:n,children:s.jsxs(Ae,{className:"bg-white/90 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-300 dark:border-white/10 shadow-xl rounded-3xl",style:{maxHeight:"min(80vh, calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 40px))",touchAction:"pan-y"},children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 border-0 shadow-inner",style:{backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)"}}),s.jsxs(Oe,{className:"relative z-10",style:{paddingTop:"max(1.5rem, env(safe-area-inset-top))"},children:[s.jsx(Le,{children:"Create Custom Table"}),s.jsx(Ke,{children:"Enter a name and optional description for your custom table."})]}),s.jsxs("div",{className:"space-y-4 py-4 relative z-10",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Table Name *"}),s.jsx(Pe,{value:c,onChange:L=>d(L.target.value),placeholder:"e.g., Weekend Deliveries",className:"bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Description (optional)"}),s.jsx(Pe,{value:h,onChange:L=>u(L.target.value),placeholder:"Add a description...",className:"bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent"})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.size," location(s) will be included in this table"]})]}),s.jsxs(Qe,{className:"relative z-10",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:[s.jsx(I,{variant:"outline",onClick:()=>n(!1),className:"bg-transparent border-transparent text-red-500 hover:bg-red-500/10",children:"Cancel"}),s.jsx(I,{onClick:_,disabled:U.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:U.isPending?"Creating...":"Create Table"})]})]})}),s.jsx(ze,{open:a,onOpenChange:L=>{o(L),L||(l(null),d(""),u(""),t(new Set))},children:s.jsxs(Ae,{className:"bg-white/90 dark:bg-black/30 backdrop-blur-2xl border-2 border-gray-300 dark:border-white/10 shadow-xl rounded-3xl max-h-[80vh] overflow-y-auto",style:{maxHeight:"min(80vh, calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 40px))",touchAction:"pan-y"},children:[s.jsx("div",{className:"absolute inset-0 -z-10 rounded-3xl bg-gradient-to-br from-white/60 via-white/40 to-white/50 dark:from-black/40 dark:via-black/20 dark:to-black/30 border-0 shadow-inner",style:{backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)"}}),s.jsxs(Oe,{className:"relative z-10",style:{paddingTop:"max(1.5rem, env(safe-area-inset-top))"},children:[s.jsx(Le,{children:"Edit Custom Table"}),s.jsx(Ke,{children:"Update name, description, or add/remove locations."})]}),s.jsxs("div",{className:"space-y-4 py-4 relative z-10",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Table Name *"}),s.jsx(Pe,{value:c,onChange:L=>d(L.target.value),placeholder:"e.g., Weekend Deliveries",className:"bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Description (optional)"}),s.jsx(Pe,{value:h,onChange:L=>u(L.target.value),placeholder:"Add a description...",className:"bg-white/10 dark:bg-black/10 backdrop-blur-sm border-transparent"})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.size," location(s) selected"]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 max-h-[300px] overflow-y-auto",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Select Locations:"}),M.map(L=>s.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded cursor-pointer",children:[s.jsx(Vr,{checked:e.has(L.id),onCheckedChange:()=>F(L.id)}),s.jsxs("span",{className:"text-sm",children:[L.location," (",L.route,")"]})]},L.id))]})]}),s.jsxs(Qe,{className:"relative z-10",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:[s.jsx(I,{variant:"outline",onClick:()=>o(!1),className:"bg-transparent border-transparent text-red-500 hover:bg-red-500/10",children:"Cancel"}),s.jsx(I,{onClick:ee,disabled:me.isPending,className:"bg-green-600 hover:bg-green-700 text-white",children:me.isPending?"Updating...":"Update Table"})]})]})})]})}),s.jsx(kn,{})]})}function X2(){const[,e]=Od("/custom/:shareId"),t=e==null?void 0:e.shareId,{columns:r,isLoading:n}=xi(),{data:a,isLoading:o,error:i}=qt({queryKey:[`/api/custom-tables/share/${t}`],enabled:!!t}),{data:l=[],isLoading:c}=qt({queryKey:[`/api/custom-tables/${a==null?void 0:a.id}/rows`],enabled:!!(a!=null&&a.id)}),[d,h]=p.useState(""),[u,m]=p.useState([]),[f,x]=p.useState([]),[b,g]=p.useState(null),{filteredRows:v,displayColumns:y,deliveryOptions:w}=p.useMemo(()=>{if(l.length===0||r.length===0)return{filteredRows:l,displayColumns:r,deliveryOptions:[]};const F=Array.from(new Set(l.map(W=>W.delivery).filter(Boolean)));let _=[...l];const O=new Date().getDay(),ee=[1,3,5,0].includes(O),H=[2,4,6].includes(O);_=_.sort((W,P)=>{const ge=W.deliveryAlt||"normal",oe=P.deliveryAlt||"normal";if(ge==="inactive"&&oe!=="inactive")return 1;if(ge!=="inactive"&&oe==="inactive")return-1;if(ee){if((ge==="alt1"||ge==="normal")&&oe==="alt2")return-1;if(ge==="alt2"&&(oe==="alt1"||oe==="normal"))return 1}else if(H){if((ge==="alt2"||ge==="normal")&&oe==="alt1")return-1;if(ge==="alt1"&&(oe==="alt2"||oe==="normal"))return 1}return 0}),f.length>0&&(_=_.filter(W=>f.includes(W.route))),d&&(_=_.filter(W=>Object.values(W).some(P=>String(P).toLowerCase().includes(d.toLowerCase())))),u.length>0&&(_=_.filter(W=>!u.includes(W.delivery)));const L=r.filter(W=>W.dataKey!=="latitude"&&W.dataKey!=="longitude"&&W.dataKey!=="tollPrice");return{filteredRows:_,displayColumns:L,deliveryOptions:F}},[l,r,d,u,f]),k=p.useMemo(()=>{const F=l.find(H=>H.location==="QL Kitchen");if(!F||!F.latitude||!F.longitude)return v.map(H=>({...H,kilometer:"",segmentDistance:0}));const _=parseFloat(F.latitude),O=parseFloat(F.longitude);if(!Number.isFinite(_)||!Number.isFinite(O))return v.map(H=>({...H,kilometer:"",segmentDistance:0}));if(d!==""||f.length>0||u.length>0){let H=0,L=_,W=O;return v.map(P=>{if(P.location==="QL Kitchen")return H=0,L=_,W=O,{...P,kilometer:0,segmentDistance:0};if(!P.latitude||!P.longitude)return{...P,kilometer:"",segmentDistance:0};const ge=parseFloat(P.latitude),oe=parseFloat(P.longitude);if(!Number.isFinite(ge)||!Number.isFinite(oe))return{...P,kilometer:"",segmentDistance:0};const he=Ss(L,W,ge,oe);return H+=he,L=ge,W=oe,{...P,kilometer:H,segmentDistance:he}})}else return v.map(H=>{if(H.location==="QL Kitchen")return{...H,kilometer:0,segmentDistance:0};if(!H.latitude||!H.longitude)return{...H,kilometer:"",segmentDistance:0};const L=parseFloat(H.latitude),W=parseFloat(H.longitude);if(!Number.isFinite(L)||!Number.isFinite(W))return{...H,kilometer:"",segmentDistance:0};const P=Ss(_,O,L,W);return{...H,kilometer:P,segmentDistance:P}})},[l,v,d,f,u]),j=De({mutationFn:async F=>(console.log("Read-only mode: Changes not saved",F),F)}),E=De({mutationFn:async F=>{console.log("Read-only mode: Delete not allowed",F)}}),C=De({mutationFn:async F=>F.map(O=>l.find(ee=>ee.id===O)).filter(O=>O!==void 0)}),D=De({mutationFn:async F=>F.map(O=>r.find(ee=>ee.id===O)).filter(O=>O!==void 0)}),T=De({mutationFn:async F=>{console.log("Read-only mode: Column delete not allowed",F)}}),$=()=>{h(""),m([])},[M,U]=ke.useState(!1),[me,B]=ke.useState(!1);return ke.useEffect(()=>{if(sessionStorage.getItem("routevm_loaded")){B(!1);const _=setTimeout(()=>{U(!0)},1e3);return()=>clearTimeout(_)}else{B(!0);const _=setTimeout(()=>{U(!0),sessionStorage.setItem("routevm_loaded","true")},5e3);return()=>clearTimeout(_)}},[]),ke.useEffect(()=>{const F=()=>{sessionStorage.removeItem("routevm_loaded")},_=()=>{document.hidden&&sessionStorage.removeItem("routevm_loaded")};return window.addEventListener("beforeunload",F),document.addEventListener("visibilitychange",_),()=>{window.removeEventListener("beforeunload",F),document.removeEventListener("visibilitychange",_)}},[]),n||o||c||!M?s.jsx("div",{className:"min-h-screen relative",children:me?s.jsx(qi,{message:"Loading Custom Table...",type:"ripple"}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Loading..."})]})})}):i||!a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex h-16 w-16 mx-auto items-center justify-center rounded-lg bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400",children:s.jsx(mi,{className:"h-8 w-8"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Custom Table Not Found"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"The custom table you're looking for doesn't exist or has been removed."})]})}):s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b-2 border-blue-500/50 dark:border-blue-400/50 bg-gradient-to-r from-blue-500/10 via-blue-600/10 to-blue-700/10 dark:from-blue-500/20 dark:via-blue-600/20 dark:to-blue-700/20 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-lg shadow-blue-500/20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex h-14 items-center justify-between text-[12px]",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg overflow-hidden",children:s.jsx("img",{src:"/assets/Logofm.png",alt:"Logo",className:"h-full w-full object-cover"})}),s.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300 text-[12px]",children:a.name})]})}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Custom Table View"})]})})}),s.jsx("main",{className:"pt-[56px]",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(Hi,{rows:k,columns:y,editMode:!1,isSharedView:!0,hideShareButton:!0,disablePagination:!0,onUpdateRow:j,onDeleteRow:E,onReorderRows:C,onReorderColumns:D,onDeleteColumn:T,onSelectRowForImage:g,onShowCustomization:()=>{},onOptimizeRoute:()=>{},isAuthenticated:!1,searchTerm:d,onSearchTermChange:h,filterValue:[],onFilterValueChange:()=>{},deliveryFilterValue:u,onDeliveryFilterValueChange:m,routeOptions:[],deliveryOptions:w,onClearAllFilters:$,filteredRowsCount:k.length,totalRowsCount:l.length})})}),s.jsx(kn,{editMode:!1})]})}function J2(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var nl="ScrollArea",[tf,PC]=Jt(nl),[Z2,_t]=tf(nl),rf=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,c]=p.useState(null),[d,h]=p.useState(null),[u,m]=p.useState(null),[f,x]=p.useState(null),[b,g]=p.useState(null),[v,y]=p.useState(0),[w,k]=p.useState(0),[j,E]=p.useState(!1),[C,D]=p.useState(!1),T=ot(t,M=>c(M)),$=ei(a);return s.jsx(Z2,{scope:r,type:n,dir:$,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:h,content:u,onContentChange:m,scrollbarX:f,onScrollbarXChange:x,scrollbarXEnabled:j,onScrollbarXEnabledChange:E,scrollbarY:b,onScrollbarYChange:g,scrollbarYEnabled:C,onScrollbarYEnabledChange:D,onCornerWidthChange:y,onCornerHeightChange:k,children:s.jsx(Ge.div,{dir:$,...i,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});rf.displayName=nl;var sf="ScrollAreaViewport",nf=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...o}=e,i=_t(sf,r),l=p.useRef(null),c=ot(t,l,i.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ge.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});nf.displayName=sf;var Zt="ScrollAreaScrollbar",al=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_t(Zt,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?s.jsx(eC,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(tC,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(af,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(ol,{...n,ref:t}):null});al.displayName=Zt;var eC=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_t(Zt,e.__scopeScrollArea),[o,i]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Ht,{present:r||o,children:s.jsx(af,{"data-state":o?"visible":"hidden",...n,ref:t})})}),tC=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_t(Zt,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Ra(()=>c("SCROLL_END"),100),[l,c]=J2("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),p.useEffect(()=>{const d=a.viewport,h=o?"scrollLeft":"scrollTop";if(d){let u=d[h];const m=()=>{const f=d[h];u!==f&&(c("SCROLL"),i()),u=f};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,o,c,i]),s.jsx(Ht,{present:r||l!=="hidden",children:s.jsx(ol,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ne(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ne(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),af=p.forwardRef((e,t)=>{const r=_t(Zt,e.__scopeScrollArea),{forceMount:n,...a}=e,[o,i]=p.useState(!1),l=e.orientation==="horizontal",c=Ra(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?d:h)}},10);return Es(r.viewport,c),Es(r.content,c),s.jsx(Ht,{present:n||o,children:s.jsx(ol,{"data-state":o?"visible":"hidden",...a,ref:t})})}),ol=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=_t(Zt,e.__scopeScrollArea),o=p.useRef(null),i=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=uf(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function u(m,f){return iC(m,i.current,l,f)}return r==="horizontal"?s.jsx(rC,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const m=a.viewport.scrollLeft,f=Mc(m,l,a.dir);o.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=u(m,a.dir))}}):r==="vertical"?s.jsx(sC,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const m=a.viewport.scrollTop,f=Mc(m,l);o.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=u(m))}}):null}),rC=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,o=_t(Zt,e.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),d=ot(t,c,o.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(lf,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ea(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,u)=>{if(o.viewport){const m=o.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),hf(m,u)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:na(i.paddingLeft),paddingEnd:na(i.paddingRight)}})}})}),sC=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,o=_t(Zt,e.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),d=ot(t,c,o.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(lf,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ea(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,u)=>{if(o.viewport){const m=o.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),hf(m,u)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:na(i.paddingTop),paddingEnd:na(i.paddingBottom)}})}})}),[nC,of]=tf(Zt),lf=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:u,...m}=e,f=_t(Zt,r),[x,b]=p.useState(null),g=ot(t,T=>b(T)),v=p.useRef(null),y=p.useRef(""),w=f.viewport,k=n.content-n.viewport,j=Ut(h),E=Ut(c),C=Ra(u,10);function D(T){if(v.current){const $=T.clientX-v.current.left,M=T.clientY-v.current.top;d({x:$,y:M})}}return p.useEffect(()=>{const T=$=>{const M=$.target;(x==null?void 0:x.contains(M))&&j($,k)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,x,k,j]),p.useEffect(E,[n,E]),Es(x,C),Es(f.content,C),s.jsx(nC,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:Ut(o),onThumbPointerUp:Ut(i),onThumbPositionChange:E,onThumbPointerDown:Ut(l),children:s.jsx(Ge.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:Ne(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),v.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),D(T))}),onPointerMove:Ne(e.onPointerMove,D),onPointerUp:Ne(e.onPointerUp,T=>{const $=T.target;$.hasPointerCapture(T.pointerId)&&$.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=y.current,f.viewport&&(f.viewport.style.scrollBehavior=""),v.current=null})})})}),sa="ScrollAreaThumb",cf=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=of(sa,e.__scopeScrollArea);return s.jsx(Ht,{present:r||a.hasThumb,children:s.jsx(aC,{ref:t,...n})})}),aC=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,o=_t(sa,r),i=of(sa,r),{onThumbPositionChange:l}=i,c=ot(t,u=>i.onThumbChange(u)),d=p.useRef(void 0),h=Ra(()=>{d.current&&(d.current(),d.current=void 0)},100);return p.useEffect(()=>{const u=o.viewport;if(u){const m=()=>{if(h(),!d.current){const f=lC(u,l);d.current=f,l()}};return l(),u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[o.viewport,h,l]),s.jsx(Ge.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ne(e.onPointerDownCapture,u=>{const f=u.target.getBoundingClientRect(),x=u.clientX-f.left,b=u.clientY-f.top;i.onThumbPointerDown({x,y:b})}),onPointerUp:Ne(e.onPointerUp,i.onThumbPointerUp)})});cf.displayName=sa;var il="ScrollAreaCorner",df=p.forwardRef((e,t)=>{const r=_t(il,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(oC,{...e,ref:t}):null});df.displayName=il;var oC=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=_t(il,r),[o,i]=p.useState(0),[l,c]=p.useState(0),d=!!(o&&l);return Es(a.scrollbarX,()=>{var u;const h=((u=a.scrollbarX)==null?void 0:u.offsetHeight)||0;a.onCornerHeightChange(h),c(h)}),Es(a.scrollbarY,()=>{var u;const h=((u=a.scrollbarY)==null?void 0:u.offsetWidth)||0;a.onCornerWidthChange(h),i(h)}),d?s.jsx(Ge.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function na(e){return e?parseInt(e,10):0}function uf(e,t){const r=e/t;return isNaN(r)?0:r}function Ea(e){const t=uf(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function iC(e,t,r,n="ltr"){const a=Ea(r),o=a/2,i=t||o,l=a-i,c=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,u=n==="ltr"?[0,h]:[h*-1,0];return mf([c,d],u)(e)}function Mc(e,t,r="ltr"){const n=Ea(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,i]:[i*-1,0],d=y0(e,c);return mf([0,i],[0,l])(d)}function mf(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function hf(e,t){return e>0&&e<t}var lC=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Ra(e,t){const r=Ut(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Es(e,t){const r=Ut(t);Qc(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var pf=rf,cC=nf,dC=df;const ff=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(pf,{ref:n,className:Z("relative overflow-hidden",e),...r,children:[s.jsx(cC,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(gf,{}),s.jsx(dC,{})]}));ff.displayName=pf.displayName;const gf=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(al,{ref:n,orientation:t,className:Z("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(cf,{className:"relative flex-1 rounded-full bg-border"})}));gf.displayName=al.displayName;function uC(){return s.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-slate-50 via-slate-100 to-slate-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950",children:[s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b-2 border-blue-500/50 dark:border-blue-400/50 bg-gradient-to-r from-blue-500/10 via-blue-600/10 to-blue-700/10 dark:from-blue-500/20 dark:via-blue-600/20 dark:to-blue-700/20 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-lg shadow-blue-500/20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex h-14 items-center justify-between text-[12px]",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[s.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg overflow-hidden",children:s.jsx("img",{src:"/assets/Logofm.png",alt:"Logo",className:"h-full w-full object-cover"})}),s.jsxs("div",{className:"flex flex-col gap-0 leading-tight",children:[s.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300 leading-none",style:{fontSize:"12px"},children:"User Guide"}),s.jsx("span",{className:"text-slate-400 dark:text-slate-500 leading-none my-0.5",style:{fontSize:"9px"},children:"Complete guide and documentation"})]})]})}),s.jsx(rg,{href:"/",children:s.jsxs(I,{variant:"outline",size:"sm",className:"gap-2 h-9",children:[s.jsx(jx,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Back"})]})})]})})}),s.jsx("div",{className:"pt-16 pb-0 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(ja,{className:"bg-white/70 dark:bg-slate-900/50 border-slate-300 dark:border-slate-800 backdrop-blur-sm",children:[s.jsx(Fh,{children:s.jsxs(_h,{className:"text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[s.jsx(mi,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Welcome to the Route Management System"]})}),s.jsx(Na,{children:s.jsx(ff,{className:"h-[calc(100vh-200px)] pr-4",children:s.jsxs("div",{className:"space-y-6 text-slate-700 dark:text-slate-300 leading-relaxed text-sm",children:[s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-3 flex items-center gap-2",children:[s.jsx(vu,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),"What is This App?"]}),s.jsx("p",{className:"text-sm",children:"This is a comprehensive delivery route management system designed to help you efficiently manage delivery location data. You can organize, edit, and optimize delivery routes with ease using an interactive drag-and-drop interface. The system is built to streamline your logistics operations and improve delivery efficiency."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-3",children:"Key Features"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(Ru,{className:"h-4 w-4"}),"1. Table Management"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:"Add, edit, and delete location data rows"}),s.jsx("li",{children:"Drag-and-drop to reorder entries"}),s.jsx("li",{children:"Show/hide columns based on your needs"}),s.jsx("li",{children:"Search and filter to quickly find data"}),s.jsx("li",{children:"Real-time calculations and statistics"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(Mx,{className:"h-4 w-4"}),"2. Edit Mode"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:'Click the menu button () and select "Enter Edit Mode"'}),s.jsx("li",{children:"Add, modify, or delete data while in edit mode"}),s.jsx("li",{children:"Drag-and-drop to rearrange columns"}),s.jsx("li",{children:"Customize marker colors for map visualization"}),s.jsx("li",{children:'Click "Exit Edit Mode" when finished'})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(Un,{className:"h-4 w-4"}),"3. Route Optimization"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:'Click "Optimize Route" to calculate optimal delivery sequences'}),s.jsx("li",{children:"System automatically calculates distances and arranges the shortest routes"}),s.jsx("li",{children:"Supports Heavy Goods Vehicle (HGV/Lorry) routing profiles"}),s.jsx("li",{children:"View distances in kilometers from your base location (QL Kitchen)"}),s.jsx("li",{children:"Batch processing with intelligent rate limiting"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(Ix,{className:"h-4 w-4"}),"4. Map View"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:"Click the info icon () to view locations on the map"}),s.jsx("li",{children:"Marker colors can be customized in edit mode"}),s.jsx("li",{children:"Fullscreen map view for better visualization"}),s.jsx("li",{children:"Automatic route calculation from base location"}),s.jsx("li",{children:"Interactive markers with location details"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(Zr,{className:"h-4 w-4"}),"5. Image Gallery"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:"Upload images for each location"}),s.jsx("li",{children:"Support for multiple images per location"}),s.jsx("li",{children:"Lightbox view to see images in full size"}),s.jsx("li",{children:"Upload from your device or enter image URLs"}),s.jsx("li",{children:"Support for various image formats and large files"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(Wx,{className:"h-4 w-4"}),"6. Delivery Alternate System"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:"4 delivery states: Normal, Alt 1, Alt 2, Inactive"}),s.jsx("li",{children:"Alt 1: Deliveries on Monday/Wednesday/Friday/Sunday"}),s.jsx("li",{children:"Alt 2: Deliveries on Tuesday/Thursday/Saturday"}),s.jsx("li",{children:"Automatic sorting based on current day"}),s.jsx("li",{children:"Color-coded visual indicators for each state"}),s.jsx("li",{children:"Off-schedule entries displayed with reduced brightness"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2 text-sm",children:[s.jsx(ha,{className:"h-4 w-4"}),"7. Share Table"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:'Click "Share Table" to generate a shareable link'}),s.jsx("li",{children:"Save links with custom names for easy reference"}),s.jsx("li",{children:"Share links with team members for view-only access"}),s.jsx("li",{children:"Access saved links from the menu"}),s.jsx("li",{children:"Shared tables maintain your current filters and column visibility"})]})]})]})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-3 flex items-center gap-2",children:[s.jsx(Ex,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),"Usage Tips"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4 text-sm",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Default Columns:"}),' By default, only 4 columns are displayed (No, Code, Location, Delivery). Use "Show/Hide Columns" to toggle additional columns.']}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Drag Handle:"})," Use the drag icon () on the left side of each row to drag-and-drop and reorder entries."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Search:"})," Use the search box to quickly find data. Search works across all visible columns."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Filters:"})," Filter by Route or Delivery status using the dropdown filters for focused views."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Calculations:"}),' The "Totals" row at the bottom automatically calculates sum/count based on visible data (after filters/search).']}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Inactive Rows:"})," Toggle the active/inactive state to temporarily hide locations. Inactive rows automatically sort to the bottom."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Header Content:"})," Slide left/right to view different header pages if multiple pages are configured."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Layout Preferences:"})," Your column visibility and order preferences are saved per user and persist across sessions."]})]})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-3 flex items-center gap-2",children:[s.jsx(zx,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),"Getting Started"]}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-4 text-sm",children:[s.jsx("li",{children:"Browse the existing table data to familiarize yourself with the interface"}),s.jsx("li",{children:"Use search and filters to explore the data"}),s.jsx("li",{children:"Click the menu button () to access additional options"}),s.jsx("li",{children:"Enter Edit Mode to make changes to the data"}),s.jsx("li",{children:"Try drag-and-drop to reorder rows and customize your view"}),s.jsx("li",{children:"Click the info icon () to view locations on the map"}),s.jsx("li",{children:'Use "Optimize Route" to calculate efficient delivery sequences'}),s.jsx("li",{children:"Exit Edit Mode when you're done making changes"})]})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-3 flex items-center gap-2",children:[s.jsx(Cx,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"}),"Keyboard Shortcuts"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsxs("li",{children:[s.jsx("kbd",{className:"px-2 py-1 text-xs bg-slate-800 rounded border border-slate-700",children:"Esc"})," - Close modal/dialog windows"]}),s.jsxs("li",{children:[s.jsx("kbd",{className:"px-2 py-1 text-xs bg-slate-800 rounded border border-slate-700",children:"Enter"})," - Submit forms and confirm actions"]})]})]}),s.jsxs("section",{className:"bg-blue-500/10 dark:bg-blue-500/10 border border-blue-500/30 dark:border-blue-500/20 rounded-lg p-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-blue-700 dark:text-blue-400 mb-2 flex items-center gap-2",children:[s.jsx(ku,{className:"h-4 w-4"}),"Important Notes"]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Route Optimization:"})," Uses OpenRouteService API for commercial vehicle routing"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Toll Information:"})," Toll prices are not available and will display as 0"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Rate Limits:"})," Free tier allows 40 requests per minute, 2000 requests per day"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Batch Processing:"})," For routes with many locations, the system processes requests sequentially to respect rate limits"]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold",children:"Data Privacy:"})," Your layout preferences and settings are stored locally per user"]})]})]}),s.jsxs("section",{className:"bg-green-500/10 dark:bg-green-500/10 border border-green-500/30 dark:border-green-500/20 rounded-lg p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-green-700 dark:text-green-400 mb-2",children:"Best Practices"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-sm",children:[s.jsx("li",{children:'Regularly save your work using the "Save Layout" option'}),s.jsx("li",{children:"Use descriptive names when saving share links for easy identification"}),s.jsx("li",{children:"Keep location coordinates accurate for optimal route calculations"}),s.jsx("li",{children:"Use the delivery alternate system to organize regular delivery schedules"}),s.jsx("li",{children:"Take advantage of filters to focus on specific routes or delivery types"})]})]}),s.jsxs("section",{children:[s.jsx("p",{className:"text-center text-slate-600 dark:text-slate-400 italic mt-8 text-sm",children:"For technical support or questions, please contact your system administrator."}),s.jsx("p",{className:"text-center text-slate-500 dark:text-slate-500 text-xs mt-4 mb-0",children:"Route Management System  Version 1.0.0"})]})]})})})]})}),s.jsx(kn,{})]})}function mC(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(ja,{className:"w-full max-w-md mx-4",children:s.jsxs(Na,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(ku,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function hC(){return s.jsx("div",{className:"min-h-screen pb-16 text-sm bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-black dark:via-gray-900 dark:to-black",children:s.jsxs(sg,{children:[s.jsx(Xr,{path:"/",children:()=>s.jsx(K2,{})}),s.jsx(Xr,{path:"/share/:shareId",children:()=>s.jsx(Q2,{})}),s.jsx(Xr,{path:"/custom-tables",children:()=>s.jsx(Y2,{})}),s.jsx(Xr,{path:"/custom/:shareId",children:()=>s.jsx(X2,{})}),s.jsx(Xr,{path:"/help",children:()=>s.jsx(uC,{})}),s.jsx(Xr,{component:mC})]})})}function pC(){return s.jsx(jg,{client:kr,children:s.jsx(Xb,{children:s.jsxs(Qb,{children:[s.jsx(Ib,{}),s.jsx(hC,{})]})})})}Nd(document.getElementById("root")).render(s.jsx(pC,{}));
